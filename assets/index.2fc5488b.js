var Fa=Object.defineProperty,Ja=Object.defineProperties;var Ga=Object.getOwnPropertyDescriptors;var Io=Object.getOwnPropertySymbols;var ja=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable;var Ko=(i,t,e)=>t in i?Fa(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,T=(i,t)=>{for(var e in t||(t={}))ja.call(t,e)&&Ko(i,e,t[e]);if(Io)for(var e of Io(t))Ha.call(t,e)&&Ko(i,e,t[e]);return i},P=(i,t)=>Ja(i,Ga(t));const Ya=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}};Ya();function At(){}function na(i){return i()}function Vo(){return Object.create(null)}function Si(i){i.forEach(na)}function sa(i){return typeof i=="function"}function ra(i,t){return i!=i?t==t:i!==t||i&&typeof i=="object"||typeof i=="function"}let ps;function Nt(i,t){return ps||(ps=document.createElement("a")),ps.href=t,i===ps.href}function Za(i){return Object.keys(i).length===0}function Ji(i,...t){if(i==null)return At;const e=i.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function at(i,t,e){i.$$.on_destroy.push(Ji(t,e))}function De(i,t,e){return i.set(e),t}function c(i,t){i.appendChild(t)}function ht(i,t,e){i.insertBefore(t,e||null)}function nt(i){i.parentNode.removeChild(i)}function bi(i,t){for(let e=0;e<i.length;e+=1)i[e]&&i[e].d(t)}function m(i){return document.createElement(i)}function fs(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function O(i){return document.createTextNode(i)}function M(){return O(" ")}function qa(){return O("")}function I(i,t,e,n){return i.addEventListener(t,e,n),()=>i.removeEventListener(t,e,n)}function f(i,t,e){e==null?i.removeAttribute(t):i.getAttribute(t)!==e&&i.setAttribute(t,e)}function Qa(i){return Array.from(i.childNodes)}function Z(i,t){t=""+t,i.wholeText!==t&&(i.data=t)}function mi(i,t,e,n){e===null?i.style.removeProperty(t):i.style.setProperty(t,e,n?"important":"")}class $a{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=m(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)ht(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(nt)}}let qi;function Gi(i){qi=i}function tl(){if(!qi)throw new Error("Function called outside component initialization");return qi}function el(i){tl().$$.on_mount.push(i)}const Ki=[],Fo=[],ks=[],Jo=[],il=Promise.resolve();let Sr=!1;function nl(){Sr||(Sr=!0,il.then(oa))}function wr(i){ks.push(i)}const rr=new Set;let ds=0;function oa(){const i=qi;do{for(;ds<Ki.length;){const t=Ki[ds];ds++,Gi(t),sl(t.$$)}for(Gi(null),Ki.length=0,ds=0;Fo.length;)Fo.pop()();for(let t=0;t<ks.length;t+=1){const e=ks[t];rr.has(e)||(rr.add(e),e())}ks.length=0}while(Ki.length);for(;Jo.length;)Jo.pop()();Sr=!1,rr.clear(),Gi(i)}function sl(i){if(i.fragment!==null){i.update(),Si(i.before_update);const t=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,t),i.after_update.forEach(wr)}}const rl=new Set;function ol(i,t){i&&i.i&&(rl.delete(i),i.i(t))}function hl(i,t,e,n){const{fragment:s,on_mount:r,on_destroy:o,after_update:h}=i.$$;s&&s.m(t,e),n||wr(()=>{const a=r.map(na).filter(sa);o?o.push(...a):Si(a),i.$$.on_mount=[]}),h.forEach(wr)}function al(i,t){const e=i.$$;e.fragment!==null&&(Si(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function ll(i,t){i.$$.dirty[0]===-1&&(Ki.push(i),nl(),i.$$.dirty.fill(0)),i.$$.dirty[t/31|0]|=1<<t%31}function ul(i,t,e,n,s,r,o,h=[-1]){const a=qi;Gi(i);const l=i.$$={fragment:null,ctx:null,props:r,update:At,not_equal:s,bound:Vo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Vo(),dirty:h,skip_bound:!1,root:t.target||a.$$.root};o&&o(l.root);let u=!1;if(l.ctx=e?e(i,t.props||{},(p,b,...y)=>{const v=y.length?y[0]:b;return l.ctx&&s(l.ctx[p],l.ctx[p]=v)&&(!l.skip_bound&&l.bound[p]&&l.bound[p](v),u&&ll(i,p)),b}):[],l.update(),u=!0,Si(l.before_update),l.fragment=n?n(l.ctx):!1,t.target){if(t.hydrate){const p=Qa(t.target);l.fragment&&l.fragment.l(p),p.forEach(nt)}else l.fragment&&l.fragment.c();t.intro&&ol(i.$$.fragment),hl(i,t.target,t.anchor,t.customElement),oa()}Gi(a)}class cl{$destroy(){al(this,1),this.$destroy=At}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const s=n.indexOf(e);s!==-1&&n.splice(s,1)}}$set(t){this.$$set&&!Za(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const li=[];function pl(i,t){return{subscribe:st(i,t).subscribe}}function st(i,t=At){let e;const n=new Set;function s(h){if(ra(i,h)&&(i=h,e)){const a=!li.length;for(const l of n)l[1](),li.push(l,i);if(a){for(let l=0;l<li.length;l+=2)li[l][0](li[l+1]);li.length=0}}}function r(h){s(h(i))}function o(h,a=At){const l=[h,a];return n.add(l),n.size===1&&(e=t(s)||At),h(i),()=>{n.delete(l),n.size===0&&(e(),e=null)}}return{set:s,update:r,subscribe:o}}function or(i,t,e){const n=!Array.isArray(i),s=n?[i]:i,r=t.length<2;return pl(e,o=>{let h=!1;const a=[];let l=0,u=At;const p=()=>{if(l)return;u();const y=t(n?a[0]:a,o);r?o(y):u=sa(y)?y:At},b=s.map((y,v)=>Ji(y,d=>{a[v]=d,l&=~(1<<v),h&&p()},()=>{l|=1<<v}));return h=!0,p(),function(){Si(b),u()}})}let fl=st({}),dl=st({}),bl=st({}),vl=st({}),yl=st({}),ml=st({}),gl=st({}),Sl=st({}),wl=st({}),_l=st({}),Tl=st({}),Dt=st({}),Pl=st({coinName:"BTC",buySelect:"upbitPrice",sellSelect:"binance",upbitPrice:{ask:0,bid:0},binancePrice:{ask:0,bid:0}}),Ht=st({upbit:0,bithumb:0,binance\uD604\uBB3C:0,binance\uC120\uBB3C:0,ftx:0,bybit:0,bybitPerp:0,okx:0,mexc:0}),Et=st({}),Yt=st({upbit:!1,bithumb:!1,binance\uD604\uBB3C:!1,binance\uC120\uBB3C:!1,ftx:!1,bybit:!1,bybitPerp:!1,kucoin:!1,okx:!1,mexc:!1}),Ds=st({krw:"upbitPrice",usd:"ftxSpotPrice"});const kl=st([{name:"BTC",name_kr:"\uBE44\uD2B8\uCF54\uC778",upbit:"KRW-BTC",bithumb:"BTC_KRW",binanceSpot:"BTCUSDT",binanceSpotDecimal:2,binancePerp:"BTCUSDT",binancePerpDecimal:2,ftxSpot:"BTC/USD",ftxPerp:"BTC-PERP",bybitSpot:"BTCUSDT",bybitPerp:"BTCUSDT",okxSpot:"BTC-USDT",okxPerp:"BTC-USDT-SWAP",mexcPerp:"BTC_USDT",bingX:"market.trade.detail.BTC-USDT",show:!0},{name:"ETH",name_kr:"\uC774\uB354\uB9AC\uC6C0",upbit:"KRW-ETH",bithumb:"ETH_KRW",binanceSpot:"ETHUSDT",binanceSpotDecimal:2,binancePerp:"ETHUSDT",binancePerpDecimal:2,ftxSpot:"ETH/USD",ftxPerp:"ETH-PERP",bybitSpot:"ETHUSDT",bybitPerp:"ETHUSDT",okxSpot:"ETH-USDT",okxPerp:"ETH-USDT-SWAP",mexcPerp:"ETH_USDT",bingX:"",show:!0},{name:"XRP",name_kr:"\uB9AC\uD50C",upbit:"KRW-XRP",bithumb:"XRP_KRW",binanceSpot:"XRPUSDT",binanceSpotDecimal:4,binancePerp:"XRPUSDT",binancePerpDecimal:4,ftxSpot:"XRP/USD",ftxPerp:"XRP-PERP",bybitSpot:"XRPUSDT",bybitPerp:"XRPUSDT",okxSpot:"XRP-USDT",okxPerp:"XRP-USDT-SWAP",mexcPerp:"XRP_USDT",bingX:"",show:!0},{name:"WAVES",name_kr:"\uC6E8\uC774\uBE0C",upbit:"KRW-WAVES",bithumb:"WAVES_KRW",binanceSpot:"WAVESUSDT",binanceSpotDecimal:2,binancePerp:"WAVESUSDT",binancePerpDecimal:2,ftxSpot:"WAVES/USD",ftxPerp:"WAVES-PERP",bybitSpot:"WAVESUSDT",bybitPerp:"WAVESUSDT",okxSpot:"WAVES-USDT",okxPerp:"WAVES-USDT-SWAP",mexcPerp:"",bingX:"",show:!0},{name:"AXS",name_kr:"\uC5D1\uC2DC\uC778\uD53C\uB2C8\uD2F0",upbit:"KRW-AXS",bithumb:"",binanceSpot:"AXSUSDT",binanceSpotDecimal:2,binancePerp:"AXSUSDT",binancePerpDecimal:2,ftxSpot:"AXS/USD",ftxPerp:"AXS-PERP",bybitSpot:"AXSUSDT",bybitPerp:"AXSUSDT",okxSpot:"AXS-USDT",okxPerp:"AXS-USDT-SWAP",mexcPerp:"AXS_USDT",bingX:"",show:!0},{name:"SOL",name_kr:"\uC194\uB77C\uB098",upbit:"KRW-SOL",bithumb:"SOL_KRW",binanceSpot:"SOLUSDT",binanceSpotDecimal:2,binancePerp:"SOLUSDT",binancePerpDecimal:2,ftxSpot:"SOL/USD",ftxPerp:"SOL-PERP",bybitSpot:"SOLUSDT",bybitPerp:"SOLUSDT",okxSpot:"SOL-USDT",okxPerp:"SOL-USDT-SWAP",mexcPerp:"SOL_USDT",bingX:"",show:!0},{name:"TRX",name_kr:"\uD2B8\uB860",upbit:"KRW-TRX",bithumb:"TRX_KRW",binanceSpot:"TRXUSDT",binanceSpotDecimal:2,binancePerp:"TRXUSDT",binancePerpDecimal:2,ftxSpot:"TRX/USD",ftxPerp:"TRX-PERP",bybitSpot:"TRXUSDT",bybitPerp:"TRXUSDT",okxSpot:"TRX-USDT",okxPerp:"TRX-USDT-SWAP",mexcPerp:"TRX_USDT",bingX:"",show:!0},{name:"EOS",name_kr:"\uC774\uC624\uC2A4",upbit:"KRW-EOS",bithumb:"EOS_KRW",binanceSpot:"EOSUSDT",binanceSpotDecimal:2,binancePerp:"EOSUSDT",binancePerpDecimal:2,ftxSpot:"EOS/USD",ftxPerp:"EOS-PERP",bybitSpot:"EOSUSDT",bybitPerp:"EOSUSDT",okxSpot:"EOS-USDT",okxPerp:"EOS-USDT-SWAP",mexcPerp:"EOS_USDT",bingX:"",show:!0},{name:"DOT",name_kr:"\uD3F4\uCE74\uB2F7",upbit:"KRW-DOT",bithumb:"DOT_KRW",binanceSpot:"DOTUSDT",binanceSpotDecimal:2,binancePerp:"DOTUSDT",binancePerpDecimal:2,ftxSpot:"DOT/USD",ftxPerp:"DOT-PERP",bybitSpot:"DOTUSDT",bybitPerp:"DOTUSDT",okxSpot:"DOT-USDT",okxPerp:"DOT-USDT-SWAP",mexcPerp:"DOT_USDT",bingX:"",show:!0},{name:"XLM",name_kr:"\uC2A4\uD154\uB77C\uB8E8\uBA58",upbit:"KRW-XLM",bithumb:"XLM_KRW",binanceSpot:"XLMUSDT",binanceSpotDecimal:2,binancePerp:"XLMUSDT",binancePerpDecimal:2,ftxSpot:"XLM/USD",ftxPerp:"XLM-PERP",bybitSpot:"XLMUSDT",bybitPerp:"XLMUSDT",okxSpot:"XLM-USDT",okxPerp:"XLM-USDT-SWAP",mexcPerp:"XLM_USDT",bingX:"",show:!0},{name:"DOGE",name_kr:"\uB3C4\uC9C0\uCF54\uC778",upbit:"KRW-DOGE",bithumb:"DOGE_KRW",binanceSpot:"DOGEUSDT",binanceSpotDecimal:2,binancePerp:"DOGEUSDT",binancePerpDecimal:2,ftxSpot:"DOGE/USD",ftxPerp:"DOGE-PERP",bybitSpot:"DOGEUSDT",bybitPerp:"DOGEUSDT",okxSpot:"DOGE-USDT",okxPerp:"DOGE-USDT-SWAP",mexcPerp:"DOGE_USDT",bingX:"",show:!0},{name:"GMT",name_kr:"\uC2A4\uD14C\uD508",upbit:"KRW-GMT",bithumb:"GMT_KRW",binanceSpot:"GMTUSDT",binanceSpotDecimal:2,binancePerp:"GMTUSDT",binancePerpDecimal:2,ftxSpot:"GMT/USD",ftxPerp:"GMT-PERP",bybitSpot:"GMTUSDT",bybitPerp:"GMTUSDT",okxSpot:"GMT-USDT",okxPerp:"GMT-USDT-SWAP",mexcPerp:"",bingX:"",show:!0},{name:"APE",name_kr:"APE",upbit:"",bithumb:"",binanceSpot:"APEUSDT",binanceSpotDecimal:2,binancePerp:"APEUSDT",binancePerpDecimal:2,ftxSpot:"APE/USD",ftxPerp:"APE-PERP",bybitSpot:"APEUSDT",bybitPerp:"APEUSDT",okxSpot:"APE-USDT",okxPerp:"APE-USDT-SWAP",mexcPerp:"APE_USDT",bingX:"",show:!0},{name:"ALGO",name_kr:"\uC54C\uACE0\uB79C\uB4DC",upbit:"KRW-ALGO",bithumb:"ALGO_KRW",binanceSpot:"ALGOUSDT",binanceSpotDecimal:4,binancePerp:"ALGOUSDT",binancePerpDecimal:"",ftxSpot:"ALGO/USD",ftxPerp:"ALGO-PERP",bybitSpot:"ALGOUSDT",bybitPerp:"ALGOUSDT",okxSpot:"ALGO-USDT",okxPerp:"ALGO-USDT-SWAP",mexcPerp:"ALGO_USDT",bingX:"",show:!0},{name:"JST",name_kr:"\uC800\uC2A4\uD2B8",upbit:"KRW-JST",bithumb:"JST_KRW",binanceSpot:"JSTUSDT",binanceSpotDecimal:5,binancePerp:"",binancePerpDecimal:"",ftxSpot:"JST/USD",ftxPerp:"",bybitSpot:"JSTUSDT",bybitPerp:"JSTUSDT",okxSpot:"JST-USDT",okxPerp:"JST-USDT-SWAP",mexcPerp:"JST_USDT",bingX:"",show:!0},{name:"ZIL",name_kr:"\uC9C8\uB9AC\uCE74",upbit:"KRW-ZIL",bithumb:"ZIL_KRW",binanceSpot:"ZILUSDT",binanceSpotDecimal:null,binancePerp:"ZILUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"ZIL-PERP",bybitSpot:"",bybitPerp:"ZILUSDT",okxSpot:"ZIL-USDT",okxPerp:"ZIL-USDT-SWAP",mexcPerp:"ZIL_USDT",bingX:"",show:!1},{name:"KNC",name_kr:"\uCE74\uC774\uBC84\uB124\uD2B8\uC6CC\uD06C",upbit:"KRW-KNC",bithumb:"KNC_KRW",binanceSpot:"KNCUSDT",binanceSpotDecimal:null,binancePerp:"KNCUSDT",binancePerpDecimal:"",ftxSpot:"KNC/USD",ftxPerp:"KNC-PERP",bybitSpot:"",bybitPerp:"KNCUSDT",okxSpot:"KNC-USDT",okxPerp:"KNC-USDT-SWAP",mexcPerp:"KNC_USDT",bingX:"",show:!1},{name:"CVC",name_kr:"\uC2DC\uBE45",upbit:"KRW-CVC",bithumb:"",binanceSpot:"CVCUSDT",binanceSpotDecimal:null,binancePerp:"CVCUSDT",binancePerpDecimal:"",ftxSpot:"CVC/USD",ftxPerp:"CVC-PERP",bybitSpot:"",bybitPerp:"CVCUSDT",okxSpot:"CVC-USDT",okxPerp:"CVC-USDT-SWAP",mexcPerp:"CVC_USDT",bingX:"",show:!1},{name:"NEAR",name_kr:"\uB2C8\uC5B4\uD504\uB85C\uD1A0\uCF5C",upbit:"KRW-NEAR",bithumb:"",binanceSpot:"NEARUSDT",binanceSpotDecimal:null,binancePerp:"NEARUSDT",binancePerpDecimal:"",ftxSpot:"NEAR/USD",ftxPerp:"NEAR-PERP",bybitSpot:"NEARUSDT",bybitPerp:"NEARUSDT",okxSpot:"NEAR-USDT",okxPerp:"NEAR-USDT-SWAP",mexcPerp:"NEAR_USDT",bingX:"",show:!0},{name:"ADA",name_kr:"\uC5D0\uC774\uB2E4",upbit:"KRW-ADA",bithumb:"ADA_KRW",binanceSpot:"ADAUSDT",binanceSpotDecimal:null,binancePerp:"ADAUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"ADA-PERP",bybitSpot:"ADAUSDT",bybitPerp:"ADAUSDT",okxSpot:"ADA-USDT",okxPerp:"ADA-USDT-SWAP",mexcPerp:"ADA_USDT",bingX:"",show:!0},{name:"SAND",name_kr:"\uC0CC\uB4DC\uBC15\uC2A4",upbit:"KRW-SAND",bithumb:"SAND_KRW",binanceSpot:"SANDUSDT",binanceSpotDecimal:null,binancePerp:"SANDUSDT",binancePerpDecimal:"",ftxSpot:"SAND/USD",ftxPerp:"SAND-PERP",bybitSpot:"SANDUSDT",bybitPerp:"SANDUSDT",okxSpot:"SAND-USDT",okxPerp:"SAND-USDT-SWAP",mexcPerp:"SAND_USDT",bingX:"",show:!1},{name:"ETC",name_kr:"\uC774\uB354\uB9AC\uC6C0\uD074\uB798\uC2DD",upbit:"KRW-ETC",bithumb:"ETC_KRW",binanceSpot:"ETCUSDT",binanceSpotDecimal:null,binancePerp:"ETCUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"ETC-PERP",bybitSpot:"",bybitPerp:"ETCUSDT",okxSpot:"ETC-USDT",okxPerp:"ETC-USDT-SWAP",mexcPerp:"ETC_USDT",bingX:"",show:!1},{name:"ZRX",name_kr:"\uC81C\uB85C\uC5D1\uC2A4",upbit:"KRW-ZRX",bithumb:"ZRX_KRW",binanceSpot:"ZRXUSDT",binanceSpotDecimal:null,binancePerp:"ZRXUSDT",binancePerpDecimal:"",ftxSpot:"ZRX/USD",ftxPerp:"ZRX-PERP",bybitSpot:"XRXUSDT",bybitPerp:"ZRXUSDT",okxSpot:"ZRX-USDT",okxPerp:"ZRX-USDT-SWAP",mexcPerp:"ZRX_USDT",bingX:"",show:!1},{name:"FLOW",name_kr:"\uD50C\uB85C\uC6B0",upbit:"KRW-FLOW",bithumb:"",binanceSpot:"FLOWUSDT",binanceSpotDecimal:null,binancePerp:"FLOWUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"FLOW-PERP",bybitSpot:"FLOWUSDT",bybitPerp:"FLOWUSDT",okxSpot:"FLOW-USDT",okxPerp:"FLOW-USDT-SWAP",mexcPerp:"FLOW_USDT",bingX:"",show:!1},{name:"IOST",name_kr:"\uC544\uC774\uC624\uC5D0\uC2A4\uD2F0",upbit:"KRW-IOST",bithumb:"IOST_KRW",binanceSpot:"IOSTUSDT",binanceSpotDecimal:null,binancePerp:"IOSTUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"IOST-PERP",bybitSpot:"",bybitPerp:"IOSTUSDT",okxSpot:"IOST-USDT",okxPerp:"IOST-USDT-SWAP",mexcPerp:"IOST_USDT",bingX:"",show:!1},{name:"ATOM",name_kr:"\uCF54\uC2A4\uBAA8\uC2A4",upbit:"KRW-ATOM",bithumb:"ATOM_KRW",binanceSpot:"ATOMUSDT",binanceSpotDecimal:null,binancePerp:"ATOMUSDT",binancePerpDecimal:"",ftxSpot:"ATOM/USD",ftxPerp:"ATOM-PERP",bybitSpot:"ATOMUSDT",bybitPerp:"ATOMUSDT",okxSpot:"ATOM-USDT",okxPerp:"ATOM-USDT-SWAP",mexcPerp:"ATOM_USDT",bingX:"",show:!0},{name:"1INCH",name_kr:"1\uC778\uCE58\uB124\uD2B8\uC6CC\uD06C",upbit:"KRW-1INCH",bithumb:"1INCH_KRW",binanceSpot:"1INCHUSDT",binanceSpotDecimal:null,binancePerp:"1INCHUSDT",binancePerpDecimal:"",ftxSpot:"1INCH/USD",ftxPerp:"1INCH-PERP",bybitSpot:"1INCHUSDT",bybitPerp:"1INCHUSDT",okxSpot:"1INCH-USDT",okxPerp:"1INCH-USDT-SWAP",mexcPerp:"1INCH_USDT",bingX:"",show:!1},{name:"XTZ",name_kr:"\uD14C\uC870\uC2A4",upbit:"KRW-XTZ",bithumb:"XTZ_KRW",binanceSpot:"XTZUSDT",binanceSpotDecimal:null,binancePerp:"XTZUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"XTZ-PERP",bybitSpot:"XTZUSDT",bybitPerp:"XTZUSDT",okxSpot:"XTZ-USDT",okxPerp:"XTZ-USDT-SWAP",mexcPerp:"XTZ_USDT",bingX:"",show:!1},{name:"MANA",name_kr:"\uB514\uC13C\uD2B8\uB7F4\uB79C\uB4DC",upbit:"KRW-MANA",bithumb:"MANA_KRW",binanceSpot:"MANAUSDT",binanceSpotDecimal:null,binancePerp:"MANAUSDT",binancePerpDecimal:"",ftxSpot:"MANA/USD",ftxPerp:"MANA-PERP",bybitSpot:"MANAUSDT",bybitPerp:"MANAUSDT",okxSpot:"MANA-USDT",okxPerp:"MANA-USDT-SWAP",mexcPerp:"MANA_USDT",bingX:"",show:!1},{name:"AVAX",name_kr:"\uC544\uBC1C\uB780\uCCB4",upbit:"KRW-AVAX",bithumb:"AVAX_KRW",binanceSpot:"AVAXUSDT",binanceSpotDecimal:null,binancePerp:"AVAXUSDT",binancePerpDecimal:"",ftxSpot:"AVAX/USD",ftxPerp:"AVAX-PERP",bybitSpot:"AVAXUSDT",bybitPerp:"AVAXUSDT",okxSpot:"AVAX-USDT",okxPerp:"AVAX-USDT-SWAP",mexcPerp:"AVAX_USDT",bingX:"",show:!0},{name:"MATIC",name_kr:"\uD3F4\uB9AC\uACE4",upbit:"KRW-MATIC",bithumb:"MATIC_KRW",binanceSpot:"MATICUSDT",binanceSpotDecimal:null,binancePerp:"MATICUSDT",binancePerpDecimal:"",ftxSpot:"MATIC/USD",ftxPerp:"MATIC-PERP",bybitSpot:"MATICUSDT",bybitPerp:"MATICUSDT",okxSpot:"MATIC-USDT",okxPerp:"MATIC-USDT-SWAP",mexcPerp:"MATIC_USDT",bingX:"",show:!0},{name:"LINK",name_kr:"\uCCB4\uC778\uB9C1\uD06C",upbit:"KRW-LINK",bithumb:"LINK_KRW",binanceSpot:"LINKUSDT",binanceSpotDecimal:null,binancePerp:"LINKUSDT",binancePerpDecimal:"",ftxSpot:"LINK/USD",ftxPerp:"LINK-PERP",bybitSpot:"LINKUSDT",bybitPerp:"LINKUSDT",okxSpot:"LINK-USDT",okxPerp:"LINK-USDT-SWAP",mexcPerp:"LINK_USDT",bingX:"",show:!1},{name:"ICX",name_kr:"\uC544\uC774\uCF58",upbit:"KRW-ICX",bithumb:"ICX_KRW",binanceSpot:"ICXUSDT",binanceSpotDecimal:null,binancePerp:"ICXUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"ICX-PERP",bybitSpot:"ICXUSDT",bybitPerp:"ICXUSDT",okxSpot:"ICX-USDT",okxPerp:"",mexcPerp:"ICX_USDT",bingX:"",show:!1},{name:"SRM",name_kr:"\uC138\uB7FC",upbit:"KRW-SRM",bithumb:"SRM_KRW",binanceSpot:"SRMUSDT",binanceSpotDecimal:null,binancePerp:"SRMUSDT",binancePerpDecimal:"",ftxSpot:"SRM/USD",ftxPerp:"SRM-PERP",bybitSpot:"SRMUSDT",bybitPerp:"SRMUSDT",okxSpot:"SRM-USDT",okxPerp:"SRM-USDT-SWAP",mexcPerp:"SRM_USDT",bingX:"",show:!1},{name:"STX",name_kr:"\uC2A4\uD14D\uC2A4",upbit:"KRW-STX",bithumb:"",binanceSpot:"STXUSDT",binanceSpotDecimal:null,binancePerp:"",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"STX-PERP",bybitSpot:"STXUSDT",bybitPerp:"STXUSDT",okxSpot:"STX-USDT",okxPerp:"",mexcPerp:"",bingX:"",show:!1},{name:"ENJ",name_kr:"\uC5D4\uC9C4\uCF54\uC778",upbit:"KRW-ENJ",bithumb:"ENJ_KRW",binanceSpot:"ENJUSDT",binanceSpotDecimal:null,binancePerp:"ENJUSDT",binancePerpDecimal:"",ftxSpot:"ENJ/USD",ftxPerp:"ENJ-PERP",bybitSpot:"ENJUSDT",bybitPerp:"ENJUSDT",okxSpot:"ENJ-USDT",okxPerp:"ENJ-USDT-SWAP",mexcPerp:"ENJ_USDT",bingX:"",show:!1},{name:"SXP",name_kr:"\uC194\uB77C",upbit:"KRW-SXP",bithumb:"SXP_KRW",binanceSpot:"SXPUSDT",binanceSpotDecimal:null,binancePerp:"SXPUSDT",binancePerpDecimal:"",ftxSpot:"SXP/USD",ftxPerp:"SXP-PERP",bybitSpot:"",bybitPerp:"SXPUSDT",okxSpot:"",okxPerp:"",mexcPerp:"SXP_USDT",bingX:"",show:!1},{name:"BAT",name_kr:"\uBCA0\uC774\uC9C1\uC5B4\uD150\uC158\uD1A0\uD070",upbit:"KRW-BAT",bithumb:"BAT_KRW",binanceSpot:"BATUSDT",binanceSpotDecimal:null,binancePerp:"BATUSDT",binancePerpDecimal:"",ftxSpot:"BAT/USD",ftxPerp:"BAT-PERP",bybitSpot:"BATUSDT",bybitPerp:"BATUSDT",okxSpot:"BAT-USDT",okxPerp:"BAT-USDT-SWAP",mexcPerp:"BAT_USDT",bingX:"",show:!1},{name:"IOTA",name_kr:"\uC544\uC774\uC624\uD0C0",upbit:"KRW-IOTA",bithumb:"",binanceSpot:"IOTAUSDT",binanceSpotDecimal:null,binancePerp:"IOTAUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"IOTA-PERP",bybitSpot:"",bybitPerp:"IOTAUSDT",okxSpot:"IOTA-USDT",okxPerp:"IOTA-USDT-SWAP",mexcPerp:"IOTA_USDT",bingX:"",show:!1},{name:"AAVE",name_kr:"\uC5D0\uC774\uBE0C",upbit:"KRW-AAVE",bithumb:"AAVE_KRW",binanceSpot:"AAVEUSDT",binanceSpotDecimal:null,binancePerp:"AAVEUSDT",binancePerpDecimal:"",ftxSpot:"AAVE/USD",ftxPerp:"AAVE-PERP",bybitSpot:"AAVEUSDT",bybitPerp:"AAVEUSDT",okxSpot:"AAVE-USDT",okxPerp:"AAVE-USDT-SWAP",mexcPerp:"AAVE_USDT",bingX:"",show:!0},{name:"LUNC",name_kr:"\uB8E8\uB098\uD074\uB798\uC2DD",upbit:"",bithumb:"",binanceSpot:"",binanceSpotDecimal:null,binancePerp:"",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"",bybitSpot:"LUNCUSDT",bybitPerp:"",okxSpot:"LUNC-USDT",okxPerp:"",mexcPerp:"LUNC_USDT",bingX:"",show:!0},{name:"LUNA",name_kr:"\uB8E8\uB098",upbit:"",bithumb:"",binanceSpot:"",binanceSpotDecimal:null,binancePerp:"",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"",bybitSpot:"LUNAUSDT",bybitPerp:"",okxSpot:"LUNA-USDT",okxPerp:"",mexcPerp:"LUNA_USDT",bingX:"",show:!0},{name:"USTC",name_kr:"USTC",upbit:"",bithumb:"",binanceSpot:"",binanceSpotDecimal:null,binancePerp:"",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"",bybitSpot:"USTCUSDT",bybitPerp:"",okxSpot:"USTC-USDT",okxPerp:"",mexcPerp:"USTC_USDT",bingX:"",show:!0},{name:"NEO",name_kr:"\uB124\uC624",upbit:"KRW-NEO",bithumb:"",binanceSpot:"NEOUSDT",binanceSpotDecimal:null,binancePerp:"NEOUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"NEO-PERP",bybitSpot:"",bybitPerp:"NEOUSDT",okxSpot:"NEO-USDT",okxPerp:"NEO-USDT-SWAP",mexcPerp:"NEO_USDT",bingX:"",show:!1},{name:"CHZ",name_kr:"\uCE60\uB9AC\uC988",upbit:"KRW-CHZ",bithumb:"CHZ_KRW",binanceSpot:"CHZUSDT",binanceSpotDecimal:null,binancePerp:"CHZUSDT",binancePerpDecimal:"",ftxSpot:"CHZ/USD",ftxPerp:"CHZ-PERP",bybitSpot:"CHZUSDT",bybitPerp:"CHZUSDT",okxSpot:"CHZ-USDT",okxPerp:"CHZ-USDT-SWAP",mexcPerp:"CHZ_USDT",bingX:"",show:!1},{name:"SC",name_kr:"\uC2DC\uC544\uCF54\uC778",upbit:"KRW-SC",bithumb:"",binanceSpot:"SCUSDT",binanceSpotDecimal:null,binancePerp:"SCUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"SC-PERP",bybitSpot:"SCUSDT",bybitPerp:"SCUSDT",okxSpot:"SC-USDT",okxPerp:"SC-USDT-SWAP",mexcPerp:"SC_USDT",bingX:"",show:!1},{name:"THETA",name_kr:"\uC384\uD0C0\uD1A0\uD070",upbit:"KRW-THETA",bithumb:"THETA_KRW",binanceSpot:"THETAUSDT",binanceSpotDecimal:null,binancePerp:"THETAUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"THETA-PERP",bybitSpot:"THETAUSDT",bybitPerp:"THETAUSDT",okxSpot:"THETA-USDT",okxPerp:"THETA-USDT-SWAP",mexcPerp:"THETA_USDT",bingX:"",show:!1},{name:"QTUM",name_kr:"\uD000\uD140",upbit:"KRW-QTUM",bithumb:"QTUM_KRW",binanceSpot:"QTUMUSDT",binanceSpotDecimal:null,binancePerp:"QTUMUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"QTUM-PERP",bybitSpot:"QTUMUSDT",bybitPerp:"QTUMUSDT",okxSpot:"QTUM-USDT",okxPerp:"QTUM-USDT-SWAP",mexcPerp:"QTUM_USDT",bingX:"",show:!1},{name:"OMG",name_kr:"\uC624\uBBF8\uC138\uACE0",upbit:"KRW-OMG",bithumb:"OMG_KRW",binanceSpot:"OMGUSDT",binanceSpotDecimal:null,binancePerp:"OMGUSDT",binancePerpDecimal:"",ftxSpot:"OMG/USD",ftxPerp:"OMG-PERP",bybitSpot:"OMGUSDT",bybitPerp:"OMGUSDT",okxSpot:"OMG-USDT",okxPerp:"OMG-USDT-SWAP",mexcPerp:"OMG_USDT",bingX:"",show:!0},{name:"STORJ",name_kr:"\uC2A4\uD1A0\uB9AC\uC9C0",upbit:"KRW-STORJ",bithumb:"",binanceSpot:"STORJUSDT",binanceSpotDecimal:null,binancePerp:"STORJUSDT",binancePerpDecimal:"",ftxSpot:"STORJ/USD",ftxPerp:"STORJ-PERP",bybitSpot:"",bybitPerp:"STORJUSDT",okxSpot:"STORJ-USDT",okxPerp:"STORJ-USDT-SWAP",mexcPerp:"STORJ_USDT",bingX:"",show:!1},{name:"MTL",name_kr:"\uBA54\uD0C8",upbit:"KRW-MTL",bithumb:"MTL_KRW",binanceSpot:"MTLUSDT",binanceSpotDecimal:null,binancePerp:"MTLUSDT",binancePerpDecimal:"",ftxSpot:"MTL/USD",ftxPerp:"MTL-PERP",bybitSpot:"",bybitPerp:"MTLUSDT",okxSpot:"",okxPerp:"",mexcPerp:"MTL_USDT",bingX:"",show:!1},{name:"VET",name_kr:"\uBE44\uCCB4\uC778",upbit:"KRW-VET",bithumb:"VET_KRW",binanceSpot:"VETUSDT",binanceSpotDecimal:null,binancePerp:"VETUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"VET-PERP",bybitSpot:"",bybitPerp:"VETUSDT",okxSpot:"",okxPerp:"",mexcPerp:"VET_USDT",bingX:"",show:!1},{name:"KAVA",name_kr:"\uCE74\uBC14",upbit:"KRW-KAVA",bithumb:"",binanceSpot:"KAVAUSDT",binanceSpotDecimal:null,binancePerp:"KAVAUSDT",binancePerpDecimal:"",ftxSpot:"",ftxPerp:"KAVA-PERP",bybitSpot:"",bybitPerp:"KAVAUSDT",okxSpot:"",okxPerp:"",mexcPerp:"KAVA_USDT",bingX:"",show:!1},{name:"LTC",name_kr:"\uB77C\uC774\uD2B8\uCF54\uC778",upbit:"KRW-LTC",bithumb:"LTC_KRW",binanceSpot:"LTCUSDT",binanceSpotDecimal:null,binancePerp:"LTCUSDT",binancePerpDecimal:"",ftxSpot:"LTC/USDT",ftxPerp:"LTC-PERP",bybitSpot:"LTCUSDT",bybitPerp:"LTCUSDT",okxSpot:"LTC-USDT",okxPerp:"LTC-USDT-SWAP",mexcPerp:"LTC_USDT",bingX:"",show:!1}]);class Dl{constructor(t,e,n,s,r){this.coin=t,this.upbitList=e,this.status=n,this.showStatus=s,this.currency_selected=Ds,this.lastReceiveTime=r}connect(){let t=[];Object.entries(this.upbitList).forEach(([o,h])=>{o!==""&&h.show&&t.push(o)});let e=[{ticket:"test"},{type:"ticker",codes:t}],n=new WebSocket("wss://api.upbit.com/websocket/v1");this.socket=n;const s=o=>{let h=this.upbitList[o.code].name;this.coin.update(a=>P(T({},a),{[h]:P(T({},a[h]),{upbitPrice:o.trade_price,upbitChange:o.ask_bid,upbitVolume:o.acc_trade_price_24h})})),this.status.update(a=>P(T({},a),{upbit:!0})),this.lastReceiveTime.update(a=>P(T({},a),{upbit:o.timestamp}))};function r(o){let h=new FileReader,a;return h.onload=function(l){a=JSON.parse(h.result),s(a)},h.readAsText(o),a}n.onopen=o=>{n.send(JSON.stringify(e)),this.status.update(h=>P(T({},h),{upbit:!0})),this.showStatus.update(h=>P(T({},h),{upbit:!0}))},n.onmessage=o=>{let h=o.data;r(h)},n.onclose=o=>{this.status.update(h=>P(T({},h),{upbit:!1})),this.showStatus.update(h=>P(T({},h),{upbit:!1}))}}disconnect(){this.status.update(t=>P(T({},t),{upbit:!1})),this.socket.close(),this.showStatus.update(t=>P(T({},t),{upbit:!1}))}addCoin(t){let e=[];e.push(t);let n=[{ticket:"test"},{type:"ticker",codes:e}];this.socket.send(JSON.stringify(n)),console.log(e)}deleteCoin(t){}}class Ml{constructor(t,e,n,s,r){this.coin=t,this.bithumbList=e,this.status=n,this.showStatus=s,this.start=!1,this.lastReceiveTime=r}heartbeat(){this.start&&this.socket.send(JSON.stringify({op:"ping"})),setTimeout(this.heartbeat.bind(this),6e4)}connect(){let t=[];Object.entries(this.bithumbList).forEach(([s,r])=>{s!==""&&r.show&&t.push(s)});let e={type:"transaction",symbols:t},n=new WebSocket("wss://pubwss.bithumb.com/pub/ws");this.socket=n,n.onopen=s=>{n.send(JSON.stringify(e)),this.status.update(r=>P(T({},r),{bithumb:!0})),this.showStatus.update(r=>P(T({},r),{bithumb:!0})),this.start=!0,this.heartbeat()},n.onmessage=s=>{let r=JSON.parse(s.data);if("type"in r&&r.type.indexOf("transaction")>-1){let o=new Date().getTime(),h=this.bithumbList[r.content.list[0].symbol].name;this.coin.update(a=>P(T({},a),{[h]:P(T({},a[h]),{bithumbPrice:r.content.list[0].contPrice})})),this.status.update(a=>P(T({},a),{bithumb:!0})),this.lastReceiveTime.update(a=>P(T({},a),{bithumb:o}))}},n.onclose=s=>{this.status.update(r=>P(T({},r),{bithumb:!1})),this.showStatus.update(r=>P(T({},r),{bithumb:!1}))}}disconnect(){this.status.update(t=>P(T({},t),{bithumb:!1})),this.socket.close(),this.start=!1,this.showStatus.update(t=>P(T({},t),{bithumb:!1}))}addCoin(t){let e=[];e.push(t);let n={type:"transaction",symbols:e};this.socket.send(JSON.stringify(n))}deleteCoin(t){}}const te=Object.create(null);te.open="0";te.close="1";te.ping="2";te.pong="3";te.message="4";te.upgrade="5";te.noop="6";const Ms=Object.create(null);Object.keys(te).forEach(i=>{Ms[te[i]]=i});const xl={type:"error",data:"parser error"},Cl=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",El=typeof ArrayBuffer=="function",Al=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,ha=({type:i,data:t},e,n)=>Cl&&t instanceof Blob?e?n(t):Go(t,n):El&&(t instanceof ArrayBuffer||Al(t))?e?n(t):Go(new Blob([t]),n):n(te[i]+(t||"")),Go=(i,t)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];t("b"+n)},e.readAsDataURL(i)};var jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var bs=0;bs<jo.length;bs++)Vi[jo.charCodeAt(bs)]=bs;var Rl=function(i){var t=i.length*.75,e=i.length,n,s=0,r,o,h,a;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);var l=new ArrayBuffer(t),u=new Uint8Array(l);for(n=0;n<e;n+=4)r=Vi[i.charCodeAt(n)],o=Vi[i.charCodeAt(n+1)],h=Vi[i.charCodeAt(n+2)],a=Vi[i.charCodeAt(n+3)],u[s++]=r<<2|o>>4,u[s++]=(o&15)<<4|h>>2,u[s++]=(h&3)<<6|a&63;return l};const Ol=typeof ArrayBuffer=="function",aa=(i,t)=>{if(typeof i!="string")return{type:"message",data:la(i,t)};const e=i.charAt(0);return e==="b"?{type:"message",data:Ul(i.substring(1),t)}:Ms[e]?i.length>1?{type:Ms[e],data:i.substring(1)}:{type:Ms[e]}:xl},Ul=(i,t)=>{if(Ol){const e=Rl(i);return la(e,t)}else return{base64:!0,data:i}},la=(i,t)=>{switch(t){case"blob":return i instanceof ArrayBuffer?new Blob([i]):i;case"arraybuffer":default:return i}},ua=String.fromCharCode(30),Ll=(i,t)=>{const e=i.length,n=new Array(e);let s=0;i.forEach((r,o)=>{ha(r,!1,h=>{n[o]=h,++s===e&&t(n.join(ua))})})},Nl=(i,t)=>{const e=i.split(ua),n=[];for(let s=0;s<e.length;s++){const r=aa(e[s],t);if(n.push(r),r.type==="error")break}return n},ca=4;function tt(i){if(i)return Bl(i)}function Bl(i){for(var t in tt.prototype)i[t]=tt.prototype[t];return i}tt.prototype.on=tt.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};tt.prototype.once=function(i,t){function e(){this.off(i,e),t.apply(this,arguments)}return e.fn=t,this.on(i,e),this};tt.prototype.off=tt.prototype.removeListener=tt.prototype.removeAllListeners=tt.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,s=0;s<e.length;s++)if(n=e[s],n===t||n.fn===t){e.splice(s,1);break}return e.length===0&&delete this._callbacks["$"+i],this};tt.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,s=e.length;n<s;++n)e[n].apply(this,t)}return this};tt.prototype.emitReserved=tt.prototype.emit;tt.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};tt.prototype.hasListeners=function(i){return!!this.listeners(i).length};var ge=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function pa(i,...t){return t.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}const Wl=setTimeout,Xl=clearTimeout;function Ns(i,t){t.useNativeTimers?(i.setTimeoutFn=Wl.bind(ge),i.clearTimeoutFn=Xl.bind(ge)):(i.setTimeoutFn=setTimeout.bind(ge),i.clearTimeoutFn=clearTimeout.bind(ge))}const zl=1.33;function Il(i){return typeof i=="string"?Kl(i):Math.ceil((i.byteLength||i.size)*zl)}function Kl(i){let t=0,e=0;for(let n=0,s=i.length;n<s;n++)t=i.charCodeAt(n),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(n++,e+=4);return e}class Vl extends Error{constructor(t,e,n){super(t);this.description=e,this.context=n,this.type="TransportError"}}class fa extends tt{constructor(t){super();this.writable=!1,Ns(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new Vl(t,e,n)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=aa(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const da="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_r=64,Fl={};let Ho=0,vs=0,Yo;function Zo(i){let t="";do t=da[i%_r]+t,i=Math.floor(i/_r);while(i>0);return t}function ba(){const i=Zo(+new Date);return i!==Yo?(Ho=0,Yo=i):i+"."+Zo(Ho++)}for(;vs<_r;vs++)Fl[da[vs]]=vs;function va(i){let t="";for(let e in i)i.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return t}function Jl(i){let t={},e=i.split("&");for(let n=0,s=e.length;n<s;n++){let r=e[n].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}let ya=!1;try{ya=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const Gl=ya;function ma(i){const t=i.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!t||Gl))return new XMLHttpRequest}catch{}if(!t)try{return new ge[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function jl(){}const Hl=function(){return new ma({xdomain:!1}).responseType!=null}();class Yl extends fa{constructor(t){super(t);if(this.polling=!1,typeof location!="undefined"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location!="undefined"&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==n}const e=t&&t.forceBase64;this.supportsBinary=Hl&&!e}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Nl(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Ll(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=ba()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(e==="https"&&Number(this.opts.port)!==443||e==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const s=va(t),r=this.opts.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Qt(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}}class Qt extends tt{constructor(t,e){super();Ns(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.create()}create(){const t=pa(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new ma(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&e.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{e.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{e.readyState===4&&(e.status===200||e.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof e.status=="number"?e.status:0)},0))},e.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document!="undefined"&&(this.index=Qt.requestsCount++,Qt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=jl,t)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete Qt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Qt.requestsCount=0;Qt.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",qo);else if(typeof addEventListener=="function"){const i="onpagehide"in ge?"pagehide":"unload";addEventListener(i,qo,!1)}}function qo(){for(let i in Qt.requests)Qt.requests.hasOwnProperty(i)&&Qt.requests[i].abort()}const Zl=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0))(),Xi=ge.WebSocket||ge.MozWebSocket,Qo=!0,ql="arraybuffer",$o=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Er extends fa{constructor(t){super(t);this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=$o?{}:pa(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Qo&&!$o?e?new Xi(t,e):new Xi(t):new Xi(t,e,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||ql,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],s=e===t.length-1;ha(n,this.supportsBinary,r=>{const o={};try{Qo&&this.ws.send(r)}catch{}s&&Zl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(e==="wss"&&Number(this.opts.port)!==443||e==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=ba()),this.supportsBinary||(t.b64=1);const s=va(t),r=this.opts.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}check(){return!!Xi&&!("__initialize"in Xi&&this.name===Er.prototype.name)}}const Ql={websocket:Er,polling:Yl},$l=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Tr(i){const t=i,e=i.indexOf("["),n=i.indexOf("]");e!=-1&&n!=-1&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let s=$l.exec(i||""),r={},o=14;for(;o--;)r[tu[o]]=s[o]||"";return e!=-1&&n!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=eu(r,r.path),r.queryKey=iu(r,r.query),r}function eu(i,t){const e=/\/{2,9}/g,n=t.replace(e,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&n.splice(0,1),t.substr(t.length-1,1)=="/"&&n.splice(n.length-1,1),n}function iu(i,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,r){s&&(e[s]=r)}),e}class me extends tt{constructor(t,e={}){super();t&&typeof t=="object"&&(e=t,t=null),t?(t=Tr(t),e.hostname=t.host,e.secure=t.protocol==="https"||t.protocol==="wss",e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=Tr(e.host).host),Ns(this,e),this.secure=e.secure!=null?e.secure:typeof location!="undefined"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=e.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Jl(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=ca,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ql[t](n)}open(){let t;if(this.opts.rememberUpgrade&&me.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(t){let e=this.createTransport(t),n=!1;me.priorWebsocketSuccess=!1;const s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;me.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=e.name,this.emitReserved("upgradeError",b)}}))};function r(){n||(n=!0,u(),e.close(),e=null)}const o=p=>{const b=new Error("probe error: "+p);b.transport=e.name,r(),this.emitReserved("upgradeError",b)};function h(){o("transport closed")}function a(){o("socket closed")}function l(p){e&&p.name!==e.name&&r()}const u=()=>{e.removeListener("open",s),e.removeListener("error",o),e.removeListener("close",h),this.off("close",a),this.off("upgrading",l)};e.once("open",s),e.once("error",o),e.once("close",h),this.once("close",a),this.once("upgrading",l),e.open()}onOpen(){if(this.readyState="open",me.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(e+=Il(s)),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,s){if(typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const r={type:t,data:e,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){me.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const s=t.length;for(;n<s;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}me.protocol=ca;function nu(i,t="",e){let n=i;e=e||typeof location!="undefined"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e!="undefined"?i=e.protocol+"//"+i:i="https://"+i),n=Tr(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+t,n.href=n.protocol+"://"+r+(e&&e.port===n.port?"":":"+n.port),n}const su=typeof ArrayBuffer=="function",ru=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,ga=Object.prototype.toString,ou=typeof Blob=="function"||typeof Blob!="undefined"&&ga.call(Blob)==="[object BlobConstructor]",hu=typeof File=="function"||typeof File!="undefined"&&ga.call(File)==="[object FileConstructor]";function Ar(i){return su&&(i instanceof ArrayBuffer||ru(i))||ou&&i instanceof Blob||hu&&i instanceof File}function xs(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(xs(i[e]))return!0;return!1}if(Ar(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return xs(i.toJSON(),!0);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&xs(i[e]))return!0;return!1}function au(i){const t=[],e=i.data,n=i;return n.data=Pr(e,t),n.attachments=t.length,{packet:n,buffers:t}}function Pr(i,t){if(!i)return i;if(Ar(i)){const e={_placeholder:!0,num:t.length};return t.push(i),e}else if(Array.isArray(i)){const e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=Pr(i[n],t);return e}else if(typeof i=="object"&&!(i instanceof Date)){const e={};for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=Pr(i[n],t));return e}return i}function lu(i,t){return i.data=kr(i.data,t),i.attachments=void 0,i}function kr(i,t){if(!i)return i;if(i&&i._placeholder)return t[i.num];if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=kr(i[e],t);else if(typeof i=="object")for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=kr(i[e],t));return i}const uu=5;var W;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class cu{constructor(t){this.replacer=t}encode(t){return(t.type===W.EVENT||t.type===W.ACK)&&xs(t)?(t.type=t.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===W.BINARY_EVENT||t.type===W.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=au(t),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}}class Rr extends tt{constructor(t){super();this.reviver=t}add(t){let e;if(typeof t=="string")e=this.decodeString(t),e.type===W.BINARY_EVENT||e.type===W.BINARY_ACK?(this.reconstructor=new pu(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e);else if(Ar(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(W[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===W.BINARY_EVENT||n.type===W.BINARY_ACK){const r=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);const o=t.substring(r,e);if(o!=Number(o)||t.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(e+1)==="/"){const r=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););n.nsp=t.substring(r,e)}else n.nsp="/";const s=t.charAt(e+1);if(s!==""&&Number(s)==s){const r=e+1;for(;++e;){const o=t.charAt(e);if(o==null||Number(o)!=o){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(Rr.isPayloadValid(n.type,r))n.data=r;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case W.CONNECT:return typeof e=="object";case W.DISCONNECT:return e===void 0;case W.CONNECT_ERROR:return typeof e=="string"||typeof e=="object";case W.EVENT:case W.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case W.ACK:case W.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class pu{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=lu(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var fu=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",protocol:uu,get PacketType(){return W},Encoder:cu,Decoder:Rr});function zt(i,t,e){return i.on(t,e),function(){i.off(t,e)}}const du=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Sa extends tt{constructor(t,e,n){super();this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[zt(t,"open",this.onopen.bind(this)),zt(t,"packet",this.onpacket.bind(this)),zt(t,"error",this.onerror.bind(this)),zt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(du.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const n={type:W.EVENT,data:e};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const o=this.ids++,h=e.pop();this._registerAckCallback(o,h),n.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){const n=this.flags.timeout;if(n===void 0){this.acks[t]=e;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let r=0;r<this.sendBuffer.length;r++)this.sendBuffer[r].id===t&&this.sendBuffer.splice(r,1);e.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...r)=>{this.io.clearTimeoutFn(s),e.apply(this,[null,...r])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:W.CONNECT,data:t})}):this.packet({type:W.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case W.CONNECT:if(t.data&&t.data.sid){const s=t.data.sid;this.onconnect(s)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(t);break;case W.ACK:case W.BINARY_ACK:this.onack(t);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:W.ACK,id:t,data:s}))}}onack(t){const e=this.acks[t.id];typeof e=="function"&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function wi(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}wi.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*i);i=(Math.floor(t*10)&1)==0?i-e:i+e}return Math.min(i,this.max)|0};wi.prototype.reset=function(){this.attempts=0};wi.prototype.setMin=function(i){this.ms=i};wi.prototype.setMax=function(i){this.max=i};wi.prototype.setJitter=function(i){this.jitter=i};class Dr extends tt{constructor(t,e){var n;super();this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Ns(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new wi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;const s=e.parser||fu;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new me(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=zt(e,"open",function(){n.onopen(),t&&t()}),r=zt(e,"error",o=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",o),t?t(o):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&s();const h=this.setTimeoutFn(()=>{s(),e.close(),e.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&h.unref(),this.subs.push(function(){clearTimeout(h)})}return this.subs.push(s),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(zt(t,"ping",this.onping.bind(this)),zt(t,"data",this.ondata.bind(this)),zt(t,"error",this.onerror.bind(this)),zt(t,"close",this.onclose.bind(this)),zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new Sa(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const zi={};function hr(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};const e=nu(i,t.path||"/socket.io"),n=e.source,s=e.id,r=e.path,o=zi[s]&&r in zi[s].nsps,h=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return h?a=new Dr(n,t):(zi[s]||(zi[s]=new Dr(n,t)),a=zi[s]),e.query&&!t.query&&(t.query=e.queryKey),a.socket(e.path,t)}Object.assign(hr,{Manager:Dr,Socket:Sa,io:hr,connect:hr});class bu{constructor(t,e,n,s,r,o){this.coin=t,this.binanceList=e,this.status=n,this.requestNum=1,this.showStatus=s,this.orderbook=r,this.ordersymbol="BTCUSDT",this.lastReceiveTime=o}statusUpdate(t){this.status.update(e=>P(T({},e),{binance\uD604\uBB3C:t})),this.showStatus.update(e=>P(T({},e),{binance\uD604\uBB3C:t}))}connect(){let t=[];Object.entries(this.binanceList).forEach(([s,r])=>{s!==""&&r.show&&t.push(s.toLowerCase()+"@aggTrade")});let e={method:"SUBSCRIBE",id:this.requestNum,params:t};this.requestNum+=1;let n=new WebSocket("wss://stream.binance.com:9443/ws/stream");this.socket=n,n.onopen=s=>{n.send(JSON.stringify(e)),this.statusUpdate(!0)},n.onmessage=s=>{let r=JSON.parse(s.data);if(r.e==="aggTrade"){let o=this.binanceList[r.s].name;this.coin.update(h=>P(T({},h),{[o]:P(T({},h[o]),{binanceSpotPrice:r.p})})),this.status.update(h=>P(T({},h),{binance\uD604\uBB3C:!0})),this.lastReceiveTime.update(h=>P(T({},h),{binance\uD604\uBB3C:r.E}))}else r.e===void 0&&this.orderbook.update(o=>P(T({},o),{binancePrice:P(T({},o.binancePrice),{ask:r.a,bid:r.b})}))},n.onclose=s=>{this.status.update(r=>P(T({},r),{binance\uD604\uBB3C:!1})),this.showStatus.update(r=>P(T({},r),{binance\uD604\uBB3C:!1}))}}disconnect(){this.status.update(t=>P(T({},t),{binance\uD604\uBB3C:!1})),this.socket.close(),this.showStatus.update(t=>P(T({},t),{binance\uD604\uBB3C:!1}))}addCoin(t){let e=[];e.push(t.toLowerCase()+"@aggTrade");let n={method:"SUBSCRIBE",id:this.requestNum,params:e};this.requestNum+=1,this.socket.send(JSON.stringify(n))}deleteCoin(t){let e=[];e.push(t.toLowerCase()+"@aggTrade");let n={method:"UNSUBSCRIBE",id:this.requestNum,params:e};this.requestNum+=1,this.socket.send(JSON.stringify(n))}}class vu{constructor(t,e,n,s,r){this.coin=t,this.binanceList=e,this.status=n,this.requestNum=1,this.showStatus=s,this.lastReceiveTime=r}connect(){let t=[];Object.entries(this.binanceList).forEach(([s,r])=>{s!==""&&r.show&&t.push(s.toLowerCase()+"@aggTrade")});let e={method:"SUBSCRIBE",id:this.requestNum,params:t};this.requestNum+=1;let n=new WebSocket("wss://fstream.binance.com/ws/stream");this.socket=n,n.onopen=s=>{n.send(JSON.stringify(e)),this.status.update(r=>P(T({},r),{binance\uC120\uBB3C:!0})),this.showStatus.update(r=>P(T({},r),{binance\uC120\uBB3C:!0}))},n.onmessage=s=>{let r=JSON.parse(s.data);if(r.e==="aggTrade"){let o=this.binanceList[r.s].name;this.coin.update(h=>P(T({},h),{[o]:P(T({},h[o]),{binancePerpPrice:r.p})})),this.status.update(h=>P(T({},h),{binance\uC120\uBB3C:!0})),this.lastReceiveTime.update(h=>P(T({},h),{binance\uC120\uBB3C:r.T}))}n.onclose=o=>{this.status.update(h=>P(T({},h),{binance\uC120\uBB3C:!1})),this.showStatus.update(h=>P(T({},h),{binance\uC120\uBB3C:!1}))}}}disconnect(){this.status.update(t=>P(T({},t),{binance\uC120\uBB3C:!1})),this.socket.close(),this.showStatus.update(t=>P(T({},t),{binance\uC120\uBB3C:!1}))}addCoin(t){let e=[];e.push(t.toLowerCase()+"@aggTrade");let n={method:"SUBSCRIBE",id:this.requestNum,params:e};this.requestNum+=1,this.socket.send(JSON.stringify(n)),console.log(e)}deleteCoin(t){let e=[];e.push(t.toLowerCase()+"@aggTrade");let n={method:"UNSUBSCRIBE",id:this.requestNum,params:e};this.requestNum+=1,this.socket.send(JSON.stringify(n))}}class yu{constructor(t,e,n,s,r,o){this.coin=t,this.ftxList=e,this.ftxPerpList=n,this.status=s,this.showStatus=r,this.start=!1,this.lastReceiveTime=o}heartbeat(){this.start&&this.socket.send(JSON.stringify({op:"ping"})),setTimeout(this.heartbeat.bind(this),2e4)}connect(){let t=new WebSocket("wss://ftx.com/ws/");this.socket=t,this.socket.onopen=e=>{Object.entries(this.ftxPerpList).forEach(([n,s])=>{if(n!==""&&s.show){let r={op:"subscribe",channel:"ticker",market:n};this.socket.send(JSON.stringify(r))}}),Object.entries(this.ftxList).forEach(([n,s])=>{if(n!==""&&s.show){let r={op:"subscribe",channel:"ticker",market:n};this.socket.send(JSON.stringify(r))}}),this.status.update(n=>P(T({},n),{ftx:!0})),this.start=!0,this.heartbeat(),this.showStatus.update(n=>P(T({},n),{ftx:!0}))},this.socket.onmessage=e=>{let n=JSON.parse(e.data);if(n.type==="update"&&n.channel==="ticker"&&n.market.indexOf("USD")>-1){let s=this.ftxList[n.market].name;this.coin.update(r=>P(T({},r),{[s]:P(T({},r[s]),{ftxSpotPrice:n.data.last})})),this.status.update(r=>P(T({},r),{ftx:!0})),this.lastReceiveTime.update(r=>P(T({},r),{ftx:n.data.time}))}else if(n.type==="update"&&n.channel==="ticker"&&n.market.indexOf("PERP")>-1){let s=this.ftxPerpList[n.market].name;this.coin.update(r=>P(T({},r),{[s]:P(T({},r[s]),{ftxPerpPrice:n.data.last})})),this.status.update(r=>P(T({},r),{ftx:!0})),this.lastReceiveTime.update(r=>P(T({},r),{ftx:n.data.time*1e3}))}},this.socket.onclose=e=>{this.status.update(n=>P(T({},n),{ftx:!1}))}}disconnect(){this.status.update(t=>P(T({},t),{ftx:!1})),this.start=!1,this.socket.close(),this.showStatus.update(t=>P(T({},t),{ftx:!1}))}addCoin(t){let e={op:"subscribe",channel:"ticker",market:t};this.socket.send(JSON.stringify(e))}deleteCoin(t){let e={op:"unsubscribe",channel:"ticker",market:t};this.socket.send(JSON.stringify(e))}}class mu{constructor(t,e,n,s,r){this.coin=t,this.bybitSpotList=e,this.status=n,this.start=!1,this.showStatus=s,this.lastReceiveTime=r}heartbeat(){let t=new Date().getTime();this.start&&this.socket.send(JSON.stringify({ping:t})),setTimeout(this.heartbeat.bind(this),3e4)}connect(){let t=[];Object.entries(this.bybitSpotList).forEach(([r,o])=>{r!==""&&o.show&&t.push(r)});let e=t.join(","),n={topic:"trade",event:"sub",symbol:e,params:{binary:!1}},s=new WebSocket("wss://stream.bybit.com/spot/quote/ws/v1");this.socket=s,s.onopen=r=>{s.send(JSON.stringify(n)),this.status.update(o=>P(T({},o),{bybit:!0})),this.start=!0,this.heartbeat(),this.showStatus.update(o=>P(T({},o),{bybit:!0}))},s.onmessage=r=>{let o=JSON.parse(r.data);if("topic"in o&&o.topic.indexOf("trade")>-1){let h=this.bybitSpotList[o.symbol].name;this.coin.update(a=>P(T({},a),{[h]:P(T({},a[h]),{bybitSpotPrice:o.data[0].p})})),this.status.update(a=>P(T({},a),{bybit:!0})),this.lastReceiveTime.update(a=>P(T({},a),{bybit:o.data[0].t}))}},s.onclose=r=>{this.status.update(o=>P(T({},o),{bybit:!1}))}}disconnect(){console.log("DISCONNECT BYBIT PERP"),this.status.update(t=>P(T({},t),{bybit:!1})),this.socket.close(),this.showStatus.update(t=>P(T({},t),{bybit:!1}))}addCoin(t){let e={topic:"trade",event:"sub",symbol:t,params:{binary:!1}};this.socket.send(JSON.stringify(e))}deleteCoin(t){let e={topic:"trade",event:"cancel",symbol:t,params:{binary:!1}};this.socket.send(JSON.stringify(e))}}class gu{constructor(t,e,n,s,r){this.coin=t,this.bybitPerpList=e,this.status=n,this.start=!1,this.showStatus=s,this.lastReceiveTime=r}heartbeat(){this.start&&this.socket.send(JSON.stringify({op:"ping"})),setTimeout(this.heartbeat.bind(this),6e4)}connect(){let t=[];Object.entries(this.bybitPerpList).forEach(([s,r])=>{s!==""&&r.show&&t.push("trade."+s)});let e={op:"subscribe",args:t},n=new WebSocket("wss://stream.bybit.com/realtime_public");this.socket=n,n.onopen=s=>{n.send(JSON.stringify(e)),this.status.update(r=>P(T({},r),{bybitPerp:!0})),this.start=!0,this.heartbeat(),this.showStatus.update(r=>P(T({},r),{bybitPerp:!0}))},n.onmessage=s=>{let r=JSON.parse(s.data);if("topic"in r&&r.topic.indexOf("trade")>-1){let o=this.bybitPerpList[r.data[0].symbol].name;this.coin.update(h=>P(T({},h),{[o]:P(T({},h[o]),{bybitPerpPrice:r.data[0].price})})),this.status.update(h=>P(T({},h),{bybitPerp:!0})),this.lastReceiveTime.update(h=>P(T({},h),{bybitPerp:parseInt(r.data[0].trade_time_ms)}))}},n.onclose=s=>{this.status.update(r=>P(T({},r),{bybitPerp:!1}))}}disconnect(){console.log("DISCONNECT BYBIT PERP"),this.status.update(t=>P(T({},t),{bybitPerp:!1})),this.socket.close(),this.showStatus.update(t=>P(T({},t),{bybitPerp:!1}))}addCoin(t){let e=[];e.push("trade."+t);let n={op:"subscribe",args:e};this.socket.send(JSON.stringify(n))}deleteCoin(t){let e=[];e.push("trade."+t);let n={op:"unsubscribe",args:e};this.socket.send(JSON.stringify(n))}}class Su{constructor(t,e,n,s,r,o){this.coin=t,this.okxPerpList=e,this.okxSpotList=n,this.status=s,this.start=!1,this.showStatus=r,this.lastReceiveTime=o}heartbeat(){this.showStatus&&this.socket.send(JSON.stringify({op:"ping"})),setTimeout(this.heartbeat.bind(this),3e4)}connect(){let t=[];Object.entries(this.okxPerpList).forEach(([s,r])=>{s!==""&&r.show&&t.push({channel:"tickers",instId:s})}),Object.entries(this.okxSpotList).forEach(([s,r])=>{s!==""&&r.show&&t.push({channel:"tickers",instId:s})});let e={op:"subscribe",args:t},n=new WebSocket("wss://ws.okx.com:8443/ws/v5/public");this.socket=n,n.onopen=s=>{n.send(JSON.stringify(e)),this.heartbeat(),this.start=!0,this.showStatus.update(r=>P(T({},r),{okx:!0}))},n.onmessage=s=>{let r=JSON.parse(s.data);if("arg"in r&&r.arg.channel==="tickers"&&!r.hasOwnProperty("event")&&r.data.length!==0){if(r.data[0].instType==="SPOT"){let o=this.okxSpotList[r.data[0].instId].name;this.coin.update(h=>P(T({},h),{[o]:P(T({},h[o]),{okxSpotPrice:r.data[0].last})})),this.status.update(h=>P(T({},h),{okx:!0}))}else if(r.data[0].instType==="SWAP"){let o=this.okxPerpList[r.data[0].instId].name;this.coin.update(h=>P(T({},h),{[o]:P(T({},h[o]),{okxPerpPrice:r.data[0].last})})),this.status.update(h=>P(T({},h),{okx:!0}))}this.lastReceiveTime.update(o=>P(T({},o),{okx:parseInt(r.data[0].ts)}))}},n.onclose=s=>{this.status.update(r=>P(T({},r),{okx:!1}))}}disconnect(){this.status.update(t=>P(T({},t),{okx:!1})),this.start=!1,this.socket.close(),this.showStatus.update(t=>P(T({},t),{okx:!1}))}addCoin(t){let e=[];e.push({channel:"tickers",instId:t});let n={op:"subscribe",args:e};this.socket.send(JSON.stringify(n))}deleteCoin(t){let e=[];e.push({channel:"tickers",instId:t});let n={op:"unsubscribe",args:e};this.socket.send(JSON.stringify(n))}}class wu{constructor(t,e,n,s,r){this.coin=t,this.mexcPerpList=e,this.status=n,this.start=!1,this.showStatus=s,this.lastReceiveTime=r}heartbeat(){this.start&&this.socket.send(JSON.stringify({method:"ping"})),setTimeout(this.heartbeat.bind(this),2e4)}connect(){console.log("CONNECT");let t=new WebSocket("wss://contract.mexc.com/ws");this.socket=t,t.onopen=e=>{let n={method:"sub.tickers",param:{}};t.send(JSON.stringify(n)),this.start=!0,this.heartbeat(),this.showStatus.update(s=>P(T({},s),{mexc:!0}))},t.onmessage=e=>{let n=JSON.parse(e.data);if("channel"in n&&n.channel==="push.tickers"){n.data.forEach(r=>{if(Object.keys(this.mexcPerpList).includes(r.symbol)){let o=this.mexcPerpList[r.symbol];this.coin.update(h=>P(T({},h),{[o]:P(T({},h[o]),{mexcPerpPrice:r.lastPrice})}))}}),this.status.update(r=>P(T({},r),{mexc:!0}));let s=new Date().getTime();this.lastReceiveTime.update(r=>P(T({},r),{mexc:s}))}},t.onclose=e=>{this.status.update(n=>P(T({},n),{mexc:!1}))}}disconnect(){console.log("DISCONNECT"),this.status.update(t=>P(T({},t),{mexc:!1})),this.socket.close(),this.start=!1,this.showStatus.update(t=>P(T({},t),{mexc:!1}))}}class _u{constructor(t,e,n,s,r,o,h,a,l,u,p,b,y){let v=JSON.parse(localStorage.getItem("coin"))||{};t.forEach((d,S)=>{let _=v.hasOwnProperty(d.name)?v[d.name].show:d.show;e[d.upbit]={name:d.name,show:_},n[d.bithumb]={name:d.name,show:_},s[d.binanceSpot]={name:d.name,show:_},r[d.binancePerp]={name:d.name,show:_},o[d.ftxSpot]={name:d.name,show:_},h[d.ftxPerp]={name:d.name,show:_},a[d.bybitSpot]={name:d.name,show:_},l[d.bybitPerp]={name:d.name,show:_},p[d.okxSpot]={name:d.name,show:_},u[d.okxPerp]={name:d.name,show:_},b[d.mexcPerp]=d.name,y[d.name]={id:S,upbitPrice:0,upbitChange:null,upbitVolume:0,kimp:0,currency:0,bithumbPrice:0,binanceSpotPrice:0,binancePerpPrice:0,ftxSpotPrice:0,ftxPerpPrice:0,bybitSpotPrice:0,bybitPerpPrice:0,okxSpotPrice:0,okxPerpPrice:0,mexcPerpPrice:0,name_kr:d.name_kr,show:Object.hasOwn(v,d.name)?v[d.name].show:d.show}})}}var Tu={allowDownsampling:!0};function Pu(i,t){return t===void 0&&(t=Tu),new ku(i,t)}var ku=function(){function i(t,e){var n=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(s){return n._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=e,this._configureCanvas(),this._installResolutionListener()}return i.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(i.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),i.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(i.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(t==null)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),i.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},i.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter(function(e){return e!=t})},i.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},i.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach(function(e){return e.call(t)})},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(t==null)throw new Error("No window is associated with the canvas");var e=t.devicePixelRatio;this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+e+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},i}();/*!
 * @license
 * TradingView Lightweight Charts v3.8.0
 * Copyright (c) 2020 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */var th,eh;function xe(i,t){var e,n=((e={})[0]=[],e[1]=[i.lineWidth,i.lineWidth],e[2]=[2*i.lineWidth,2*i.lineWidth],e[3]=[6*i.lineWidth,6*i.lineWidth],e[4]=[i.lineWidth,4*i.lineWidth],e)[t];i.setLineDash(n)}function wa(i,t,e,n){i.beginPath();var s=i.lineWidth%2?.5:0;i.moveTo(e,t+s),i.lineTo(n,t+s),i.stroke()}function _i(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function Bt(i){if(i===void 0)throw new Error("Value is undefined");return i}function k(i){if(i===null)throw new Error("Value is null");return i}function Fi(i){return k(Bt(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps"})(th||(th={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(eh||(eh={}));var ih={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Lt(i){return i<0?0:i>255?255:Math.round(i)||0}function _a(i){return i<=0||i>0?i<0?0:i>1?1:Math.round(1e4*i)/1e4:0}var Du=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Mu=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,xu=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Cu=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function As(i){var t;if((i=i.toLowerCase())in ih&&(i=ih[i]),t=Cu.exec(i)||xu.exec(i))return[Lt(parseInt(t[1],10)),Lt(parseInt(t[2],10)),Lt(parseInt(t[3],10)),_a(t.length<5?1:parseFloat(t[4]))];if(t=Mu.exec(i))return[Lt(parseInt(t[1],16)),Lt(parseInt(t[2],16)),Lt(parseInt(t[3],16)),1];if(t=Du.exec(i))return[Lt(17*parseInt(t[1],16)),Lt(17*parseInt(t[2],16)),Lt(17*parseInt(t[3],16)),1];throw new Error("Cannot parse color: ".concat(i))}function Bs(i){var t,e=As(i);return{t:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),i:(t=e,.199*t[0]+.687*t[1]+.114*t[2]>160?"black":"white")}}var Mr=function(i,t){return Mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])},Mr(i,t)};function X(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}Mr(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var z=function(){return z=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i},z.apply(this,arguments)};function Ta(i,t,e){if(e||arguments.length===2)for(var n,s=0,r=t.length;s<r;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return i.concat(n||Array.prototype.slice.call(t))}var ct=function(){function i(){this.h=[]}return i.prototype.u=function(t,e,n){var s={o:t,l:e,v:n===!0};this.h.push(s)},i.prototype._=function(t){var e=this.h.findIndex(function(n){return t===n.o});e>-1&&this.h.splice(e,1)},i.prototype.M=function(t){this.h=this.h.filter(function(e){return e.l!==t})},i.prototype.m=function(t,e){var n=Ta([],this.h,!0);this.h=this.h.filter(function(s){return!s.v}),n.forEach(function(s){return s.o(t,e)})},i.prototype.p=function(){return this.h.length>0},i.prototype.g=function(){this.h=[]},i}();function lt(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var n=0,s=t;n<s.length;n++){var r=s[n];for(var o in r)r[o]!==void 0&&(typeof r[o]!="object"||i[o]===void 0?i[o]=r[o]:lt(i[o],r[o]))}return i}function qt(i){return typeof i=="number"&&isFinite(i)}function Qi(i){return typeof i=="number"&&i%1==0}function Or(i){return typeof i=="string"}function ar(i){return typeof i=="boolean"}function Mt(i){var t,e,n,s=i;if(!s||typeof s!="object")return s;for(e in t=Array.isArray(s)?[]:{},s)s.hasOwnProperty(e)&&(n=s[e],t[e]=n&&typeof n=="object"?Mt(n):n);return t}function Eu(i){return i!==null}function Rs(i){return i===null?void 0:i}var Ur="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Ce(i,t,e){return e=e!==void 0?"".concat(e," "):"",t===void 0&&(t=Ur),"".concat(e).concat(i,"px ").concat(t)}var Au=function(){function i(t){this.k={N:1,C:4,S:NaN,T:"",D:"",A:"",B:0,L:0,F:0,O:0,V:0},this.P=t}return i.prototype.W=function(){var t=this.k,e=this.R(),n=this.I();return t.S===e&&t.D===n||(t.S=e,t.D=n,t.T=Ce(e,n),t.O=Math.floor(e/3.5),t.B=t.O,t.L=Math.max(Math.ceil(e/2-t.C/2),0),t.F=Math.ceil(e/2+t.C/2),t.V=Math.round(e/10)),t.A=this.j(),this.k},i.prototype.j=function(){return this.P.W().layout.textColor},i.prototype.R=function(){return this.P.W().layout.fontSize},i.prototype.I=function(){return this.P.W().layout.fontFamily},i}(),Ws=function(){function i(){this.q=[]}return i.prototype.U=function(t){this.q=t},i.prototype.H=function(t,e,n,s){this.q.forEach(function(r){t.save(),r.H(t,e,n,s),t.restore()})},i}(),tn=function(){function i(){}return i.prototype.H=function(t,e,n,s){t.save(),t.scale(e,e),this.Y(t,n,s),t.restore()},i.prototype.$=function(t,e,n,s){t.save(),t.scale(e,e),this.K(t,n,s),t.restore()},i.prototype.K=function(t,e,n){},i}(),Ru=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.X=null,e}return X(t,i),t.prototype.Z=function(e){this.X=e},t.prototype.Y=function(e){if(this.X!==null&&this.X.J!==null){var n=this.X.J,s=this.X,r=function(o){e.beginPath();for(var h=n.to-1;h>=n.from;--h){var a=s.G[h];e.moveTo(a.tt,a.it),e.arc(a.tt,a.it,o,0,2*Math.PI)}e.fill()};e.fillStyle=s.nt,r(s.st+2),e.fillStyle=s.ht,r(s.st)}},t}(tn);function Ou(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var Uu={from:0,to:1},Lu=function(){function i(t,e){this.ut=new Ws,this.ot=[],this.lt=[],this.ft=!0,this.P=t,this.ct=e,this.ut.U(this.ot)}return i.prototype.vt=function(t){var e=this.P._t();e.length!==this.ot.length&&(this.lt=e.map(Ou),this.ot=this.lt.map(function(n){var s=new Ru;return s.Z(n),s}),this.ut.U(this.ot)),this.ft=!0},i.prototype.dt=function(t,e,n){return this.ft&&(this.wt(t),this.ft=!1),this.ut},i.prototype.wt=function(t){var e=this,n=this.P._t(),s=this.ct.Mt(),r=this.P.bt();n.forEach(function(o,h){var a,l=e.lt[h],u=o.gt(s);if(u!==null&&o.yt()){var p=k(o.kt());l.ht=u.Nt,l.st=u.st,l.G[0].et=u.et,l.G[0].it=o.Ct().xt(u.et,p.St),l.nt=(a=u.Tt)!==null&&a!==void 0?a:e.P.Dt(l.G[0].it/t),l.G[0].rt=s,l.G[0].tt=r.At(s),l.J=Uu}else l.J=null})},i}(),Nu=function(){function i(t){this.Bt=t}return i.prototype.H=function(t,e,n,s){if(this.Bt!==null){var r=this.Bt.Lt.yt,o=this.Bt.Et.yt;if(r||o){t.save();var h=Math.round(this.Bt.tt*e),a=Math.round(this.Bt.it*e),l=Math.ceil(this.Bt.Ft*e),u=Math.ceil(this.Bt.Ot*e);t.lineCap="butt",r&&h>=0&&(t.lineWidth=Math.floor(this.Bt.Lt.Vt*e),t.strokeStyle=this.Bt.Lt.A,t.fillStyle=this.Bt.Lt.A,xe(t,this.Bt.Lt.Pt),function(p,b,y,v){p.beginPath();var d=p.lineWidth%2?.5:0;p.moveTo(b+d,y),p.lineTo(b+d,v),p.stroke()}(t,h,0,u)),o&&a>=0&&(t.lineWidth=Math.floor(this.Bt.Et.Vt*e),t.strokeStyle=this.Bt.Et.A,t.fillStyle=this.Bt.Et.A,xe(t,this.Bt.Et.Pt),wa(t,a,0,l)),t.restore()}}},i}(),Bu=function(){function i(t){this.ft=!0,this.Wt={Lt:{Vt:1,Pt:0,A:"",yt:!1},Et:{Vt:1,Pt:0,A:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new Nu(this.Wt),this.Rt=t}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){return this.ft&&(this.wt(),this.ft=!1),this.zt},i.prototype.wt=function(){var t=this.Rt.yt(),e=k(this.Rt.It()),n=e.jt().W().crosshair,s=this.Wt;s.Et.yt=t&&this.Rt.qt(e),s.Lt.yt=t&&this.Rt.Ut(),s.Et.Vt=n.horzLine.width,s.Et.Pt=n.horzLine.style,s.Et.A=n.horzLine.color,s.Lt.Vt=n.vertLine.width,s.Lt.Pt=n.vertLine.style,s.Lt.A=n.vertLine.color,s.Ft=e.Ht(),s.Ot=e.Yt(),s.tt=this.Rt.$t(),s.it=this.Rt.Kt()},i}();function Wu(i,t,e,n,s,r){i.fillRect(t+r,e,n-2*r,r),i.fillRect(t+r,e+s-r,n-2*r,r),i.fillRect(t,e,r,s),i.fillRect(t+n-r,e,r,s)}function ee(i,t,e){i.save(),i.scale(t,t),e(),i.restore()}function Xs(i,t,e,n,s,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,n,s),i.restore()}function Pa(i,t,e,n,s,r,o){i.save(),i.globalCompositeOperation="copy";var h=i.createLinearGradient(0,0,0,s);h.addColorStop(0,r),h.addColorStop(1,o),i.fillStyle=h,i.fillRect(t,e,n,s),i.restore()}var nh,sh=function(){function i(t,e){this.Z(t,e)}return i.prototype.Z=function(t,e){this.Bt=t,this.Xt=e},i.prototype.H=function(t,e,n,s,r,o){if(this.Bt.yt){t.font=e.T;var h=this.Bt.Zt||!this.Bt.Jt?e.C:0,a=e.N,l=e.O,u=e.B,p=e.L,b=e.F,y=this.Bt.Gt,v=Math.ceil(n.Qt(t,y)),d=e.V,S=e.S+l+u,_=Math.ceil(.5*S),C=a+v+p+b+h,x=this.Xt.ti;this.Xt.ii&&(x=this.Xt.ii);var N,B,j=(x=Math.round(x))-_,rt=j+S,et=r==="right",H=et?s:0,dt=Math.ceil(s*o),bt=H;if(t.fillStyle=this.Xt.t,t.lineWidth=1,t.lineCap="butt",y){et?(N=H-h,B=(bt=H-C)+b):(bt=H+C,N=H+h,B=H+a+h+p);var Rt=Math.max(1,Math.floor(o)),xt=Math.max(1,Math.floor(a*o)),vt=et?dt:0,U=Math.round(j*o),q=Math.round(bt*o),F=Math.round(x*o)-Math.floor(.5*o),R=F+Rt+(F-U),K=Math.round(N*o);t.save(),t.beginPath(),t.moveTo(vt,U),t.lineTo(q,U),t.lineTo(q,R),t.lineTo(vt,R),t.fill(),t.fillStyle=this.Bt.Tt,t.fillRect(et?dt-xt:0,U,xt,R-U),this.Bt.Zt&&(t.fillStyle=this.Xt.A,t.fillRect(vt,F,K-vt,Rt)),t.textAlign="left",t.fillStyle=this.Xt.A,ee(t,o,function(){t.fillText(y,B,rt-u-d)}),t.restore()}}},i.prototype.Yt=function(t,e){return this.Bt.yt?t.S+t.O+t.B:0},i}(),Lr=function(){function i(t){this.ni={ti:0,A:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(t||sh)(this.si,this.ni),this.ei=new(t||sh)(this.hi,this.ni)}return i.prototype.Gt=function(){return this.ui(),this.si.Gt},i.prototype.ti=function(){return this.ui(),this.ni.ti},i.prototype.vt=function(){this.ft=!0},i.prototype.Yt=function(t,e){return e===void 0&&(e=!1),Math.max(this.ri.Yt(t,e),this.ei.Yt(t,e))},i.prototype.ai=function(){return this.ni.ii||0},i.prototype.oi=function(t){this.ni.ii=t},i.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},i.prototype.fi=function(){return this.ui(),this.si.yt},i.prototype.dt=function(t){return this.ui(),this.si.Zt=this.si.Zt&&t.W().drawTicks,this.hi.Zt=this.hi.Zt&&t.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},i.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},i.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},i}(),Xu=function(i){function t(e,n,s){var r=i.call(this)||this;return r.Rt=e,r._i=n,r.di=s,r}return X(t,i),t.prototype.vi=function(e,n,s){e.yt=!1;var r=this.Rt.W().horzLine;if(r.labelVisible){var o=this._i.kt();if(this.Rt.yt()&&!this._i.wi()&&o!==null){var h=Bs(r.labelBackgroundColor);s.t=h.t,s.A=h.i;var a=this.di(this._i);s.ti=a.ti,e.Gt=this._i.Mi(a.et,o),e.yt=!0}}},t}(Lr),zu=/[1-9]/g,Iu=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n){var s=this;if(this.Bt!==null&&this.Bt.yt!==!1&&this.Bt.Gt.length!==0){t.font=e.T;var r=Math.round(e.bi.Qt(t,this.Bt.Gt,zu));if(!(r<=0)){t.save();var o=e.mi,h=r+2*o,a=h/2,l=this.Bt.Ht,u=this.Bt.ti,p=Math.floor(u-a)+.5;p<0?(u+=Math.abs(0-p),p=Math.floor(u-a)+.5):p+h>l&&(u-=Math.abs(l-(p+h)),p=Math.floor(u-a)+.5);var b=p+h,y=0+e.N+e.O+e.S+e.B;t.fillStyle=this.Bt.t;var v=Math.round(p*n),d=Math.round(0*n),S=Math.round(b*n),_=Math.round(y*n);t.fillRect(v,d,S-v,_-d);var C=Math.round(this.Bt.ti*n),x=d,N=Math.round((x+e.N+e.C)*n);t.fillStyle=this.Bt.A;var B=Math.max(1,Math.floor(n)),j=Math.floor(.5*n);t.fillRect(C-j,x,B,N-x);var rt=y-e.V-e.B;t.textAlign="left",t.fillStyle=this.Bt.A,ee(t,n,function(){t.fillText(k(s.Bt).Gt,p+o,rt)}),t.restore()}}},i}(),Ku=function(){function i(t,e,n){this.ft=!0,this.zt=new Iu,this.Wt={yt:!1,t:"#4c525e",A:"white",Gt:"",Ht:0,ti:NaN},this.ct=t,this.pi=e,this.di=n}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},i.prototype.wt=function(){var t=this.Wt;t.yt=!1;var e=this.ct.W().vertLine;if(e.labelVisible){var n=this.pi.bt();if(!n.wi()){var s=n.gi(this.ct.Mt());t.Ht=n.Ht();var r=this.di();if(r.rt){t.ti=r.ti,t.Gt=n.yi(k(s)),t.yt=!0;var o=Bs(e.labelBackgroundColor);t.t=o.t,t.A=o.i}}}},i}(),Nr=function(){function i(){this.ki=null,this.Ni=0}return i.prototype.xi=function(){return this.Ni},i.prototype.Ci=function(t){this.Ni=t},i.prototype.Ct=function(){return this.ki},i.prototype.Si=function(t){this.ki=t},i.prototype.Ti=function(){return[]},i.prototype.yt=function(){return!0},i}();(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet"})(nh||(nh={}));var Vu=function(i){function t(e,n){var s=i.call(this)||this;s.Di=null,s.Ai=NaN,s.Bi=0,s.Li=!0,s.Ei=new Map,s.Fi=!1,s.Oi=NaN,s.Vi=NaN,s.Pi=NaN,s.Wi=NaN,s.pi=e,s.zi=n,s.Ri=new Lu(e,s);var r,o;s.Ii=(r=function(){return s.Ai},o=function(){return s.Vi},function(a){var l=o(),u=r();if(a===k(s.Di).ji())return{et:u,ti:l};var p=k(a.kt());return{et:a.qi(l,p),ti:l}});var h=function(a,l){return function(){return{rt:s.pi.bt().gi(a()),ti:l()}}}(function(){return s.Bi},function(){return s.$t()});return s.Ui=new Ku(s,e,h),s.Hi=new Bu(s),s}return X(t,i),t.prototype.W=function(){return this.zi},t.prototype.Yi=function(e,n){this.Pi=e,this.Wi=n},t.prototype.$i=function(){this.Pi=NaN,this.Wi=NaN},t.prototype.Ki=function(){return this.Pi},t.prototype.Xi=function(){return this.Wi},t.prototype.Zi=function(e,n,s){this.Fi||(this.Fi=!0),this.Li=!0,this.Ji(e,n,s)},t.prototype.Mt=function(){return this.Bi},t.prototype.$t=function(){return this.Oi},t.prototype.Kt=function(){return this.Vi},t.prototype.yt=function(){return this.Li},t.prototype.Gi=function(){this.Li=!1,this.Qi(),this.Ai=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.$i()},t.prototype.tn=function(e){return this.Di!==null?[this.Hi,this.Ri]:[]},t.prototype.qt=function(e){return e===this.Di&&this.zi.horzLine.visible},t.prototype.Ut=function(){return this.zi.vertLine.visible},t.prototype.nn=function(e,n){this.Li&&this.Di===e||this.Ei.clear();var s=[];return this.Di===e&&s.push(this.sn(this.Ei,n,this.Ii)),s},t.prototype.Ti=function(){return this.Li?[this.Ui]:[]},t.prototype.It=function(){return this.Di},t.prototype.hn=function(){this.Hi.vt(),this.Ei.forEach(function(e){return e.vt()}),this.Ui.vt(),this.Ri.vt()},t.prototype.rn=function(e){return e&&!e.ji().wi()?e.ji():null},t.prototype.Ji=function(e,n,s){this.en(e,n,s)&&this.hn()},t.prototype.en=function(e,n,s){var r=this.Oi,o=this.Vi,h=this.Ai,a=this.Bi,l=this.Di,u=this.rn(s);this.Bi=e,this.Oi=isNaN(e)?NaN:this.pi.bt().At(e),this.Di=s;var p=u!==null?u.kt():null;return u!==null&&p!==null?(this.Ai=n,this.Vi=u.xt(n,p)):(this.Ai=NaN,this.Vi=NaN),r!==this.Oi||o!==this.Vi||a!==this.Bi||h!==this.Ai||l!==this.Di},t.prototype.Qi=function(){var e=this.pi._t().map(function(s){return s.an().un()}).filter(Eu),n=e.length===0?null:Math.max.apply(Math,e);this.Bi=n!==null?n:NaN},t.prototype.sn=function(e,n,s){var r=e.get(n);return r===void 0&&(r=new Xu(this,n,s),e.set(n,r)),r},t}(Nr);function zs(i){return i==="left"||i==="right"}var Ut=function(){function i(t){this.on=new Map,this.ln=[],this.fn=t}return i.prototype.cn=function(t,e){var n=function(s,r){return s===void 0?r:{vn:Math.max(s.vn,r.vn),_n:s._n||r._n}}(this.on.get(t),e);this.on.set(t,n)},i.prototype.dn=function(){return this.fn},i.prototype.wn=function(t){var e=this.on.get(t);return e===void 0?{vn:this.fn}:{vn:Math.max(this.fn,e.vn),_n:e._n}},i.prototype.Mn=function(){this.ln=[{bn:0}]},i.prototype.mn=function(t){this.ln=[{bn:1,St:t}]},i.prototype.pn=function(){this.ln=[{bn:4}]},i.prototype.gn=function(t){this.ln.push({bn:2,St:t})},i.prototype.yn=function(t){this.ln.push({bn:3,St:t})},i.prototype.kn=function(){return this.ln},i.prototype.Nn=function(t){for(var e=this,n=0,s=t.ln;n<s.length;n++){var r=s[n];this.xn(r)}this.fn=Math.max(this.fn,t.fn),t.on.forEach(function(o,h){e.cn(h,o)})},i.prototype.xn=function(t){switch(t.bn){case 0:this.Mn();break;case 1:this.mn(t.St);break;case 2:this.gn(t.St);break;case 3:this.yn(t.St);break;case 4:this.pn()}},i}(),rh=".";function oe(i,t){if(!qt(i))return"n/a";if(!Qi(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}var Is=function(){function i(t,e){if(e||(e=1),qt(t)&&Qi(t)||(t=100),t<0)throw new TypeError("invalid base");this._i=t,this.Cn=e,this.Sn()}return i.prototype.format=function(t){var e=t<0?"\u2212":"";return t=Math.abs(t),e+this.Tn(t)},i.prototype.Sn=function(){if(this.Dn=0,this._i>0&&this.Cn>0)for(var t=this._i;t>1;)t/=10,this.Dn++},i.prototype.Tn=function(t){var e=this._i/this.Cn,n=Math.floor(t),s="",r=this.Dn!==void 0?this.Dn:NaN;if(e>1){var o=+(Math.round(t*e)-n*e).toFixed(this.Dn);o>=e&&(o-=e,n+=1),s=rh+oe(+o.toFixed(this.Dn)*this.Cn,r)}else n=Math.round(n*e)/e,r>0&&(s=rh+oe(0,r));return n.toFixed(0)+s},i}(),ka=function(i){function t(e){return e===void 0&&(e=100),i.call(this,e)||this}return X(t,i),t.prototype.format=function(e){return"".concat(i.prototype.format.call(this,e),"%")},t}(Is),Fu=function(){function i(t){this.An=t}return i.prototype.format=function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this.Bn(t):t<999995?e+this.Bn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Bn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Bn(t/1e9)+"B")},i.prototype.Bn=function(t){var e=Math.pow(10,this.An);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this.An).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,function(n,s){return s})},i}();function Da(i,t,e,n){if(t.length!==0){var s=t[n.from].tt,r=t[n.from].it;i.moveTo(s,r);for(var o=n.from+1;o<n.to;++o){var h=t[o];if(e===1){var a=t[o-1].it,l=h.tt;i.lineTo(l,a)}i.lineTo(h.tt,h.it)}}}var Ma=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.X=null,e}return X(t,i),t.prototype.Z=function(e){this.X=e},t.prototype.Y=function(e){if(this.X!==null&&this.X.G.length!==0&&this.X.J!==null){if(e.lineCap="butt",e.lineJoin="round",e.lineWidth=this.X.Vt,xe(e,this.X.Pt),e.lineWidth=1,e.beginPath(),this.X.G.length===1){var n=this.X.G[0],s=this.X.Ln/2;e.moveTo(n.tt-s,this.X.En),e.lineTo(n.tt-s,n.it),e.lineTo(n.tt+s,n.it),e.lineTo(n.tt+s,this.X.En)}else e.moveTo(this.X.G[this.X.J.from].tt,this.X.En),e.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),Da(e,this.X.G,this.X.Fn,this.X.J),this.X.J.to>this.X.J.from&&(e.lineTo(this.X.G[this.X.J.to-1].tt,this.X.En),e.lineTo(this.X.G[this.X.J.from].tt,this.X.En));e.closePath(),e.fillStyle=this.On(e),e.fill()}},t}(tn),Ju=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return X(t,i),t.prototype.On=function(e){var n=this.X,s=e.createLinearGradient(0,0,0,n.Vn);return s.addColorStop(0,n.Pn),s.addColorStop(1,n.Wn),s},t}(Ma),xa=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.X=null,e}return X(t,i),t.prototype.Z=function(e){this.X=e},t.prototype.Y=function(e){if(this.X!==null&&this.X.G.length!==0&&this.X.J!==null)if(e.lineCap="butt",e.lineWidth=this.X.Vt,xe(e,this.X.Pt),e.strokeStyle=this.zn(e),e.lineJoin="round",this.X.G.length===1){e.beginPath();var n=this.X.G[0];e.moveTo(n.tt-this.X.Ln/2,n.it),e.lineTo(n.tt+this.X.Ln/2,n.it),n.A!==void 0&&(e.strokeStyle=n.A),e.stroke()}else this.Rn(e,this.X)},t.prototype.Rn=function(e,n){e.beginPath(),Da(e,n.G,n.Fn,n.J),e.stroke()},t}(tn),Ca=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return X(t,i),t.prototype.Rn=function(e,n){var s,r,o=n.G,h=n.J,a=n.Fn,l=n.ht;if(o.length!==0&&h!==null){e.beginPath();var u=o[h.from];e.moveTo(u.tt,u.it);var p=(s=u.A)!==null&&s!==void 0?s:l;e.strokeStyle=p;for(var b=function(_){e.stroke(),e.beginPath(),e.strokeStyle=_,p=_},y=h.from+1;y<h.to;++y){var v=o[y],d=o[y-1],S=(r=v.A)!==null&&r!==void 0?r:l;a===1&&(e.lineTo(v.tt,d.it),S!==p&&(b(S),e.moveTo(v.tt,d.it))),e.lineTo(v.tt,v.it),a!==1&&S!==p&&(b(S),e.moveTo(v.tt,v.it))}e.stroke()}},t.prototype.zn=function(){return this.X.ht},t}(xa);function en(i,t,e,n,s){n===void 0&&(n=0),s===void 0&&(s=i.length);for(var r=s-n;0<r;){var o=r>>1,h=n+o;e(i[h],t)?(n=h+1,r-=o+1):r=o}return n}function Ea(i,t,e,n,s){n===void 0&&(n=0),s===void 0&&(s=i.length);for(var r=s-n;0<r;){var o=r>>1,h=n+o;e(t,i[h])?r=o:(n=h+1,r-=o+1)}return n}function Gu(i,t){return i.rt<t}function ju(i,t){return i<t.rt}function Br(i,t,e){var n=t.In(),s=t.jn(),r=en(i,n,Gu),o=Ea(i,s,ju);if(!e)return{from:r,to:o};var h=r,a=o;return r>0&&r<i.length&&i[r].rt>=n&&(h=r-1),o>0&&o<i.length&&i[o-1].rt<=s&&(a=o+1),{from:h,to:a}}var Wr=function(){function i(t,e,n){this.qn=!0,this.Un=!0,this.Hn=!0,this.Yn=[],this.$n=null,this.Kn=t,this.Xn=e,this.Zn=n}return i.prototype.vt=function(t){this.qn=!0,t==="data"&&(this.Un=!0),t==="options"&&(this.Hn=!0)},i.prototype.Jn=function(){this.Un&&(this.Gn(),this.Un=!1),this.qn&&(this.Qn(),this.qn=!1),this.Hn&&(this.ts(),this.Hn=!1)},i.prototype.ns=function(){this.$n=null},i.prototype.Qn=function(){var t=this.Kn.Ct(),e=this.Xn.bt();if(this.ns(),!e.wi()&&!t.wi()){var n=e.ss();if(n!==null&&this.Kn.an().hs()!==0){var s=this.Kn.kt();s!==null&&(this.$n=Br(this.Yn,n,this.Zn),this.rs(t,e,s.St))}}},i}(),Xr=function(i){function t(e,n){return i.call(this,e,n,!0)||this}return X(t,i),t.prototype.rs=function(e,n,s){n.es(this.Yn,Rs(this.$n)),e.us(this.Yn,s,Rs(this.$n))},t.prototype.os=function(e,n){return{rt:e,et:n,tt:NaN,it:NaN}},t.prototype.ts=function(){},t.prototype.Gn=function(){var e=this,n=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(s){var r=s.St[3];return e.cs(s.vs,r,n)})},t}(Wr),Hu=function(i){function t(e,n){var s=i.call(this,e,n)||this;return s.zt=new Ws,s._s=new Ju,s.ds=new Ca,s.zt.U([s._s,s.ds]),s}return X(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var s=this.Kn.W();return this.Jn(),this._s.Z({Fn:s.lineType,G:this.Yn,Pt:s.lineStyle,Vt:s.lineWidth,Pn:s.topColor,Wn:s.bottomColor,En:e,Vn:e,J:this.$n,Ln:this.Xn.bt().ws()}),this.ds.Z({Fn:s.lineType,G:this.Yn,ht:s.lineColor,Pt:s.lineStyle,Vt:s.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()}),this.zt},t.prototype.cs=function(e,n){return this.os(e,n)},t}(Xr),Yu=function(){function i(){this.Bt=null,this.Ms=0,this.bs=0}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,s){if(this.Bt!==null&&this.Bt.an.length!==0&&this.Bt.J!==null){this.Ms=this.ps(e),this.Ms>=2&&Math.max(1,Math.floor(e))%2!=this.Ms%2&&this.Ms--,this.bs=this.Bt.gs?Math.min(this.Ms,Math.floor(e)):this.Ms;for(var r=null,o=this.bs<=this.Ms&&this.Bt.ws>=Math.floor(1.5*e),h=this.Bt.J.from;h<this.Bt.J.to;++h){var a=this.Bt.an[h];r!==a.A&&(t.fillStyle=a.A,r=a.A);var l=Math.floor(.5*this.bs),u=Math.round(a.tt*e),p=u-l,b=this.bs,y=p+b-1,v=Math.min(a.ys,a.ks),d=Math.max(a.ys,a.ks),S=Math.round(v*e)-l,_=Math.round(d*e)+l,C=Math.max(_-S,this.bs);t.fillRect(p,S,b,C);var x=Math.ceil(1.5*this.Ms);if(o){if(this.Bt.Ns){var N=u-x,B=Math.max(S,Math.round(a.xs*e)-l),j=B+b-1;j>S+C-1&&(B=(j=S+C-1)-b+1),t.fillRect(N,B,p-N,j-B+1)}var rt=u+x,et=Math.max(S,Math.round(a.Cs*e)-l),H=et+b-1;H>S+C-1&&(et=(H=S+C-1)-b+1),t.fillRect(y+1,et,rt-y,H-et+1)}}}},i.prototype.ps=function(t){var e=Math.floor(t);return Math.max(e,Math.floor(function(n,s){return Math.floor(.3*n*s)}(k(this.Bt).ws,t)))},i}(),Aa=function(i){function t(e,n){return i.call(this,e,n,!1)||this}return X(t,i),t.prototype.rs=function(e,n,s){n.es(this.Yn,Rs(this.$n)),e.Ss(this.Yn,s,Rs(this.$n))},t.prototype.Ts=function(e,n,s){return{rt:e,open:n.St[0],high:n.St[1],low:n.St[2],close:n.St[3],tt:NaN,xs:NaN,ys:NaN,ks:NaN,Cs:NaN}},t.prototype.Gn=function(){var e=this,n=this.Kn.ls();this.Yn=this.Kn.an().fs().map(function(s){return e.cs(s.vs,s,n)})},t}(Wr),Zu=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.zt=new Yu,e}return X(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var s=this.Kn.W();this.Jn();var r={an:this.Yn,ws:this.Xn.bt().ws(),Ns:s.openVisible,gs:s.thinBars,J:this.$n};return this.zt.Z(r),this.zt},t.prototype.ts=function(){var e=this;this.Yn.forEach(function(n){n.A=e.Kn.ls().As(n.rt).Ds})},t.prototype.cs=function(e,n,s){return z(z({},this.Ts(e,n,s)),{A:s.As(e).Ds})},t}(Aa);function Os(i,t,e){return Math.min(Math.max(i,t),e)}function ys(i,t,e){return t-i<=e}function Ra(i){return i<=0?NaN:Math.log(i)/Math.log(10)}function xr(i){var t=Math.ceil(i);return t%2!=0?t-1:t}function Oa(i){var t=Math.ceil(i);return t%2==0?t-1:t}var qu=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return X(t,i),t.prototype.On=function(e){var n=this.X,s=e.createLinearGradient(0,0,0,n.Vn),r=Os(n.En/n.Vn,0,1);return s.addColorStop(0,n.Bs),s.addColorStop(r,n.Ls),s.addColorStop(r,n.Es),s.addColorStop(1,n.Fs),s},t}(Ma),Qu=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return X(t,i),t.prototype.zn=function(e){var n=this.X,s=e.createLinearGradient(0,0,0,n.Vn),r=Os(n.En/n.Vn,0,1);return s.addColorStop(0,n.Pn),s.addColorStop(r,n.Pn),s.addColorStop(r,n.Wn),s.addColorStop(1,n.Wn),s},t}(xa),$u=function(i){function t(e,n){var s=i.call(this,e,n)||this;return s.Os=new qu,s.Vs=new Qu,s.ut=new Ws,s.ut.U([s.Os,s.Vs]),s}return X(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var s=this.Kn.kt();if(s===null)return null;var r=this.Kn.W();this.Jn();var o=this.Kn.Ct().xt(r.baseValue.price,s.St),h=this.Xn.bt().ws();return this.Os.Z({G:this.Yn,Bs:r.topFillColor1,Ls:r.topFillColor2,Es:r.bottomFillColor1,Fs:r.bottomFillColor2,Vt:r.lineWidth,Pt:r.lineStyle,Fn:0,En:o,Vn:e,J:this.$n,Ln:h}),this.Vs.Z({G:this.Yn,Pn:r.topLineColor,Wn:r.bottomLineColor,Vt:r.lineWidth,Pt:r.lineStyle,Fn:0,En:o,Vn:e,J:this.$n,Ln:h}),this.ut},t.prototype.cs=function(e,n){return this.os(e,n)},t}(Xr),tc=function(){function i(){this.Bt=null,this.Ms=0}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,s){if(this.Bt!==null&&this.Bt.an.length!==0&&this.Bt.J!==null){this.Ms=function(h,a){if(h>=2.5&&h<=4)return Math.floor(3*a);var l=1-.2*Math.atan(Math.max(4,h)-4)/(.5*Math.PI),u=Math.floor(h*l*a),p=Math.floor(h*a),b=Math.min(u,p);return Math.max(Math.floor(a),b)}(this.Bt.ws,e),this.Ms>=2&&Math.floor(e)%2!=this.Ms%2&&this.Ms--;var r=this.Bt.an;this.Bt.Ps&&this.Ws(t,r,this.Bt.J,e),this.Bt.zs&&this.Rs(t,r,this.Bt.J,this.Bt.ws,e);var o=this.Is(e);(!this.Bt.zs||this.Ms>2*o)&&this.js(t,r,this.Bt.J,e)}},i.prototype.Ws=function(t,e,n,s){if(this.Bt!==null){var r="",o=Math.min(Math.floor(s),Math.floor(this.Bt.ws*s));o=Math.max(Math.floor(s),Math.min(o,this.Ms));for(var h=Math.floor(.5*o),a=null,l=n.from;l<n.to;l++){var u=e[l];u.qs!==r&&(t.fillStyle=u.qs,r=u.qs);var p=Math.round(Math.min(u.xs,u.Cs)*s),b=Math.round(Math.max(u.xs,u.Cs)*s),y=Math.round(u.ys*s),v=Math.round(u.ks*s),d=Math.round(s*u.tt)-h,S=d+o-1;a!==null&&(d=Math.max(a+1,d),d=Math.min(d,S));var _=S-d+1;t.fillRect(d,y,_,p-y),t.fillRect(d,b+1,_,v-b),a=S}}},i.prototype.Is=function(t){var e=Math.floor(1*t);this.Ms<=2*e&&(e=Math.floor(.5*(this.Ms-1)));var n=Math.max(Math.floor(t),e);return this.Ms<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n},i.prototype.Rs=function(t,e,n,s,r){if(this.Bt!==null)for(var o="",h=this.Is(r),a=null,l=n.from;l<n.to;l++){var u=e[l];u.Tt!==o&&(t.fillStyle=u.Tt,o=u.Tt);var p=Math.round(u.tt*r)-Math.floor(.5*this.Ms),b=p+this.Ms-1,y=Math.round(Math.min(u.xs,u.Cs)*r),v=Math.round(Math.max(u.xs,u.Cs)*r);if(a!==null&&(p=Math.max(a+1,p),p=Math.min(p,b)),this.Bt.ws*r>2*h)Wu(t,p,y,b-p+1,v-y+1,h);else{var d=b-p+1;t.fillRect(p,y,d,v-y+1)}a=b}},i.prototype.js=function(t,e,n,s){if(this.Bt!==null)for(var r="",o=this.Is(s),h=n.from;h<n.to;h++){var a=e[h],l=Math.round(Math.min(a.xs,a.Cs)*s),u=Math.round(Math.max(a.xs,a.Cs)*s),p=Math.round(a.tt*s)-Math.floor(.5*this.Ms),b=p+this.Ms-1;if(a.A!==r){var y=a.A;t.fillStyle=y,r=y}this.Bt.zs&&(p+=o,l+=o,b-=o,u-=o),l>u||t.fillRect(p,l,b-p+1,u-l+1)}},i}(),ec=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.zt=new tc,e}return X(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var s=this.Kn.W();this.Jn();var r={an:this.Yn,ws:this.Xn.bt().ws(),Ps:s.wickVisible,zs:s.borderVisible,J:this.$n};return this.zt.Z(r),this.zt},t.prototype.ts=function(){var e=this;this.Yn.forEach(function(n){var s=e.Kn.ls().As(n.rt);n.A=s.Ds,n.qs=s.Us,n.Tt=s.Hs})},t.prototype.cs=function(e,n,s){var r=s.As(e);return z(z({},this.Ts(e,n,s)),{A:r.Ds,qs:r.Us,Tt:r.Hs})},t}(Aa),ic=function(){function i(){this.Bt=null,this.Ys=[]}return i.prototype.Z=function(t){this.Bt=t,this.Ys=[]},i.prototype.H=function(t,e,n,s){if(this.Bt!==null&&this.Bt.G.length!==0&&this.Bt.J!==null){this.Ys.length||this.$s(e);for(var r=Math.max(1,Math.floor(e)),o=Math.round(this.Bt.Ks*e)-Math.floor(r/2),h=o+r,a=this.Bt.J.from;a<this.Bt.J.to;a++){var l=this.Bt.G[a],u=this.Ys[a-this.Bt.J.from],p=Math.round(l.it*e);t.fillStyle=l.A;var b=void 0,y=void 0;p<=o?(b=p,y=h):(b=o,y=p-Math.floor(r/2)+r),t.fillRect(u.In,b,u.jn-u.In+1,y-b)}}},i.prototype.$s=function(t){if(this.Bt!==null&&this.Bt.G.length!==0&&this.Bt.J!==null){var e=Math.ceil(this.Bt.ws*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Bt.ws*t)-e;this.Ys=new Array(this.Bt.J.to-this.Bt.J.from);for(var s=this.Bt.J.from;s<this.Bt.J.to;s++){var r,o=this.Bt.G[s],h=Math.round(o.tt*t),a=void 0,l=void 0;n%2?(a=h-(r=(n-1)/2),l=h+r):(a=h-(r=n/2),l=h+r-1),this.Ys[s-this.Bt.J.from]={In:a,jn:l,Xs:h,Zs:o.tt*t,rt:o.rt}}for(s=this.Bt.J.from+1;s<this.Bt.J.to;s++){var u=this.Ys[s-this.Bt.J.from],p=this.Ys[s-this.Bt.J.from-1];u.rt===p.rt+1&&u.In-p.jn!==e+1&&(p.Xs>p.Zs?p.jn=u.In-e-1:u.In=p.jn+e+1)}var b=Math.ceil(this.Bt.ws*t);for(s=this.Bt.J.from;s<this.Bt.J.to;s++){(u=this.Ys[s-this.Bt.J.from]).jn<u.In&&(u.jn=u.In);var y=u.jn-u.In+1;b=Math.min(y,b)}if(e>0&&b<4)for(s=this.Bt.J.from;s<this.Bt.J.to;s++)(y=(u=this.Ys[s-this.Bt.J.from]).jn-u.In+1)>b&&(u.Xs>u.Zs?u.jn-=1:u.In+=1)}else this.Ys=[]},i}();function oh(i){return{G:[],ws:i,Ks:NaN,J:null}}function nc(i,t,e){return{rt:i,et:t,tt:NaN,it:NaN,A:e}}var sc=function(i){function t(e,n){var s=i.call(this,e,n,!1)||this;return s.ut=new Ws,s.Js=oh(0),s.zt=new ic,s}return X(t,i),t.prototype.dt=function(e,n){return this.Kn.yt()?(this.Jn(),this.ut):null},t.prototype.Gn=function(){var e=this.Xn.bt().ws();this.Js=oh(e);for(var n=0,s=0,r=this.Kn.W().color,o=0,h=this.Kn.an().fs();o<h.length;o++){var a=h[o],l=a.St[3],u=a.A!==void 0?a.A:r,p=nc(a.vs,l,u);++n<this.Js.G.length?this.Js.G[n]=p:this.Js.G.push(p),this.Yn[s++]={rt:a.vs,tt:0}}this.zt.Z(this.Js),this.ut.U([this.zt])},t.prototype.ts=function(){},t.prototype.ns=function(){i.prototype.ns.call(this),this.Js.J=null},t.prototype.rs=function(e,n,s){if(this.$n!==null){var r=n.ws(),o=k(n.ss()),h=e.xt(this.Kn.W().base,s);n.es(this.Js.G),e.us(this.Js.G,s),this.Js.Ks=h,this.Js.J=Br(this.Js.G,o,!1),this.Js.ws=r,this.zt.Z(this.Js)}},t}(Wr),rc=function(i){function t(e,n){var s=i.call(this,e,n)||this;return s.ds=new Ca,s}return X(t,i),t.prototype.dt=function(e,n){if(!this.Kn.yt())return null;var s=this.Kn.W();this.Jn();var r={G:this.Yn,ht:s.color,Pt:s.lineStyle,Fn:s.lineType,Vt:s.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()};return this.ds.Z(r),this.ds},t.prototype.ts=function(){var e=this;this.Yn.forEach(function(n){n.A=e.Kn.ls().As(n.rt).Ds})},t.prototype.cs=function(e,n,s){var r=this.os(e,n);return r.A=s.As(e).Ds,r},t}(Xr),oc=/[2-9]/g,gi=function(){function i(t){t===void 0&&(t=50),this.Gs=new Map,this.Qs=0,this.th=Array.from(new Array(t))}return i.prototype.ih=function(){this.Gs.clear(),this.th.fill(void 0)},i.prototype.Qt=function(t,e,n){var s=n||oc,r=String(e).replace(s,"0"),o=this.Gs.get(r);if(o===void 0){if((o=t.measureText(r).width)===0&&e.length!==0)return 0;var h=this.th[this.Qs];h!==void 0&&this.Gs.delete(h),this.th[this.Qs]=r,this.Qs=(this.Qs+1)%this.th.length,this.Gs.set(r,o)}return o},i}(),hc=function(){function i(t){this.nh=null,this.k=null,this.sh="right",this.hh=0,this.rh=t}return i.prototype.eh=function(t,e,n,s){this.nh=t,this.k=e,this.hh=n,this.sh=s},i.prototype.H=function(t,e){this.k!==null&&this.nh!==null&&this.nh.H(t,this.k,this.rh,this.hh,this.sh,e)},i}(),Ua=function(){function i(t,e,n){this.uh=t,this.rh=new gi(50),this.ah=e,this.P=n,this.R=-1,this.zt=new hc(this.rh)}return i.prototype.dt=function(t,e){var n=this.P.oh(this.ah);if(n===null)return null;var s=n.lh(this.ah)?n.fh():this.ah.Ct();if(s===null)return null;var r=n._h(s);if(r==="overlay")return null;var o=this.P.dh();return o.S!==this.R&&(this.R=o.S,this.rh.ih()),this.zt.eh(this.uh.ci(),o,e,r),this.zt},i}(),ac=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,s){if(this.Bt!==null&&this.Bt.yt!==!1){var r=Math.round(this.Bt.it*e);if(!(r<0||r>Math.ceil(this.Bt.Yt*e))){var o=Math.ceil(this.Bt.Ht*e);t.lineCap="butt",t.strokeStyle=this.Bt.A,t.lineWidth=Math.floor(this.Bt.Vt*e),xe(t,this.Bt.Pt),wa(t,r,0,o)}}},i}(),zr=function(){function i(t){this.wh={Ht:0,Yt:0,it:0,A:"rgba(0, 0, 0, 0)",Vt:1,Pt:0,yt:!1},this.Mh=new ac,this.ft=!0,this.Kn=t,this.Xn=t.jt(),this.Mh.Z(this.wh)}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){return this.Kn.yt()?(this.ft&&(this.bh(t,e),this.ft=!1),this.Mh):null},i}(),lc=function(i){function t(e){return i.call(this,e)||this}return X(t,i),t.prototype.bh=function(e,n){this.wh.yt=!1;var s=this.Kn.Ct(),r=s.mh().mh;if(r===2||r===3){var o=this.Kn.W();if(o.baseLineVisible&&this.Kn.yt()){var h=this.Kn.kt();h!==null&&(this.wh.yt=!0,this.wh.it=s.xt(h.St,h.St),this.wh.Ht=n,this.wh.Yt=e,this.wh.A=o.baseLineColor,this.wh.Vt=o.baseLineWidth,this.wh.Pt=o.baseLineStyle)}}},t}(zr),uc=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.ph=function(){return this.Bt},i.prototype.H=function(t,e,n,s){var r=this.Bt;if(r!==null){t.save();var o=Math.max(1,Math.floor(e)),h=o%2/2,a=Math.round(r.Zs.x*e)+h,l=r.Zs.y*e;t.fillStyle=r.gh,t.beginPath();var u=Math.max(2,1.5*r.yh)*e;t.arc(a,l,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.kh,t.beginPath(),t.arc(a,l,r.st*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=o,t.strokeStyle=r.Nh,t.beginPath(),t.arc(a,l,r.st*e+o/2,0,2*Math.PI,!1),t.stroke(),t.restore()}},i}(),cc=[{xh:0,Ch:.25,Sh:4,Th:10,Dh:.25,Ah:0,Bh:.4,Lh:.8},{xh:.25,Ch:.525,Sh:10,Th:14,Dh:0,Ah:0,Bh:.8,Lh:0},{xh:.525,Ch:1,Sh:14,Th:14,Dh:0,Ah:0,Bh:0,Lh:0}];function hh(i,t,e,n){return function(s,r){if(s==="transparent")return s;var o=As(s),h=o[3];return"rgba(".concat(o[0],", ").concat(o[1],", ").concat(o[2],", ").concat(r*h,")")}(i,e+(n-e)*t)}function ah(i,t){for(var e,n=i%2600/2600,s=0,r=cc;s<r.length;s++){var o=r[s];if(n>=o.xh&&n<=o.Ch){e=o;break}}_i(e!==void 0,"Last price animation internal logic error");var h,a,l,u=(n-e.xh)/(e.Ch-e.xh);return{kh:hh(t,u,e.Dh,e.Ah),Nh:hh(t,u,e.Bh,e.Lh),st:(h=u,a=e.Sh,l=e.Th,a+(l-a)*h)}}var pc=function(){function i(t){this.zt=new uc,this.ft=!0,this.Eh=!0,this.Fh=performance.now(),this.Oh=this.Fh-1,this.Vh=t}return i.prototype.Ph=function(){this.Oh=this.Fh-1,this.vt()},i.prototype.Wh=function(){if(this.vt(),this.Vh.W().lastPriceAnimation===2){var t=performance.now(),e=this.Oh-t;if(e>0)return void(e<650&&(this.Oh+=2600));this.Fh=t,this.Oh=t+2600}},i.prototype.vt=function(){this.ft=!0},i.prototype.zh=function(){this.Eh=!0},i.prototype.yt=function(){return this.Vh.W().lastPriceAnimation!==0},i.prototype.Rh=function(){switch(this.Vh.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Oh}},i.prototype.dt=function(t,e){return this.ft?(this.wt(t,e),this.ft=!1,this.Eh=!1):this.Eh&&(this.Ih(),this.Eh=!1),this.zt},i.prototype.wt=function(t,e){this.zt.Z(null);var n=this.Vh.jt().bt(),s=n.ss(),r=this.Vh.kt();if(s!==null&&r!==null){var o=this.Vh.jh(!0);if(!o.qh&&s.Uh(o.vs)){var h={x:n.At(o.vs),y:this.Vh.Ct().xt(o.et,r.St)},a=o.A,l=this.Vh.W().lineWidth,u=ah(this.Hh(),a);this.zt.Z({gh:a,yh:l,kh:u.kh,Nh:u.Nh,st:u.st,Zs:h})}}},i.prototype.Ih=function(){var t=this.zt.ph();if(t!==null){var e=ah(this.Hh(),t.gh);t.kh=e.kh,t.Nh=e.Nh,t.st=e.st}},i.prototype.Hh=function(){return this.Rh()?performance.now()-this.Fh:2599},i}();function ji(i,t){return Oa(Math.min(Math.max(i,12),30)*t)}function $i(i,t){switch(i){case"arrowDown":case"arrowUp":return ji(t,1);case"circle":return ji(t,.8);case"square":return ji(t,.7)}}function La(i){return xr(ji(i,1))}function lh(i){return Math.max(ji(i,.1),3)}function Na(i,t,e,n,s){var r=$i("square",e),o=(r-1)/2,h=i-o,a=t-o;return n>=h&&n<=h+r&&s>=a&&s<=a+r}function uh(i,t,e,n,s){var r=($i("arrowUp",s)-1)/2,o=(Oa(s/2)-1)/2;t.beginPath(),i?(t.moveTo(e-r,n),t.lineTo(e,n-r),t.lineTo(e+r,n),t.lineTo(e+o,n),t.lineTo(e+o,n+r),t.lineTo(e-o,n+r),t.lineTo(e-o,n)):(t.moveTo(e-r,n),t.lineTo(e,n+r),t.lineTo(e+r,n),t.lineTo(e+o,n),t.lineTo(e+o,n-r),t.lineTo(e-o,n-r),t.lineTo(e-o,n)),t.fill()}function fc(i,t,e,n,s,r){return Na(t,e,n,s,r)}var dc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.Bt=null,e.rh=new gi,e.R=-1,e.I="",e.Yh="",e}return X(t,i),t.prototype.Z=function(e){this.Bt=e},t.prototype.eh=function(e,n){this.R===e&&this.I===n||(this.R=e,this.I=n,this.Yh=Ce(e,n),this.rh.ih())},t.prototype.$h=function(e,n){if(this.Bt===null||this.Bt.J===null)return null;for(var s=this.Bt.J.from;s<this.Bt.J.to;s++){var r=this.Bt.G[s];if(vc(r,e,n))return{Kh:r.Xh,Zh:r.Zh}}return null},t.prototype.Y=function(e,n,s){if(this.Bt!==null&&this.Bt.J!==null){e.textBaseline="middle",e.font=this.Yh;for(var r=this.Bt.J.from;r<this.Bt.J.to;r++){var o=this.Bt.G[r];o.Gt!==void 0&&(o.Gt.Ht=this.rh.Qt(e,o.Gt.Jh),o.Gt.Yt=this.R),bc(o,e)}}},t}(tn);function bc(i,t){t.fillStyle=i.A,i.Gt!==void 0&&function(e,n,s,r){e.fillText(n,s,r)}(t,i.Gt.Jh,i.tt-i.Gt.Ht/2,i.Gt.it),function(e,n){if(e.hs!==0){switch(e.Gh){case"arrowDown":return void uh(!1,n,e.tt,e.it,e.hs);case"arrowUp":return void uh(!0,n,e.tt,e.it,e.hs);case"circle":return void function(s,r,o,h){var a=($i("circle",h)-1)/2;s.beginPath(),s.arc(r,o,a,0,2*Math.PI,!1),s.fill()}(n,e.tt,e.it,e.hs);case"square":return void function(s,r,o,h){var a=$i("square",h),l=(a-1)/2,u=r-l,p=o-l;s.fillRect(u,p,a,a)}(n,e.tt,e.it,e.hs)}e.Gh}}(i,t)}function vc(i,t,e){return!(i.Gt===void 0||!function(n,s,r,o,h,a){var l=o/2;return h>=n&&h<=n+r&&a>=s-l&&a<=s+l}(i.tt,i.Gt.it,i.Gt.Ht,i.Gt.Yt,t,e))||function(n,s,r){if(n.hs===0)return!1;switch(n.Gh){case"arrowDown":case"arrowUp":return fc(0,n.tt,n.it,n.hs,s,r);case"circle":return function(o,h,a,l,u){var p=2+$i("circle",a)/2,b=o-l,y=h-u;return Math.sqrt(b*b+y*y)<=p}(n.tt,n.it,n.hs,s,r);case"square":return Na(n.tt,n.it,n.hs,s,r)}}(i,t,e)}function yc(i,t,e,n,s,r,o,h,a){var l=qt(e)?e:e.close,u=qt(e)?e:e.high,p=qt(e)?e:e.low,b=qt(t.size)?Math.max(t.size,0):1,y=La(h.ws())*b,v=y/2;switch(i.hs=y,t.position){case"inBar":return i.it=o.xt(l,a),void(i.Gt!==void 0&&(i.Gt.it=i.it+v+r+.6*s));case"aboveBar":return i.it=o.xt(u,a)-v-n.Qh,i.Gt!==void 0&&(i.Gt.it=i.it-v-.6*s,n.Qh+=1.2*s),void(n.Qh+=y+r);case"belowBar":return i.it=o.xt(p,a)+v+n.tr,i.Gt!==void 0&&(i.Gt.it=i.it+v+r+.6*s,n.tr+=1.2*s),void(n.tr+=y+r)}t.position}var mc=function(){function i(t,e){this.ft=!0,this.ir=!0,this.nr=!0,this.sr=null,this.zt=new dc,this.Vh=t,this.pi=e,this.Bt={G:[],J:null}}return i.prototype.vt=function(t){this.ft=!0,this.nr=!0,t==="data"&&(this.ir=!0)},i.prototype.dt=function(t,e,n){if(!this.Vh.yt())return null;this.ft&&this.Jn();var s=this.pi.W().layout;return this.zt.eh(s.fontSize,s.fontFamily),this.zt.Z(this.Bt),this.zt},i.prototype.hr=function(){if(this.nr){if(this.Vh.rr().length>0){var t=this.pi.bt().ws(),e=lh(t),n=1.5*La(t)+2*e;this.sr={above:n,below:n}}else this.sr=null;this.nr=!1}return this.sr},i.prototype.Jn=function(){var t=this.Vh.Ct(),e=this.pi.bt(),n=this.Vh.rr();this.ir&&(this.Bt.G=n.map(function(v){return{rt:v.time,tt:0,it:0,hs:0,Gh:v.shape,A:v.color,Xh:v.Xh,Zh:v.id,Gt:void 0}}),this.ir=!1);var s=this.pi.W().layout;this.Bt.J=null;var r=e.ss();if(r!==null){var o=this.Vh.kt();if(o!==null&&this.Bt.G.length!==0){var h=NaN,a=lh(e.ws()),l={Qh:a,tr:a};this.Bt.J=Br(this.Bt.G,r,!0);for(var u=this.Bt.J.from;u<this.Bt.J.to;u++){var p=n[u];p.time!==h&&(l.Qh=a,l.tr=a,h=p.time);var b=this.Bt.G[u];b.tt=e.At(p.time),p.text!==void 0&&p.text.length>0&&(b.Gt={Jh:p.text,it:0,Ht:0,Yt:0});var y=this.Vh.er(p.time);y!==null&&yc(b,p,y,l,s.fontSize,a,t,e,o.St)}this.ft=!1}}},i}(),gc=function(i){function t(e){return i.call(this,e)||this}return X(t,i),t.prototype.bh=function(e,n){var s=this.wh;s.yt=!1;var r=this.Kn.W();if(r.priceLineVisible&&this.Kn.yt()){var o=this.Kn.jh(r.priceLineSource===0);o.qh||(s.yt=!0,s.it=o.ti,s.A=this.Kn.ur(o.A),s.Ht=n,s.Yt=e,s.Vt=r.priceLineWidth,s.Pt=r.priceLineStyle)}},t}(zr),Sc=function(i){function t(e){var n=i.call(this)||this;return n.Rt=e,n}return X(t,i),t.prototype.vi=function(e,n,s){e.yt=!1,n.yt=!1;var r=this.Rt;if(r.yt()){var o=r.W(),h=o.lastValueVisible,a=r.ar()!=="",l=o.seriesLastValueMode===0,u=r.jh(!1);if(!u.qh){h&&(e.Gt=this.lr(u,h,l),e.yt=e.Gt.length!==0),(a||l)&&(n.Gt=this.cr(u,h,a,l),n.yt=n.Gt.length>0);var p=r.ur(u.A),b=Bs(p);s.t=b.t,s.A=b.i,s.ti=u.ti,n.Tt=r.jt().Dt(u.ti/r.Ct().Yt()),e.Tt=p}}},t.prototype.cr=function(e,n,s,r){var o="",h=this.Rt.ar();return s&&h.length!==0&&(o+="".concat(h," ")),n&&r&&(o+=this.Rt.Ct().vr()?e._r:e.dr),o.trim()},t.prototype.lr=function(e,n,s){return n?s?this.Rt.Ct().vr()?e.dr:e._r:e.Gt:""},t}(Lr),he=function(){function i(t,e){this.wr=t,this.Mr=e}return i.prototype.br=function(t){return t!==null&&this.wr===t.wr&&this.Mr===t.Mr},i.prototype.mr=function(){return new i(this.wr,this.Mr)},i.prototype.pr=function(){return this.wr},i.prototype.gr=function(){return this.Mr},i.prototype.yr=function(){return this.Mr-this.wr},i.prototype.wi=function(){return this.Mr===this.wr||Number.isNaN(this.Mr)||Number.isNaN(this.wr)},i.prototype.Nn=function(t){return t===null?this:new i(Math.min(this.pr(),t.pr()),Math.max(this.gr(),t.gr()))},i.prototype.kr=function(t){if(qt(t)&&this.Mr-this.wr!==0){var e=.5*(this.Mr+this.wr),n=this.Mr-e,s=this.wr-e;n*=t,s*=t,this.Mr=e+n,this.wr=e+s}},i.prototype.Nr=function(t){qt(t)&&(this.Mr+=t,this.wr+=t)},i.prototype.Cr=function(){return{minValue:this.wr,maxValue:this.Mr}},i.Sr=function(t){return t===null?null:new i(t.minValue,t.maxValue)},i}(),ch=function(){function i(t,e){this.Tr=t,this.Dr=e||null}return i.prototype.Ar=function(){return this.Tr},i.prototype.Br=function(){return this.Dr},i.prototype.Cr=function(){return this.Tr===null?null:{priceRange:this.Tr.Cr(),margins:this.Dr||void 0}},i.Sr=function(t){return t===null?null:new i(he.Sr(t.priceRange),t.margins)},i}(),wc=function(i){function t(e,n){var s=i.call(this,e)||this;return s.Lr=n,s}return X(t,i),t.prototype.bh=function(e,n){var s=this.wh;s.yt=!1;var r=this.Lr.W();if(this.Kn.yt()&&r.lineVisible){var o=this.Lr.Er();o!==null&&(s.yt=!0,s.it=o,s.A=r.color,s.Ht=n,s.Yt=e,s.Vt=r.lineWidth,s.Pt=r.lineStyle)}},t}(zr),_c=function(i){function t(e,n){var s=i.call(this)||this;return s.Vh=e,s.Lr=n,s}return X(t,i),t.prototype.vi=function(e,n,s){e.yt=!1,n.yt=!1;var r=this.Lr.W(),o=r.axisLabelVisible,h=r.title!=="",a=this.Vh;if(o&&a.yt()){var l=this.Lr.Er();if(l!==null){h&&(n.Gt=r.title,n.yt=!0),n.Tt=a.jt().Dt(l/a.Ct().Yt()),e.Gt=a.Ct().Fr(r.price),e.yt=!0;var u=Bs(r.color);s.t=u.t,s.A=u.i,s.ti=l}}},t}(Lr),Tc=function(){function i(t,e){this.Vh=t,this.zi=e,this.Or=new wc(t,this),this.uh=new _c(t,this),this.Vr=new Ua(this.uh,t,t.jt())}return i.prototype.Pr=function(t){lt(this.zi,t),this.vt(),this.Vh.jt().Wr()},i.prototype.W=function(){return this.zi},i.prototype.tn=function(){return[this.Or,this.Vr]},i.prototype.zr=function(){return this.uh},i.prototype.vt=function(){this.Or.vt(),this.uh.vt()},i.prototype.Er=function(){var t=this.Vh,e=t.Ct();if(t.jt().bt().wi()||e.wi())return null;var n=t.kt();return n===null?null:e.xt(this.zi.price,n.St)},i}(),Pc=function(i){function t(e){var n=i.call(this)||this;return n.pi=e,n}return X(t,i),t.prototype.jt=function(){return this.pi},t}(Nr),ui={Ds:"",Hs:"",Us:""},kc=function(){function i(t){this.Vh=t}return i.prototype.As=function(t,e){var n=this.Vh.Rr(),s=this.Vh.W();switch(n){case"Line":return this.Ir(s,t,e);case"Area":return this.jr(s);case"Baseline":return this.qr(s,t,e);case"Bar":return this.Ur(s,t,e);case"Candlestick":return this.Hr(s,t,e);case"Histogram":return this.Yr(s,t,e)}throw new Error("Unknown chart style")},i.prototype.Ur=function(t,e,n){var s=z({},ui),r=t.upColor,o=t.downColor,h=r,a=o,l=k(this.$r(e,n)),u=Fi(l.St[0])<=Fi(l.St[3]);return l.A!==void 0?(s.Ds=l.A,s.Hs=l.A):(s.Ds=u?r:o,s.Hs=u?h:a),s},i.prototype.Hr=function(t,e,n){var s,r,o,h=z({},ui),a=t.upColor,l=t.downColor,u=t.borderUpColor,p=t.borderDownColor,b=t.wickUpColor,y=t.wickDownColor,v=k(this.$r(e,n)),d=Fi(v.St[0])<=Fi(v.St[3]);return h.Ds=(s=v.A)!==null&&s!==void 0?s:d?a:l,h.Hs=(r=v.Tt)!==null&&r!==void 0?r:d?u:p,h.Us=(o=v.qs)!==null&&o!==void 0?o:d?b:y,h},i.prototype.jr=function(t){return z(z({},ui),{Ds:t.lineColor})},i.prototype.qr=function(t,e,n){var s=k(this.$r(e,n)).St[3]>=t.baseValue.price;return z(z({},ui),{Ds:s?t.topLineColor:t.bottomLineColor})},i.prototype.Ir=function(t,e,n){var s,r=k(this.$r(e,n));return z(z({},ui),{Ds:(s=r.A)!==null&&s!==void 0?s:t.color})},i.prototype.Yr=function(t,e,n){var s=z({},ui),r=k(this.$r(e,n));return s.Ds=r.A!==void 0?r.A:t.color,s},i.prototype.$r=function(t,e){return e!==void 0?e.St:this.Vh.an().Kr(t)},i}(),Dc=function(){function i(){this.Xr=[],this.Zr=new Map,this.Jr=new Map}return i.prototype.Gr=function(){return this.hs()>0?this.Xr[this.Xr.length-1]:null},i.prototype.Qr=function(){return this.hs()>0?this.te(0):null},i.prototype.un=function(){return this.hs()>0?this.te(this.Xr.length-1):null},i.prototype.hs=function(){return this.Xr.length},i.prototype.wi=function(){return this.hs()===0},i.prototype.Uh=function(t){return this.ie(t,0)!==null},i.prototype.Kr=function(t){return this.ne(t)},i.prototype.ne=function(t,e){e===void 0&&(e=0);var n=this.ie(t,e);return n===null?null:z(z({},this.se(n)),{vs:this.te(n)})},i.prototype.fs=function(){return this.Xr},i.prototype.he=function(t,e,n){if(this.wi())return null;for(var s=null,r=0,o=n;r<o.length;r++){var h=o[r];s=ms(s,this.re(t,e,h))}return s},i.prototype.Z=function(t){this.Jr.clear(),this.Zr.clear(),this.Xr=t},i.prototype.te=function(t){return this.Xr[t].vs},i.prototype.se=function(t){return this.Xr[t]},i.prototype.ie=function(t,e){var n=this.ee(t);if(n===null&&e!==0)switch(e){case-1:return this.ue(t);case 1:return this.ae(t);default:throw new TypeError("Unknown search mode")}return n},i.prototype.ue=function(t){var e=this.oe(t);return e>0&&(e-=1),e!==this.Xr.length&&this.te(e)<t?e:null},i.prototype.ae=function(t){var e=this.le(t);return e!==this.Xr.length&&t<this.te(e)?e:null},i.prototype.ee=function(t){var e=this.oe(t);return e===this.Xr.length||t<this.Xr[e].vs?null:e},i.prototype.oe=function(t){return en(this.Xr,t,function(e,n){return e.vs<n})},i.prototype.le=function(t){return Ea(this.Xr,t,function(e,n){return n.vs>e})},i.prototype.fe=function(t,e,n){for(var s=null,r=t;r<e;r++){var o=this.Xr[r].St[n];Number.isNaN(o)||(s===null?s={ce:o,ve:o}:(o<s.ce&&(s.ce=o),o>s.ve&&(s.ve=o)))}return s},i.prototype.re=function(t,e,n){if(this.wi())return null;var s=null,r=k(this.Qr()),o=k(this.un()),h=Math.max(t,r),a=Math.min(e,o),l=30*Math.ceil(h/30),u=Math.max(l,30*Math.floor(a/30)),p=this.oe(h),b=this.le(Math.min(a,l,e));s=ms(s,this.fe(p,b,n));var y=this.Zr.get(n);y===void 0&&(y=new Map,this.Zr.set(n,y));for(var v=Math.max(l+1,h);v<u;v+=30){var d=Math.floor(v/30),S=y.get(d);if(S===void 0){var _=this.oe(30*d),C=this.le(30*(d+1)-1);S=this.fe(_,C,n),y.set(d,S)}s=ms(s,S)}return p=this.oe(u),b=this.le(a),s=ms(s,this.fe(p,b,n))},i}();function ms(i,t){return i===null?t:t===null?i:{ce:Math.min(i.ce,t.ce),ve:Math.max(i.ve,t.ve)}}var Ir=function(i){function t(e,n,s){var r=i.call(this,e)||this;r.Bt=new Dc,r.Or=new gc(r),r._e=[],r.de=new lc(r),r.we=null,r.Me=null,r.be=[],r.me=[],r.pe=null,r.zi=n,r.ge=s;var o=new Sc(r);return r.Ei=[o],r.Vr=new Ua(o,r,e),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(r.we=new pc(r)),r.ye(),r.ke(),r}return X(t,i),t.prototype.g=function(){this.pe!==null&&clearTimeout(this.pe)},t.prototype.ur=function(e){return this.zi.priceLineColor||e},t.prototype.jh=function(e){var n={qh:!0},s=this.Ct();if(this.jt().bt().wi()||s.wi()||this.Bt.wi())return n;var r,o,h=this.jt().bt().ss(),a=this.kt();if(h===null||a===null)return n;if(e){var l=this.Bt.Gr();if(l===null)return n;r=l,o=l.vs}else{var u=this.Bt.ne(h.jn(),-1);if(u===null||(r=this.Bt.Kr(u.vs))===null)return n;o=u.vs}var p=r.St[3],b=this.ls().As(o,{St:r}),y=s.xt(p,a.St);return{qh:!1,et:p,Gt:s.Mi(p,a.St),_r:s.Fr(p),dr:s.Ne(p,a.St),A:b.Ds,ti:y,vs:o}},t.prototype.ls=function(){return this.Me!==null||(this.Me=new kc(this)),this.Me},t.prototype.W=function(){return this.zi},t.prototype.Pr=function(e){var n=e.priceScaleId;n!==void 0&&n!==this.zi.priceScaleId&&this.jt().xe(this,n),lt(this.zi,e),this.ki!==null&&e.scaleMargins!==void 0&&this.ki.Pr({scaleMargins:e.scaleMargins}),e.priceFormat!==void 0&&(this.ye(),this.jt().Ce()),this.jt().Se(this),this.jt().Te(),this.Hi.vt("options")},t.prototype.Z=function(e,n){this.Bt.Z(e),this.De(),this.Hi.vt("data"),this.Ri.vt("data"),this.we!==null&&(n&&n.Ae?this.we.Wh():e.length===0&&this.we.Ph());var s=this.jt().oh(this);this.jt().Be(s),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},t.prototype.Le=function(e){this.be=e.map(function(s){return z({},s)}),this.De();var n=this.jt().oh(this);this.Ri.vt("data"),this.jt().Be(n),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},t.prototype.rr=function(){return this.me},t.prototype.Ee=function(e){var n=new Tc(this,e);return this._e.push(n),this.jt().Se(this),n},t.prototype.Fe=function(e){var n=this._e.indexOf(e);n!==-1&&this._e.splice(n,1),this.jt().Se(this)},t.prototype.Rr=function(){return this.ge},t.prototype.kt=function(){var e=this.Oe();return e===null?null:{St:e.St[3],Ve:e.rt}},t.prototype.Oe=function(){var e=this.jt().bt().ss();if(e===null)return null;var n=e.In();return this.Bt.ne(n,1)},t.prototype.an=function(){return this.Bt},t.prototype.er=function(e){var n=this.Bt.Kr(e);return n===null?null:this.ge==="Bar"||this.ge==="Candlestick"?{open:n.St[0],high:n.St[1],low:n.St[2],close:n.St[3]}:n.St[3]},t.prototype.Pe=function(e){var n=this,s=this.we;return s!==null&&s.yt()?(this.pe===null&&s.Rh()&&(this.pe=setTimeout(function(){n.pe=null,n.jt().We()},0)),s.zh(),[s]):[]},t.prototype.tn=function(){var e=[];this.ze()||e.push(this.de);for(var n=0,s=this._e;n<s.length;n++){var r=s[n];e.push.apply(e,r.tn())}return e.push(this.Hi,this.Or,this.Vr,this.Ri),e},t.prototype.nn=function(e,n){if(n!==this.ki&&!this.ze())return[];for(var s=Ta([],this.Ei,!0),r=0,o=this._e;r<o.length;r++){var h=o[r];s.push(h.zr())}return s},t.prototype.Re=function(e,n){var s=this;if(this.zi.autoscaleInfoProvider!==void 0){var r=this.zi.autoscaleInfoProvider(function(){var o=s.Ie(e,n);return o===null?null:o.Cr()});return ch.Sr(r)}return this.Ie(e,n)},t.prototype.je=function(){return this.zi.priceFormat.minMove},t.prototype.qe=function(){return this.Ue},t.prototype.hn=function(){var e;this.Hi.vt(),this.Ri.vt();for(var n=0,s=this.Ei;n<s.length;n++)s[n].vt();for(var r=0,o=this._e;r<o.length;r++)o[r].vt();this.Or.vt(),this.de.vt(),(e=this.we)===null||e===void 0||e.vt()},t.prototype.Ct=function(){return k(i.prototype.Ct.call(this))},t.prototype.gt=function(e){if(!((this.ge==="Line"||this.ge==="Area"||this.ge==="Baseline")&&this.zi.crosshairMarkerVisible))return null;var n=this.Bt.Kr(e);return n===null?null:{et:n.St[3],st:this.He(),Tt:this.Ye(),Nt:this.$e(e)}},t.prototype.ar=function(){return this.zi.title},t.prototype.yt=function(){return this.zi.visible},t.prototype.ze=function(){return!zs(this.Ct().Ke())},t.prototype.Ie=function(e,n){if(!Qi(e)||!Qi(n)||this.Bt.wi())return null;var s=this.ge==="Line"||this.ge==="Area"||this.ge==="Baseline"||this.ge==="Histogram"?[3]:[2,1],r=this.Bt.he(e,n,s),o=r!==null?new he(r.ce,r.ve):null;if(this.Rr()==="Histogram"){var h=this.zi.base,a=new he(h,h);o=o!==null?o.Nn(a):a}return new ch(o,this.Ri.hr())},t.prototype.He=function(){switch(this.ge){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},t.prototype.Ye=function(){switch(this.ge){case"Line":case"Area":case"Baseline":var e=this.zi.crosshairMarkerBorderColor;if(e.length!==0)return e}return null},t.prototype.$e=function(e){switch(this.ge){case"Line":case"Area":case"Baseline":var n=this.zi.crosshairMarkerBackgroundColor;if(n.length!==0)return n}return this.ls().As(e).Ds},t.prototype.ye=function(){switch(this.zi.priceFormat.type){case"custom":this.Ue={format:this.zi.priceFormat.formatter};break;case"volume":this.Ue=new Fu(this.zi.priceFormat.precision);break;case"percent":this.Ue=new ka(this.zi.priceFormat.precision);break;default:var e=Math.pow(10,this.zi.priceFormat.precision);this.Ue=new Is(e,this.zi.priceFormat.minMove*e)}this.ki!==null&&this.ki.Xe()},t.prototype.De=function(){var e=this,n=this.jt().bt();if(n.wi()||this.Bt.hs()===0)this.me=[];else{var s=k(this.Bt.Qr());this.me=this.be.map(function(r,o){var h=k(n.Ze(r.time,!0)),a=h<s?1:-1;return{time:k(e.Bt.ne(h,a)).vs,position:r.position,shape:r.shape,color:r.color,id:r.id,Xh:o,text:r.text,size:r.size}})}},t.prototype.ke=function(){switch(this.Ri=new mc(this,this.jt()),this.ge){case"Bar":this.Hi=new Zu(this,this.jt());break;case"Candlestick":this.Hi=new ec(this,this.jt());break;case"Line":this.Hi=new rc(this,this.jt());break;case"Area":this.Hi=new Hu(this,this.jt());break;case"Baseline":this.Hi=new $u(this,this.jt());break;case"Histogram":this.Hi=new sc(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.ge)}},t}(Pc),Mc=function(){function i(t){this.zi=t}return i.prototype.Je=function(t,e,n){var s=t;if(this.zi.mode===0)return s;var r=n.ji(),o=r.kt();if(o===null)return s;var h=r.xt(t,o),a=n.Ge().filter(function(u){return u instanceof Ir}).reduce(function(u,p){if(n.lh(p)||!p.yt())return u;var b=p.Ct(),y=p.an();if(b.wi()||!y.Uh(e))return u;var v=y.Kr(e);if(v===null)return u;var d=Fi(p.kt());return u.concat([b.xt(v.St[3],d.St)])},[]);if(a.length===0)return s;a.sort(function(u,p){return Math.abs(u-h)-Math.abs(p-h)});var l=a[0];return s=r.qi(l,o)},i}(),xc=function(){function i(){this.Bt=null}return i.prototype.Z=function(t){this.Bt=t},i.prototype.H=function(t,e,n,s){var r=this;if(this.Bt!==null){var o=Math.max(1,Math.floor(e));t.lineWidth=o;var h=Math.ceil(this.Bt.Ot*e),a=Math.ceil(this.Bt.Ft*e);(function(l,u){l.save(),l.lineWidth%2&&l.translate(.5,.5),u(),l.restore()})(t,function(){var l=k(r.Bt);if(l.Qe){t.strokeStyle=l.tu,xe(t,l.iu),t.beginPath();for(var u=0,p=l.nu;u<p.length;u++){var b=p[u],y=Math.round(b.su*e);t.moveTo(y,-o),t.lineTo(y,h+o)}t.stroke()}if(l.hu){t.strokeStyle=l.ru,xe(t,l.eu),t.beginPath();for(var v=0,d=l.uu;v<d.length;v++){var S=d[v],_=Math.round(S.su*e);t.moveTo(-o,_),t.lineTo(a+o,_)}t.stroke()}})}},i}(),Cc=function(){function i(t){this.zt=new xc,this.ft=!0,this.Di=t}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){if(this.ft){var n=this.Di.jt().W().grid,s={Ot:t,Ft:e,hu:n.horzLines.visible,Qe:n.vertLines.visible,ru:n.horzLines.color,tu:n.vertLines.color,eu:n.horzLines.style,iu:n.vertLines.style,uu:this.Di.ji().au(),nu:this.Di.jt().bt().au()||[]};this.zt.Z(s),this.ft=!1}return this.zt},i}(),Ec=function(){function i(t){this.Hi=new Cc(t)}return i.prototype.ou=function(){return this.Hi},i}(),lr={lu:4,fu:1e-4};function yi(i,t){var e=100*(i-t)/t;return t<0?-e:e}function Ac(i,t){var e=yi(i.pr(),t),n=yi(i.gr(),t);return new he(e,n)}function Hi(i,t){var e=100*(i-t)/t+100;return t<0?-e:e}function Rc(i,t){var e=Hi(i.pr(),t),n=Hi(i.gr(),t);return new he(e,n)}function Us(i,t){var e=Math.abs(i);if(e<1e-15)return 0;var n=Ra(e+t.fu)+t.lu;return i<0?-n:n}function Yi(i,t){var e=Math.abs(i);if(e<1e-15)return 0;var n=Math.pow(10,e-t.lu)-t.fu;return i<0?-n:n}function Ii(i,t){if(i===null)return null;var e=Us(i.pr(),t),n=Us(i.gr(),t);return new he(e,n)}function gs(i,t){if(i===null)return null;var e=Yi(i.pr(),t),n=Yi(i.gr(),t);return new he(e,n)}function ur(i){if(i===null)return lr;var t=Math.abs(i.gr()-i.pr());if(t>=1||t<1e-15)return lr;var e=Math.ceil(Math.abs(Math.log10(t))),n=lr.lu+e;return{lu:n,fu:1/Math.pow(10,n)}}var ph,cr=function(){function i(t,e){if(this.cu=t,this.vu=e,function(s){if(s<0)return!1;for(var r=s;r>1;r/=10)if(r%10!=0)return!1;return!0}(this.cu))this._u=[2,2.5,2];else{this._u=[];for(var n=this.cu;n!==1;){if(n%2==0)this._u.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this._u.push(2,2.5),n/=5}if(this._u.length>100)throw new Error("something wrong with base")}}}return i.prototype.du=function(t,e,n){for(var s,r,o,h=this.cu===0?0:1/this.cu,a=Math.pow(10,Math.max(0,Math.ceil(Ra(t-e)))),l=0,u=this.vu[0];;){var p=ys(a,h,1e-14)&&a>h+1e-14,b=ys(a,n*u,1e-14),y=ys(a,1,1e-14);if(!(p&&b&&y))break;a/=u,u=this.vu[++l%this.vu.length]}if(a<=h+1e-14&&(a=h),a=Math.max(1,a),this._u.length>0&&(s=a,r=1,o=1e-14,Math.abs(s-r)<o))for(l=0,u=this._u[0];ys(a,n*u,1e-14)&&a>h+1e-14;)a/=u,u=this._u[++l%this._u.length];return a},i}(),fh=function(){function i(t,e,n,s){this.wu=[],this._i=t,this.cu=e,this.Mu=n,this.bu=s}return i.prototype.du=function(t,e){if(t<e)throw new Error("high < low");var n=this._i.Yt(),s=(t-e)*this.mu()/n,r=new cr(this.cu,[2,2.5,2]),o=new cr(this.cu,[2,2,2.5]),h=new cr(this.cu,[2.5,2,2]),a=[];return a.push(r.du(t,e,s),o.du(t,e,s),h.du(t,e,s)),function(l){if(l.length<1)throw Error("array is empty");for(var u=l[0],p=1;p<l.length;++p)l[p]<u&&(u=l[p]);return u}(a)},i.prototype.pu=function(){var t=this._i,e=t.kt();if(e!==null){var n=t.Yt(),s=this.Mu(n-1,e),r=this.Mu(0,e),o=this._i.W().entireTextOnly?this.gu()/2:0,h=o,a=n-1-o,l=Math.max(s,r),u=Math.min(s,r);if(l!==u){for(var p=this.du(l,u),b=l%p,y=l>=u?1:-1,v=null,d=0,S=l-(b+=b<0?p:0);S>u;S-=p){var _=this.bu(S,e,!0);v!==null&&Math.abs(_-v)<this.mu()||_<h||_>a||(d<this.wu.length?(this.wu[d].su=_,this.wu[d].yu=t.ku(S)):this.wu.push({su:_,yu:t.ku(S)}),d++,v=_,t.Nu()&&(p=this.du(S*y,u)))}this.wu.length=d}else this.wu=[]}else this.wu=[]},i.prototype.au=function(){return this.wu},i.prototype.gu=function(){return this._i.S()},i.prototype.mu=function(){return Math.ceil(2.5*this.gu())},i}();function Ba(i){return i.slice().sort(function(t,e){return k(t.xi())-k(e.xi())})}(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(ph||(ph={}));var dh=new ka,bh=new Is(100,1),Oc=function(){function i(t,e,n,s){this.xu=0,this.Cu=null,this.Tr=null,this.Su=null,this.Tu={Du:!1,Au:null},this.Bu=0,this.Lu=0,this.Eu=new ct,this.Fu=new ct,this.Ou=[],this.Vu=null,this.Pu=null,this.Wu=null,this.zu=null,this.Ue=bh,this.Ru=ur(null),this.Iu=t,this.zi=e,this.ju=n,this.qu=s,this.Uu=new fh(this,100,this.Hu.bind(this),this.Yu.bind(this))}return i.prototype.Ke=function(){return this.Iu},i.prototype.W=function(){return this.zi},i.prototype.Pr=function(t){if(lt(this.zi,t),this.Xe(),t.mode!==void 0&&this.$u({mh:t.mode}),t.scaleMargins!==void 0){var e=Bt(t.scaleMargins.top),n=Bt(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(n<0||n>1||e+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(e+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+n));this.Ku(),this.Pu=null}},i.prototype.Xu=function(){return this.zi.autoScale},i.prototype.Nu=function(){return this.zi.mode===1},i.prototype.vr=function(){return this.zi.mode===2},i.prototype.Zu=function(){return this.zi.mode===3},i.prototype.mh=function(){return{_n:this.zi.autoScale,Ju:this.zi.invertScale,mh:this.zi.mode}},i.prototype.$u=function(t){var e=this.mh(),n=null;t._n!==void 0&&(this.zi.autoScale=t._n),t.mh!==void 0&&(this.zi.mode=t.mh,t.mh!==2&&t.mh!==3||(this.zi.autoScale=!0),this.Tu.Du=!1),e.mh===1&&t.mh!==e.mh&&(function(r,o){if(r===null)return!1;var h=Yi(r.pr(),o),a=Yi(r.gr(),o);return isFinite(h)&&isFinite(a)}(this.Tr,this.Ru)?(n=gs(this.Tr,this.Ru))!==null&&this.Gu(n):this.zi.autoScale=!0),t.mh===1&&t.mh!==e.mh&&(n=Ii(this.Tr,this.Ru))!==null&&this.Gu(n);var s=e.mh!==this.zi.mode;s&&(e.mh===2||this.vr())&&this.Xe(),s&&(e.mh===3||this.Zu())&&this.Xe(),t.Ju!==void 0&&e.Ju!==t.Ju&&(this.zi.invertScale=t.Ju,this.Qu()),this.Fu.m(e,this.mh())},i.prototype.ta=function(){return this.Fu},i.prototype.S=function(){return this.ju.fontSize},i.prototype.Yt=function(){return this.xu},i.prototype.ia=function(t){this.xu!==t&&(this.xu=t,this.Ku(),this.Pu=null)},i.prototype.na=function(){if(this.Cu)return this.Cu;var t=this.Yt()-this.sa()-this.ha();return this.Cu=t,t},i.prototype.Ar=function(){return this.ra(),this.Tr},i.prototype.Gu=function(t,e){var n=this.Tr;(e||n===null&&t!==null||n!==null&&!n.br(t))&&(this.Pu=null,this.Tr=t)},i.prototype.wi=function(){return this.ra(),this.xu===0||!this.Tr||this.Tr.wi()},i.prototype.ea=function(t){return this.Ju()?t:this.Yt()-1-t},i.prototype.xt=function(t,e){return this.vr()?t=yi(t,e):this.Zu()&&(t=Hi(t,e)),this.Yu(t,e)},i.prototype.us=function(t,e,n){this.ra();for(var s=this.ha(),r=k(this.Ar()),o=r.pr(),h=r.gr(),a=this.na()-1,l=this.Ju(),u=a/(h-o),p=n===void 0?0:n.from,b=n===void 0?t.length:n.to,y=this.ua(),v=p;v<b;v++){var d=t[v],S=d.et;if(!isNaN(S)){var _=S;y!==null&&(_=y(d.et,e));var C=s+u*(_-o),x=l?C:this.xu-1-C;d.it=x}}},i.prototype.Ss=function(t,e,n){this.ra();for(var s=this.ha(),r=k(this.Ar()),o=r.pr(),h=r.gr(),a=this.na()-1,l=this.Ju(),u=a/(h-o),p=n===void 0?0:n.from,b=n===void 0?t.length:n.to,y=this.ua(),v=p;v<b;v++){var d=t[v],S=d.open,_=d.high,C=d.low,x=d.close;y!==null&&(S=y(d.open,e),_=y(d.high,e),C=y(d.low,e),x=y(d.close,e));var N=s+u*(S-o),B=l?N:this.xu-1-N;d.xs=B,N=s+u*(_-o),B=l?N:this.xu-1-N,d.ys=B,N=s+u*(C-o),B=l?N:this.xu-1-N,d.ks=B,N=s+u*(x-o),B=l?N:this.xu-1-N,d.Cs=B}},i.prototype.qi=function(t,e){var n=this.Hu(t,e);return this.aa(n,e)},i.prototype.aa=function(t,e){var n=t;return this.vr()?n=function(s,r){return r<0&&(s=-s),s/100*r+r}(n,e):this.Zu()&&(n=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(n,e)),n},i.prototype.Ge=function(){return this.Ou},i.prototype.oa=function(){if(this.Vu)return this.Vu;for(var t=[],e=0;e<this.Ou.length;e++){var n=this.Ou[e];n.xi()===null&&n.Ci(e+1),t.push(n)}return t=Ba(t),this.Vu=t,this.Vu},i.prototype.la=function(t){this.Ou.indexOf(t)===-1&&(this.Ou.push(t),this.Xe(),this.fa())},i.prototype.ca=function(t){var e=this.Ou.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.Ou.splice(e,1),this.Ou.length===0&&(this.$u({_n:!0}),this.Gu(null)),this.Xe(),this.fa()},i.prototype.kt=function(){for(var t=null,e=0,n=this.Ou;e<n.length;e++){var s=n[e].kt();s!==null&&(t===null||s.Ve<t.Ve)&&(t=s)}return t===null?null:t.St},i.prototype.Ju=function(){return this.zi.invertScale},i.prototype.au=function(){var t=this.kt()===null;if(this.Pu!==null&&(t||this.Pu.va===t))return this.Pu.au;this.Uu.pu();var e=this.Uu.au();return this.Pu={au:e,va:t},this.Eu.m(),e},i.prototype._a=function(){return this.Eu},i.prototype.da=function(t){this.vr()||this.Zu()||this.Wu===null&&this.Su===null&&(this.wi()||(this.Wu=this.xu-t,this.Su=k(this.Ar()).mr()))},i.prototype.wa=function(t){if(!this.vr()&&!this.Zu()&&this.Wu!==null){this.$u({_n:!1}),(t=this.xu-t)<0&&(t=0);var e=(this.Wu+.2*(this.xu-1))/(t+.2*(this.xu-1)),n=k(this.Su).mr();e=Math.max(e,.1),n.kr(e),this.Gu(n)}},i.prototype.Ma=function(){this.vr()||this.Zu()||(this.Wu=null,this.Su=null)},i.prototype.ba=function(t){this.Xu()||this.zu===null&&this.Su===null&&(this.wi()||(this.zu=t,this.Su=k(this.Ar()).mr()))},i.prototype.ma=function(t){if(!this.Xu()&&this.zu!==null){var e=k(this.Ar()).yr()/(this.na()-1),n=t-this.zu;this.Ju()&&(n*=-1);var s=n*e,r=k(this.Su).mr();r.Nr(s),this.Gu(r,!0),this.Pu=null}},i.prototype.pa=function(){this.Xu()||this.zu!==null&&(this.zu=null,this.Su=null)},i.prototype.qe=function(){return this.Ue||this.Xe(),this.Ue},i.prototype.Mi=function(t,e){switch(this.zi.mode){case 2:return this.qe().format(yi(t,e));case 3:return this.qe().format(Hi(t,e));default:return this.ga(t)}},i.prototype.ku=function(t){switch(this.zi.mode){case 2:case 3:return this.qe().format(t);default:return this.ga(t)}},i.prototype.Fr=function(t){return this.ga(t,k(this.ya()).qe())},i.prototype.Ne=function(t,e){return t=yi(t,e),dh.format(t)},i.prototype.ka=function(){return this.Ou},i.prototype.Na=function(t){this.Tu={Au:t,Du:!1}},i.prototype.hn=function(){this.Ou.forEach(function(t){return t.hn()})},i.prototype.Xe=function(){this.Pu=null;var t=this.ya(),e=100;t!==null&&(e=Math.round(1/t.je())),this.Ue=bh,this.vr()?(this.Ue=dh,e=100):this.Zu()?(this.Ue=new Is(100,1),e=100):t!==null&&(this.Ue=t.qe()),this.Uu=new fh(this,e,this.Hu.bind(this),this.Yu.bind(this)),this.Uu.pu()},i.prototype.fa=function(){this.Vu=null},i.prototype.ya=function(){return this.Ou[0]||null},i.prototype.sa=function(){return this.Ju()?this.zi.scaleMargins.bottom*this.Yt()+this.Lu:this.zi.scaleMargins.top*this.Yt()+this.Bu},i.prototype.ha=function(){return this.Ju()?this.zi.scaleMargins.top*this.Yt()+this.Bu:this.zi.scaleMargins.bottom*this.Yt()+this.Lu},i.prototype.ra=function(){this.Tu.Du||(this.Tu.Du=!0,this.xa())},i.prototype.Ku=function(){this.Cu=null},i.prototype.Yu=function(t,e){if(this.ra(),this.wi())return 0;t=this.Nu()&&t?Us(t,this.Ru):t;var n=k(this.Ar()),s=this.ha()+(this.na()-1)*(t-n.pr())/n.yr();return this.ea(s)},i.prototype.Hu=function(t,e){if(this.ra(),this.wi())return 0;var n=this.ea(t),s=k(this.Ar()),r=s.pr()+s.yr()*((n-this.ha())/(this.na()-1));return this.Nu()?Yi(r,this.Ru):r},i.prototype.Qu=function(){this.Pu=null,this.Uu.pu()},i.prototype.xa=function(){var t=this.Tu.Au;if(t!==null){for(var e,n,s=null,r=0,o=0,h=0,a=this.ka();h<a.length;h++){var l=a[h];if(l.yt()){var u=l.kt();if(u!==null){var p=l.Re(t.In(),t.jn()),b=p&&p.Ar();if(b!==null){switch(this.zi.mode){case 1:b=Ii(b,this.Ru);break;case 2:b=Ac(b,u.St);break;case 3:b=Rc(b,u.St)}if(s=s===null?b:s.Nn(k(b)),p!==null){var y=p.Br();y!==null&&(r=Math.max(r,y.above),o=Math.max(r,y.below))}}}}}if(r===this.Bu&&o===this.Lu||(this.Bu=r,this.Lu=o,this.Pu=null,this.Ku()),s!==null){if(s.pr()===s.gr()){var v=this.ya(),d=5*(v===null||this.vr()||this.Zu()?1:v.je());this.Nu()&&(s=gs(s,this.Ru)),s=new he(s.pr()-d,s.gr()+d),this.Nu()&&(s=Ii(s,this.Ru))}if(this.Nu()){var S=gs(s,this.Ru),_=ur(S);if(e=_,n=this.Ru,e.lu!==n.lu||e.fu!==n.fu){var C=this.Su!==null?gs(this.Su,this.Ru):null;this.Ru=_,s=Ii(S,_),C!==null&&(this.Su=Ii(C,_))}}this.Gu(s)}else this.Tr===null&&(this.Gu(new he(-.5,.5)),this.Ru=ur(null));this.Tu.Du=!0}},i.prototype.ua=function(){var t=this;return this.vr()?yi:this.Zu()?Hi:this.Nu()?function(e){return Us(e,t.Ru)}:null},i.prototype.ga=function(t,e){return this.qu.priceFormatter===void 0?(e===void 0&&(e=this.qe()),e.format(t)):this.qu.priceFormatter(t)},i}(),Uc=function(){function i(t,e){this.Ou=[],this.Ca=new Map,this.xu=0,this.hh=0,this.Sa=1e3,this.Vu=null,this.Ta=new ct,this.Da=t,this.pi=e,this.Aa=new Ec(this);var n=e.W();this.Ba=this.La("left",n.leftPriceScale),this.Ea=this.La("right",n.rightPriceScale),this.Ba.ta().u(this.Fa.bind(this,this.Ba),this),this.Ea.ta().u(this.Fa.bind(this,this.Ba),this),this.Oa(n)}return i.prototype.Oa=function(t){if(t.leftPriceScale&&this.Ba.Pr(t.leftPriceScale),t.rightPriceScale&&this.Ea.Pr(t.rightPriceScale),t.localization&&(this.Ba.Xe(),this.Ea.Xe()),t.overlayPriceScales)for(var e=0,n=Array.from(this.Ca.values());e<n.length;e++){var s=k(n[e][0].Ct());s.Pr(t.overlayPriceScales),t.localization&&s.Xe()}},i.prototype.Va=function(t){switch(t){case"left":return this.Ba;case"right":return this.Ea}return this.Ca.has(t)?Bt(this.Ca.get(t))[0].Ct():null},i.prototype.g=function(){this.jt().Pa().M(this),this.Ba.ta().M(this),this.Ea.ta().M(this),this.Ou.forEach(function(t){t.g&&t.g()}),this.Ta.m()},i.prototype.Wa=function(){return this.Sa},i.prototype.za=function(t){this.Sa=t},i.prototype.jt=function(){return this.pi},i.prototype.Ht=function(){return this.hh},i.prototype.Yt=function(){return this.xu},i.prototype.Ra=function(t){this.hh=t,this.Ia()},i.prototype.ia=function(t){var e=this;this.xu=t,this.Ba.ia(t),this.Ea.ia(t),this.Ou.forEach(function(n){if(e.lh(n)){var s=n.Ct();s!==null&&s.ia(t)}}),this.Ia()},i.prototype.Ge=function(){return this.Ou},i.prototype.lh=function(t){var e=t.Ct();return e===null||this.Ba!==e&&this.Ea!==e},i.prototype.la=function(t,e,n){var s=n!==void 0?n:this.qa().ja+1;this.Ua(t,e,s)},i.prototype.ca=function(t){var e=this.Ou.indexOf(t);_i(e!==-1,"removeDataSource: invalid data source"),this.Ou.splice(e,1);var n=k(t.Ct()).Ke();if(this.Ca.has(n)){var s=Bt(this.Ca.get(n)),r=s.indexOf(t);r!==-1&&(s.splice(r,1),s.length===0&&this.Ca.delete(n))}var o=t.Ct();o&&o.Ge().indexOf(t)>=0&&o.ca(t),o!==null&&(o.fa(),this.Ha(o)),this.Vu=null},i.prototype._h=function(t){return t===this.Ba?"left":t===this.Ea?"right":"overlay"},i.prototype.Ya=function(){return this.Ba},i.prototype.$a=function(){return this.Ea},i.prototype.Ka=function(t,e){t.da(e)},i.prototype.Xa=function(t,e){t.wa(e),this.Ia()},i.prototype.Za=function(t){t.Ma()},i.prototype.Ja=function(t,e){t.ba(e)},i.prototype.Ga=function(t,e){t.ma(e),this.Ia()},i.prototype.Qa=function(t){t.pa()},i.prototype.Ia=function(){this.Ou.forEach(function(t){t.hn()})},i.prototype.ji=function(){var t=null;return this.pi.W().rightPriceScale.visible&&this.Ea.Ge().length!==0?t=this.Ea:this.pi.W().leftPriceScale.visible&&this.Ba.Ge().length!==0?t=this.Ba:this.Ou.length!==0&&(t=this.Ou[0].Ct()),t===null&&(t=this.Ea),t},i.prototype.fh=function(){var t=null;return this.pi.W().rightPriceScale.visible?t=this.Ea:this.pi.W().leftPriceScale.visible&&(t=this.Ba),t},i.prototype.Ha=function(t){t!==null&&t.Xu()&&this.io(t)},i.prototype.no=function(t){var e=this.Da.ss();t.$u({_n:!0}),e!==null&&t.Na(e),this.Ia()},i.prototype.so=function(){this.io(this.Ba),this.io(this.Ea)},i.prototype.ho=function(){var t=this;this.Ha(this.Ba),this.Ha(this.Ea),this.Ou.forEach(function(e){t.lh(e)&&t.Ha(e.Ct())}),this.Ia(),this.pi.Wr()},i.prototype.oa=function(){return this.Vu===null&&(this.Vu=Ba(this.Ou)),this.Vu},i.prototype.ro=function(){return this.Ta},i.prototype.eo=function(){return this.Aa},i.prototype.io=function(t){var e=t.ka();if(e&&e.length>0&&!this.Da.wi()){var n=this.Da.ss();n!==null&&t.Na(n)}t.hn()},i.prototype.qa=function(){var t=this.oa();if(t.length===0)return{uo:0,ja:0};for(var e=0,n=0,s=0;s<t.length;s++){var r=t[s].xi();r!==null&&(r<e&&(e=r),r>n&&(n=r))}return{uo:e,ja:n}},i.prototype.Ua=function(t,e,n){var s=this.Va(e);if(s===null&&(s=this.La(e,this.pi.W().overlayPriceScales)),this.Ou.push(t),!zs(e)){var r=this.Ca.get(e)||[];r.push(t),this.Ca.set(e,r)}s.la(t),t.Si(s),t.Ci(n),this.Ha(s),this.Vu=null},i.prototype.Fa=function(t,e,n){e.mh!==n.mh&&this.io(t)},i.prototype.La=function(t,e){var n=z({visible:!0,autoScale:!0},Mt(e)),s=new Oc(t,n,this.pi.W().layout,this.pi.W().localization);return s.ia(this.Yt()),s},i}(),vh=function(i){return i.getUTCFullYear()};function Lc(i,t,e){return t.replace(/yyyy/g,function(n){return oe(vh(n),4)}(i)).replace(/yy/g,function(n){return oe(vh(n)%100,2)}(i)).replace(/MMMM/g,function(n,s){return new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"long"})}(i,e)).replace(/MMM/g,function(n,s){return new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"short"})}(i,e)).replace(/MM/g,function(n){return oe(function(s){return s.getUTCMonth()+1}(n),2)}(i)).replace(/dd/g,function(n){return oe(function(s){return s.getUTCDate()}(n),2)}(i))}var Wa=function(){function i(t,e){t===void 0&&(t="yyyy-MM-dd"),e===void 0&&(e="default"),this.ao=t,this.oo=e}return i.prototype.lo=function(t){return Lc(t,this.ao,this.oo)},i}(),Nc=function(){function i(t){this.fo=t||"%h:%m:%s"}return i.prototype.lo=function(t){return this.fo.replace("%h",oe(t.getUTCHours(),2)).replace("%m",oe(t.getUTCMinutes(),2)).replace("%s",oe(t.getUTCSeconds(),2))},i}(),Bc={co:"yyyy-MM-dd",vo:"%h:%m:%s",_o:" ",do:"default"},Wc=function(){function i(t){t===void 0&&(t={});var e=z(z({},Bc),t);this.wo=new Wa(e.co,e.do),this.Mo=new Nc(e.vo),this.bo=e._o}return i.prototype.lo=function(t){return"".concat(this.wo.lo(t)).concat(this.bo).concat(this.Mo.lo(t))},i}(),Xc=function(){function i(t,e){e===void 0&&(e=50),this.mo=0,this.po=1,this.yo=1,this.Gs=new Map,this.ko=new Map,this.No=t,this.xo=e}return i.prototype.lo=function(t){var e=t.Co===void 0?new Date(1e3*t.So).getTime():new Date(Date.UTC(t.Co.year,t.Co.month-1,t.Co.day)).getTime(),n=this.Gs.get(e);if(n!==void 0)return n.To;if(this.mo===this.xo){var s=this.ko.get(this.yo);this.ko.delete(this.yo),this.Gs.delete(Bt(s)),this.yo++,this.mo--}var r=this.No(t);return this.Gs.set(e,{To:r,Do:this.po}),this.ko.set(this.po,e),this.mo++,this.po++,r},i}(),Zi=function(){function i(t,e){_i(t<=e,"right should be >= left"),this.Ao=t,this.Bo=e}return i.prototype.In=function(){return this.Ao},i.prototype.jn=function(){return this.Bo},i.prototype.Lo=function(){return this.Bo-this.Ao+1},i.prototype.Uh=function(t){return this.Ao<=t&&t<=this.Bo},i.prototype.br=function(t){return this.Ao===t.In()&&this.Bo===t.jn()},i}();function yh(i,t){return i===null||t===null?i===t:i.br(t)}var mh,zc=function(){function i(){this.Eo=new Map,this.Gs=null}return i.prototype.Fo=function(t,e){this.Oo(e),this.Gs=null;for(var n=e;n<t.length;++n){var s=t[n],r=this.Eo.get(s.Vo);r===void 0&&(r=[],this.Eo.set(s.Vo,r)),r.push({vs:n,rt:s.rt,Po:s.Vo})}},i.prototype.Wo=function(t,e){var n=Math.ceil(e/t);return this.Gs!==null&&this.Gs.zo===n||(this.Gs={au:this.Ro(n),zo:n}),this.Gs.au},i.prototype.Oo=function(t){if(t!==0){var e=[];this.Eo.forEach(function(o,h){t<=o[0].vs?e.push(h):o.splice(en(o,t,function(a){return a.vs<t}),1/0)});for(var n=0,s=e;n<s.length;n++){var r=s[n];this.Eo.delete(r)}}else this.Eo.clear()},i.prototype.Ro=function(t){for(var e=[],n=0,s=Array.from(this.Eo.keys()).sort(function(C,x){return x-C});n<s.length;n++){var r=s[n];if(this.Eo.get(r)){var o=e;e=[];for(var h=o.length,a=0,l=Bt(this.Eo.get(r)),u=l.length,p=1/0,b=-1/0,y=0;y<u;y++){for(var v=l[y],d=v.vs;a<h;){var S=o[a],_=S.vs;if(!(_<d)){p=_;break}a++,e.push(S),b=_,p=1/0}p-d>=t&&d-b>=t&&(e.push(v),b=d)}for(;a<h;a++)e.push(o[a])}}return e},i}(),Cs=function(){function i(t){this.Io=t}return i.prototype.jo=function(){return this.Io===null?null:new Zi(Math.floor(this.Io.In()),Math.ceil(this.Io.jn()))},i.prototype.qo=function(){return this.Io},i.Uo=function(){return new i(null)},i}();(function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"})(mh||(mh={}));var Ic=function(){function i(t,e,n){this.hh=0,this.Ho=null,this.Yo=[],this.zu=null,this.Wu=null,this.$o=new zc,this.Ko=new Map,this.Xo=Cs.Uo(),this.Zo=!0,this.Jo=new ct,this.Go=new ct,this.Qo=new ct,this.tl=null,this.il=null,this.nl=[],this.zi=e,this.qu=n,this.sl=e.rightOffset,this.hl=e.barSpacing,this.pi=t,this.rl()}return i.prototype.W=function(){return this.zi},i.prototype.el=function(t){lt(this.qu,t),this.ul(),this.rl()},i.prototype.Pr=function(t,e){var n;lt(this.zi,t),this.zi.fixLeftEdge&&this.al(),this.zi.fixRightEdge&&this.ol(),t.barSpacing!==void 0&&this.pi.gn(t.barSpacing),t.rightOffset!==void 0&&this.pi.yn(t.rightOffset),t.minBarSpacing!==void 0&&this.pi.gn((n=t.barSpacing)!==null&&n!==void 0?n:this.hl),this.ul(),this.rl(),this.Qo.m()},i.prototype.gi=function(t){var e;return((e=this.Yo[t])===null||e===void 0?void 0:e.rt)||null},i.prototype.Ze=function(t,e){if(this.Yo.length<1)return null;if(t.So>this.Yo[this.Yo.length-1].rt.So)return e?this.Yo.length-1:null;var n=en(this.Yo,t.So,function(s,r){return s.rt.So<r});return t.So<this.Yo[n].rt.So?e?n:null:n},i.prototype.wi=function(){return this.hh===0||this.Yo.length===0||this.Ho===null},i.prototype.ss=function(){return this.ll(),this.Xo.jo()},i.prototype.fl=function(){return this.ll(),this.Xo.qo()},i.prototype.cl=function(){var t=this.ss();if(t===null)return null;var e={from:t.In(),to:t.jn()};return this.vl(e)},i.prototype.vl=function(t){var e=Math.round(t.from),n=Math.round(t.to),s=k(this._l()),r=k(this.dl());return{from:k(this.gi(Math.max(s,e))),to:k(this.gi(Math.min(r,n)))}},i.prototype.wl=function(t){return{from:k(this.Ze(t.from,!0)),to:k(this.Ze(t.to,!0))}},i.prototype.Ht=function(){return this.hh},i.prototype.Ra=function(t){if(isFinite(t)&&!(t<=0)&&this.hh!==t){if(this.zi.lockVisibleTimeRangeOnResize&&this.hh){var e=this.hl*t/this.hh;this.hl=e}if(this.zi.fixLeftEdge){var n=this.ss();if(n!==null&&n.In()<=0){var s=this.hh-t;this.sl-=Math.round(s/this.hl)+1}}this.hh=t,this.Zo=!0,this.Ml(),this.bl()}},i.prototype.At=function(t){if(this.wi()||!Qi(t))return 0;var e=this.ml()+this.sl-t;return this.hh-(e+.5)*this.hl-1},i.prototype.es=function(t,e){for(var n=this.ml(),s=e===void 0?0:e.from,r=e===void 0?t.length:e.to,o=s;o<r;o++){var h=t[o].rt,a=n+this.sl-h,l=this.hh-(a+.5)*this.hl-1;t[o].tt=l}},i.prototype.pl=function(t){return Math.ceil(this.gl(t))},i.prototype.yn=function(t){this.Zo=!0,this.sl=t,this.bl(),this.pi.yl(),this.pi.Wr()},i.prototype.ws=function(){return this.hl},i.prototype.gn=function(t){this.kl(t),this.bl(),this.pi.yl(),this.pi.Wr()},i.prototype.Nl=function(){return this.sl},i.prototype.au=function(){if(this.wi())return null;if(this.il!==null)return this.il;for(var t=this.hl,e=5*(this.pi.W().layout.fontSize+4),n=Math.round(e/t),s=k(this.ss()),r=Math.max(s.In(),s.In()-n),o=Math.max(s.jn(),s.jn()-n),h=this.$o.Wo(t,e),a=this._l()+n,l=this.dl()-n,u=this.xl(),p=this.zi.fixLeftEdge||u,b=this.zi.fixRightEdge||u,y=0,v=0,d=h;v<d.length;v++){var S=d[v];if(r<=S.vs&&S.vs<=o){var _=void 0;y<this.nl.length?((_=this.nl[y]).su=this.At(S.vs),_.yu=this.Cl(S.rt,S.Po),_.Po=S.Po):(_={Sl:!1,su:this.At(S.vs),yu:this.Cl(S.rt,S.Po),Po:S.Po},this.nl.push(_)),this.hl>e/2&&!u?_.Sl=!1:_.Sl=p&&S.vs<=a||b&&S.vs>=l,y++}}return this.nl.length=y,this.il=this.nl,this.nl},i.prototype.Tl=function(){this.Zo=!0,this.gn(this.zi.barSpacing),this.yn(this.zi.rightOffset)},i.prototype.Dl=function(t){this.Zo=!0,this.Ho=t,this.bl(),this.al()},i.prototype.Al=function(t,e){var n=this.gl(t),s=this.ws(),r=s+e*(s/10);this.gn(r),this.zi.rightBarStaysOnScroll||this.yn(this.Nl()+(n-this.gl(t)))},i.prototype.da=function(t){this.zu&&this.pa(),this.Wu===null&&this.tl===null&&(this.wi()||(this.Wu=t,this.Bl()))},i.prototype.wa=function(t){if(this.tl!==null){var e=Os(this.hh-t,0,this.hh),n=Os(this.hh-k(this.Wu),0,this.hh);e!==0&&n!==0&&this.gn(this.tl.ws*e/n)}},i.prototype.Ma=function(){this.Wu!==null&&(this.Wu=null,this.Ll())},i.prototype.ba=function(t){this.zu===null&&this.tl===null&&(this.wi()||(this.zu=t,this.Bl()))},i.prototype.ma=function(t){if(this.zu!==null){var e=(this.zu-t)/this.ws();this.sl=k(this.tl).Nl+e,this.Zo=!0,this.bl()}},i.prototype.pa=function(){this.zu!==null&&(this.zu=null,this.Ll())},i.prototype.El=function(){this.Fl(this.zi.rightOffset)},i.prototype.Fl=function(t,e){var n=this;if(e===void 0&&(e=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var s=this.sl,r=performance.now(),o=function(){var h=(performance.now()-r)/e,a=h>=1,l=a?t:s+(t-s)*h;n.yn(l),a||setTimeout(o,20)};o()},i.prototype.vt=function(t,e){this.Zo=!0,this.Yo=t,this.$o.Fo(t,e),this.bl()},i.prototype.Ol=function(){return this.Jo},i.prototype.Vl=function(){return this.Go},i.prototype.Pl=function(){return this.Qo},i.prototype.ml=function(){return this.Ho||0},i.prototype.Wl=function(t){var e=t.Lo();this.kl(this.hh/e),this.sl=t.jn()-this.ml(),this.bl(),this.Zo=!0,this.pi.yl(),this.pi.Wr()},i.prototype.zl=function(){var t=this._l(),e=this.dl();t!==null&&e!==null&&this.Wl(new Zi(t,e+this.zi.rightOffset))},i.prototype.Rl=function(t){var e=new Zi(t.from,t.to);this.Wl(e)},i.prototype.yi=function(t){return this.qu.timeFormatter!==void 0?this.qu.timeFormatter(t.Co||t.So):this.Il.lo(new Date(1e3*t.So))},i.prototype.xl=function(){var t=this.pi.W(),e=t.handleScroll,n=t.handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)},i.prototype._l=function(){return this.Yo.length===0?null:0},i.prototype.dl=function(){return this.Yo.length===0?null:this.Yo.length-1},i.prototype.jl=function(t){return(this.hh-1-t)/this.hl},i.prototype.gl=function(t){var e=this.jl(t),n=this.ml()+this.sl-e;return Math.round(1e6*n)/1e6},i.prototype.kl=function(t){var e=this.hl;this.hl=t,this.Ml(),e!==this.hl&&(this.Zo=!0,this.ql())},i.prototype.ll=function(){if(this.Zo)if(this.Zo=!1,this.wi())this.Ul(Cs.Uo());else{var t=this.ml(),e=this.hh/this.hl,n=this.sl+t,s=new Zi(n-e+1,n);this.Ul(new Cs(s))}},i.prototype.Ml=function(){var t=this.Hl();if(this.hl<t&&(this.hl=t,this.Zo=!0),this.hh!==0){var e=.5*this.hh;this.hl>e&&(this.hl=e,this.Zo=!0)}},i.prototype.Hl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&this.Yo.length!==0?this.hh/this.Yo.length:this.zi.minBarSpacing},i.prototype.bl=function(){var t=this.Yl();this.sl>t&&(this.sl=t,this.Zo=!0);var e=this.$l();e!==null&&this.sl<e&&(this.sl=e,this.Zo=!0)},i.prototype.$l=function(){var t=this._l(),e=this.Ho;return t===null||e===null?null:t-e-1+(this.zi.fixLeftEdge?this.hh/this.hl:Math.min(2,this.Yo.length))},i.prototype.Yl=function(){return this.zi.fixRightEdge?0:this.hh/this.hl-Math.min(2,this.Yo.length)},i.prototype.Bl=function(){this.tl={ws:this.ws(),Nl:this.Nl()}},i.prototype.Ll=function(){this.tl=null},i.prototype.Cl=function(t,e){var n=this,s=this.Ko.get(e);return s===void 0&&(s=new Xc(function(r){return n.Kl(r,e)}),this.Ko.set(e,s)),s.lo(t)},i.prototype.Kl=function(t,e){var n,s=function(r,o,h){switch(r){case 0:case 10:return o?h?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e,this.zi.timeVisible,this.zi.secondsVisible);return this.zi.tickMarkFormatter!==void 0?this.zi.tickMarkFormatter((n=t.Co)!==null&&n!==void 0?n:t.So,s,this.qu.locale):function(r,o,h){var a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}var l=r.Co===void 0?new Date(1e3*r.So):new Date(Date.UTC(r.Co.year,r.Co.month-1,r.Co.day));return new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()).toLocaleString(h,a)}(t,s,this.qu.locale)},i.prototype.Ul=function(t){var e=this.Xo;this.Xo=t,yh(e.jo(),this.Xo.jo())||this.Jo.m(),yh(e.qo(),this.Xo.qo())||this.Go.m(),this.ql()},i.prototype.ql=function(){this.il=null},i.prototype.ul=function(){this.ql(),this.Ko.clear()},i.prototype.rl=function(){var t=this.qu.dateFormat;this.zi.timeVisible?this.Il=new Wc({co:t,vo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",_o:"   ",do:this.qu.locale}):this.Il=new Wa(t,this.qu.locale)},i.prototype.al=function(){if(this.zi.fixLeftEdge){var t=this._l();if(t!==null){var e=this.ss();if(e!==null){var n=e.In()-t;if(n<0){var s=this.sl-n-1;this.yn(s)}this.Ml()}}}},i.prototype.ol=function(){this.bl(),this.Ml()},i}(),gh,Kc=function(i){function t(e){var n=i.call(this)||this;return n.Xl=new Map,n.Bt=e,n}return X(t,i),t.prototype.Y=function(e){},t.prototype.K=function(e){if(this.Bt.yt){e.save();for(var n=0,s=0,r=this.Bt.Zl;s<r.length;s++)if((u=r[s]).Gt.length!==0){e.font=u.T;var o=this.Jl(e,u.Gt);o>this.Bt.Ht?u.Al=this.Bt.Ht/o:u.Al=1,n+=u.Gl*u.Al}var h=0;switch(this.Bt.Ql){case"top":h=0;break;case"center":h=Math.max((this.Bt.Yt-n)/2,0);break;case"bottom":h=Math.max(this.Bt.Yt-n,0)}e.fillStyle=this.Bt.A;for(var a=0,l=this.Bt.Zl;a<l.length;a++){var u=l[a];e.save();var p=0;switch(this.Bt.tf){case"left":e.textAlign="left",p=u.Gl/2;break;case"center":e.textAlign="center",p=this.Bt.Ht/2;break;case"right":e.textAlign="right",p=this.Bt.Ht-1-u.Gl/2}e.translate(p,h),e.textBaseline="top",e.font=u.T,e.scale(u.Al,u.Al),e.fillText(u.Gt,0,u.if),e.restore(),h+=u.Gl*u.Al}e.restore()}},t.prototype.Jl=function(e,n){var s=this.nf(e.font),r=s.get(n);return r===void 0&&(r=e.measureText(n).width,s.set(n,r)),r},t.prototype.nf=function(e){var n=this.Xl.get(e);return n===void 0&&(n=new Map,this.Xl.set(e,n)),n},t}(tn),Vc=function(){function i(t){this.ft=!0,this.Wt={yt:!1,A:"",Yt:0,Ht:0,Zl:[],Ql:"center",tf:"center"},this.zt=new Kc(this.Wt),this.Rt=t}return i.prototype.vt=function(){this.ft=!0},i.prototype.dt=function(t,e){return this.ft&&(this.wt(t,e),this.ft=!1),this.zt},i.prototype.wt=function(t,e){var n=this.Rt.W(),s=this.Wt;s.yt=n.visible,s.yt&&(s.A=n.color,s.Ht=e,s.Yt=t,s.tf=n.horzAlign,s.Ql=n.vertAlign,s.Zl=[{Gt:n.text,T:Ce(n.fontSize,n.fontFamily,n.fontStyle),Gl:1.2*n.fontSize,if:0,Al:0}])},i}(),Fc=function(i){function t(e,n){var s=i.call(this)||this;return s.zi=n,s.Hi=new Vc(s),s}return X(t,i),t.prototype.nn=function(){return[]},t.prototype.tn=function(){return[this.Hi]},t.prototype.W=function(){return this.zi},t.prototype.hn=function(){this.Hi.vt()},t}(Nr);(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(gh||(gh={}));var Sh,wh,_h,Jc=function(){function i(t,e){this.sf=[],this.hf=[],this.hh=0,this.rf=null,this.ef=null,this.uf=new ct,this.af=new ct,this.lf=null,this.ff=t,this.zi=e,this.cf=new Au(this),this.Da=new Ic(this,e.timeScale,this.zi.localization),this.ct=new Vu(this,e.crosshair),this.vf=new Mc(e.crosshair),this._f=new Fc(this,e.watermark),this.df(),this.sf[0].za(2e3),this.wf=this.Mf(0),this.bf=this.Mf(1)}return i.prototype.Ce=function(){this.mf(new Ut(3))},i.prototype.Wr=function(){this.mf(new Ut(2))},i.prototype.We=function(){this.mf(new Ut(1))},i.prototype.Se=function(t){var e=this.pf(t);this.mf(e)},i.prototype.gf=function(){return this.ef},i.prototype.yf=function(t){var e=this.ef;this.ef=t,e!==null&&this.Se(e.kf),t!==null&&this.Se(t.kf)},i.prototype.W=function(){return this.zi},i.prototype.Pr=function(t){lt(this.zi,t),this.sf.forEach(function(e){return e.Oa(t)}),t.timeScale!==void 0&&this.Da.Pr(t.timeScale),t.localization!==void 0&&this.Da.el(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.uf.m(),this.wf=this.Mf(0),this.bf=this.Mf(1),this.Ce()},i.prototype.Nf=function(t,e){if(t!=="left")if(t!=="right"){var n=this.xf(t);n!==null&&(n.Ct.Pr(e),this.uf.m())}else this.Pr({rightPriceScale:e});else this.Pr({leftPriceScale:e})},i.prototype.xf=function(t){for(var e=0,n=this.sf;e<n.length;e++){var s=n[e],r=s.Va(t);if(r!==null)return{It:s,Ct:r}}return null},i.prototype.bt=function(){return this.Da},i.prototype.Cf=function(){return this.sf},i.prototype.Sf=function(){return this._f},i.prototype.Tf=function(){return this.ct},i.prototype.Df=function(){return this.af},i.prototype.Af=function(t,e){t.ia(e),this.yl()},i.prototype.Ra=function(t){this.hh=t,this.Da.Ra(this.hh),this.sf.forEach(function(e){return e.Ra(t)}),this.yl()},i.prototype.df=function(t){var e=new Uc(this.Da,this);t!==void 0?this.sf.splice(t,0,e):this.sf.push(e);var n=t===void 0?this.sf.length-1:t,s=new Ut(3);return s.cn(n,{vn:0,_n:!0}),this.mf(s),e},i.prototype.Ka=function(t,e,n){t.Ka(e,n)},i.prototype.Xa=function(t,e,n){t.Xa(e,n),this.Te(),this.mf(this.Bf(t,2))},i.prototype.Za=function(t,e){t.Za(e),this.mf(this.Bf(t,2))},i.prototype.Ja=function(t,e,n){e.Xu()||t.Ja(e,n)},i.prototype.Ga=function(t,e,n){e.Xu()||(t.Ga(e,n),this.Te(),this.mf(this.Bf(t,2)))},i.prototype.Qa=function(t,e){e.Xu()||(t.Qa(e),this.mf(this.Bf(t,2)))},i.prototype.no=function(t,e){t.no(e),this.mf(this.Bf(t,2))},i.prototype.Lf=function(t){this.Da.da(t)},i.prototype.Ef=function(t,e){var n=this.bt();if(!n.wi()&&e!==0){var s=n.Ht();t=Math.max(1,Math.min(t,s)),n.Al(t,e),this.yl()}},i.prototype.Ff=function(t){this.Of(0),this.Vf(t),this.Pf()},i.prototype.Wf=function(t){this.Da.wa(t),this.yl()},i.prototype.zf=function(){this.Da.Ma(),this.Wr()},i.prototype.Of=function(t){this.rf=t,this.Da.ba(t)},i.prototype.Vf=function(t){var e=!1;return this.rf!==null&&Math.abs(t-this.rf)>20&&(this.rf=null,e=!0),this.Da.ma(t),this.yl(),e},i.prototype.Pf=function(){this.Da.pa(),this.Wr(),this.rf=null},i.prototype._t=function(){return this.hf},i.prototype.Rf=function(t,e,n){this.ct.Yi(t,e);var s=NaN,r=this.Da.pl(t),o=this.Da.ss();o!==null&&(r=Math.min(Math.max(o.In(),r),o.jn()));var h=n.ji(),a=h.kt();a!==null&&(s=h.qi(e,a)),s=this.vf.Je(s,r,n),this.ct.Zi(r,s,n),this.We(),this.af.m(this.ct.Mt(),{x:t,y:e})},i.prototype.If=function(){this.Tf().Gi(),this.We(),this.af.m(null,null)},i.prototype.Te=function(){var t=this.ct.It();if(t!==null){var e=this.ct.Ki(),n=this.ct.Xi();this.Rf(e,n,t)}this.ct.hn()},i.prototype.jf=function(t,e,n){var s=this.Da.gi(0);e!==void 0&&n!==void 0&&this.Da.vt(e,n);var r=this.Da.gi(0),o=this.Da.ml(),h=this.Da.ss();if(h!==null&&s!==null&&r!==null){var a=h.Uh(o),l=s.So>r.So,u=t!==null&&t>o&&!l,p=a&&this.Da.W().shiftVisibleRangeOnNewBar;if(u&&!p){var b=t-o;this.Da.yn(this.Da.Nl()-b)}}this.Da.Dl(t)},i.prototype.Be=function(t){t!==null&&t.ho()},i.prototype.oh=function(t){var e=this.sf.find(function(n){return n.oa().includes(t)});return e===void 0?null:e},i.prototype.yl=function(){this._f.hn(),this.sf.forEach(function(t){return t.ho()}),this.Te()},i.prototype.g=function(){this.sf.forEach(function(t){return t.g()}),this.sf.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},i.prototype.qf=function(){return this.cf},i.prototype.dh=function(){return this.cf.W()},i.prototype.Pa=function(){return this.uf},i.prototype.Uf=function(t,e){var n=this.sf[0],s=this.Hf(e,t,n);return this.hf.push(s),this.hf.length===1?this.Ce():this.Wr(),s},i.prototype.Yf=function(t){var e=this.oh(t),n=this.hf.indexOf(t);_i(n!==-1,"Series not found"),this.hf.splice(n,1),k(e).ca(t),t.g&&t.g()},i.prototype.xe=function(t,e){var n=k(this.oh(t));n.ca(t);var s=this.xf(e);if(s===null){var r=t.xi();n.la(t,e,r)}else r=s.It===n?t.xi():void 0,s.It.la(t,e,r)},i.prototype.zl=function(){var t=new Ut(2);t.Mn(),this.mf(t)},i.prototype.$f=function(t){var e=new Ut(2);e.mn(t),this.mf(e)},i.prototype.pn=function(){var t=new Ut(2);t.pn(),this.mf(t)},i.prototype.gn=function(t){var e=new Ut(2);e.gn(t),this.mf(e)},i.prototype.yn=function(t){var e=new Ut(2);e.yn(t),this.mf(e)},i.prototype.Kf=function(){return this.zi.rightPriceScale.visible?"right":"left"},i.prototype.Xf=function(){return this.bf},i.prototype.Zf=function(){return this.wf},i.prototype.Dt=function(t){var e=this.bf,n=this.wf;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.lf===null||this.lf.Pn!==n||this.lf.Wn!==e)this.lf={Pn:n,Wn:e,Jf:new Map};else{var s=this.lf.Jf.get(t);if(s!==void 0)return s}var r=function(o,h,a){var l=As(o),u=l[0],p=l[1],b=l[2],y=l[3],v=As(h),d=v[0],S=v[1],_=v[2],C=v[3],x=[Lt(u+a*(d-u)),Lt(p+a*(S-p)),Lt(b+a*(_-b)),_a(y+a*(C-y))];return"rgba(".concat(x[0],", ").concat(x[1],", ").concat(x[2],", ").concat(x[3],")")}(n,e,t/100);return this.lf.Jf.set(t,r),r},i.prototype.Bf=function(t,e){var n=new Ut(e);if(t!==null){var s=this.sf.indexOf(t);n.cn(s,{vn:e})}return n},i.prototype.pf=function(t,e){return e===void 0&&(e=2),this.Bf(this.oh(t),e)},i.prototype.mf=function(t){this.ff&&this.ff(t),this.sf.forEach(function(e){return e.eo().ou().vt()})},i.prototype.Hf=function(t,e,n){var s=new Ir(this,t,e),r=t.priceScaleId!==void 0?t.priceScaleId:this.Kf();return n.la(s,r),zs(r)||s.Pr(t),s},i.prototype.Mf=function(t){var e=this.zi.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color},i}();function Xa(i){i.borderColor!==void 0&&(i.borderUpColor=i.borderColor,i.borderDownColor=i.borderColor),i.wickColor!==void 0&&(i.wickUpColor=i.wickColor,i.wickDownColor=i.wickColor)}function Kr(i){return!qt(i)&&!Or(i)}function za(i){return qt(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(Sh||(Sh={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(wh||(wh={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(_h||(_h={}));var ut=function(){function i(t,e){this.Ft=t,this.Ot=e}return i.prototype.br=function(t){return this.Ft===t.Ft&&this.Ot===t.Ot},i}();function Ls(i){return i.ownerDocument&&i.ownerDocument.defaultView&&i.ownerDocument.defaultView.devicePixelRatio||1}function $t(i){var t=k(i.getContext("2d"));return t.setTransform(1,0,0,1,0,0),t}function Ia(i,t){var e=i.createElement("canvas"),n=Ls(e);return e.style.width="".concat(t.Ft,"px"),e.style.height="".concat(t.Ot,"px"),e.width=t.Ft*n,e.height=t.Ot*n,e}function Ee(i,t){var e=k(i.ownerDocument).createElement("canvas");i.appendChild(e);var n=Pu(e,{allowDownsampling:!1});return n.resizeCanvas({width:t.Ft,height:t.Ot}),n}function pr(i,t){return i.Gf-t.Gf}function fr(i,t,e){var n=(i.Gf-t.Gf)/(i.rt-t.rt);return Math.sign(n)*Math.min(Math.abs(n),e)}var Gc=function(){function i(t,e,n,s){this.Qf=null,this.tc=null,this.ic=null,this.nc=null,this.sc=null,this.hc=0,this.rc=0,this.ec=!1,this.uc=t,this.ac=e,this.oc=n,this.Cn=s}return i.prototype.lc=function(t,e){if(this.Qf!==null){if(this.Qf.rt===e)return void(this.Qf.Gf=t);if(Math.abs(this.Qf.Gf-t)<this.Cn)return}this.nc=this.ic,this.ic=this.tc,this.tc=this.Qf,this.Qf={rt:e,Gf:t}},i.prototype.xh=function(t,e){if(this.Qf!==null&&this.tc!==null&&!(e-this.Qf.rt>50)){var n=0,s=fr(this.Qf,this.tc,this.ac),r=pr(this.Qf,this.tc),o=[s],h=[r];if(n+=r,this.ic!==null){var a=fr(this.tc,this.ic,this.ac);if(Math.sign(a)===Math.sign(s)){var l=pr(this.tc,this.ic);if(o.push(a),h.push(l),n+=l,this.nc!==null){var u=fr(this.ic,this.nc,this.ac);if(Math.sign(u)===Math.sign(s)){var p=pr(this.ic,this.nc);o.push(u),h.push(p),n+=p}}}}for(var b,y,v,d=0,S=0;S<o.length;++S)d+=h[S]/n*o[S];Math.abs(d)<this.uc||(this.sc={Gf:t,rt:e},this.rc=d,this.hc=(b=Math.abs(d),y=this.oc,v=Math.log(y),Math.log(1*v/-b)/v))}},i.prototype.fc=function(t){var e=k(this.sc),n=t-e.rt;return e.Gf+this.rc*(Math.pow(this.oc,n)-1)/Math.log(this.oc)},i.prototype.cc=function(t){return this.sc===null||this.vc(t)===this.hc},i.prototype._c=function(){return this.ec},i.prototype.dc=function(){this.ec=!0},i.prototype.vc=function(t){var e=t-k(this.sc).rt;return Math.min(e,this.hc)},i}(),Ks=typeof window!="undefined";function Th(){return!!Ks&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function dr(){return!!Ks&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function jc(i){Ks&&window.chrome!==void 0&&i.addEventListener("mousedown",function(t){if(t.button===1)return t.preventDefault(),!1})}var Vr=function(){function i(t,e,n){var s=this;this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.kc=null,this.Nc=!1,this.xc=null,this.Cc=null,this.Sc=!1,this.Tc=!1,this.Dc=!1,this.Ac=null,this.Bc=null,this.Lc=null,this.Ec=null,this.Fc=null,this.Oc=null,this.Vc=null,this.Pc=0,this.Wc=!1,this.zc=!1,this.Rc=!1,this.Ic=0,this.jc=null,this.qc=!dr(),this.Uc=function(r){s.Hc(r)},this.Yc=function(r){if(s.$c(r)){var o=s.Kc(r);++s.mc,s.gc&&s.mc>1&&(s.Zc(Zt(r),s.yc).Xc<30&&!s.Dc&&s.Jc(o,s.Qc.Gc),s.tv())}else o=s.Kc(r),++s.wc,s.Mc&&s.wc>1&&(s.Zc(Zt(r),s.bc).Xc<5&&!s.Tc&&s.iv(o,s.Qc.nv),s.sv())},this.hv=t,this.Qc=e,this.zi=n,this.rv()}return i.prototype.g=function(){this.Ac!==null&&(this.Ac(),this.Ac=null),this.Bc!==null&&(this.Bc(),this.Bc=null),this.Ec!==null&&(this.Ec(),this.Ec=null),this.Fc!==null&&(this.Fc(),this.Fc=null),this.Oc!==null&&(this.Oc(),this.Oc=null),this.Lc!==null&&(this.Lc(),this.Lc=null),this.ev(),this.sv()},i.prototype.uv=function(t){var e=this;this.Ec&&this.Ec();var n=this.av.bind(this);if(this.Ec=function(){e.hv.removeEventListener("mousemove",n)},this.hv.addEventListener("mousemove",n),!this.$c(t)){var s=this.Kc(t);this.iv(s,this.Qc.ov),this.qc=!0}},i.prototype.sv=function(){this.Mc!==null&&clearTimeout(this.Mc),this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},i.prototype.tv=function(){this.gc!==null&&clearTimeout(this.gc),this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},i.prototype.av=function(t){if(!this.Rc&&this.Cc===null&&!this.$c(t)){var e=this.Kc(t);this.iv(e,this.Qc.lv),this.qc=!0}},i.prototype.fv=function(t){var e=br(t.changedTouches,k(this.jc));if(e!==null&&(this.Ic=Ss(t),this.Vc===null&&!this.zc)){this.Wc=!0;var n=this.Zc(Zt(e),k(this.Cc)),s=n.cv,r=n.vv,o=n.Xc;if(this.Sc||!(o<5)){if(!this.Sc){var h=.5*s,a=r>=h&&!this.zi._v(),l=h>r&&!this.zi.dv();a||l||(this.zc=!0),this.Sc=!0,this.Dc=!0,this.ev(),this.tv()}if(!this.zc){var u=this.Kc(t,e);this.Jc(u,this.Qc.wv),ci(t)}}}},i.prototype.Mv=function(t){if(t.button===0&&(this.Zc(Zt(t),k(this.xc)).Xc>=5&&(this.Tc=!0,this.sv()),this.Tc)){var e=this.Kc(t);this.iv(e,this.Qc.bv)}},i.prototype.Zc=function(t,e){var n=Math.abs(e.tt-t.tt),s=Math.abs(e.it-t.it);return{cv:n,vv:s,Xc:n+s}},i.prototype.mv=function(t){var e=br(t.changedTouches,k(this.jc));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e!==null){this.jc=null,this.Ic=Ss(t),this.ev(),this.Cc=null,this.Oc&&(this.Oc(),this.Oc=null);var n=this.Kc(t,e);this.Jc(n,this.Qc.pv),++this.mc,this.gc&&this.mc>1?(this.Zc(Zt(e),this.yc).Xc<30&&!this.Dc&&this.Jc(n,this.Qc.Gc),this.tv()):this.Dc||(this.Jc(n,this.Qc.gv),this.Qc.gv&&ci(t)),this.mc===0&&ci(t),t.touches.length===0&&this.Nc&&(this.Nc=!1,ci(t))}},i.prototype.Hc=function(t){if(t.button===0){var e=this.Kc(t);this.xc=null,this.Rc=!1,this.Fc&&(this.Fc(),this.Fc=null),Th()&&this.hv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uc),this.$c(t)||(this.iv(e,this.Qc.yv),++this.wc,this.Mc&&this.wc>1?(this.Zc(Zt(t),this.bc).Xc<5&&!this.Tc&&this.iv(e,this.Qc.nv),this.sv()):this.Tc||this.iv(e,this.Qc.kv))}},i.prototype.ev=function(){this.kc!==null&&(clearTimeout(this.kc),this.kc=null)},i.prototype.Nv=function(t){if(this.jc===null){var e=t.changedTouches[0];this.jc=e.identifier,this.Ic=Ss(t);var n=this.hv.ownerDocument.documentElement;this.Dc=!1,this.Sc=!1,this.zc=!1,this.Cc=Zt(e),this.Oc&&(this.Oc(),this.Oc=null);var s=this.fv.bind(this),r=this.mv.bind(this);this.Oc=function(){n.removeEventListener("touchmove",s),n.removeEventListener("touchend",r)},n.addEventListener("touchmove",s,{passive:!1}),n.addEventListener("touchend",r,{passive:!1}),this.ev(),this.kc=setTimeout(this.xv.bind(this,t),240);var o=this.Kc(t,e);this.Jc(o,this.Qc.Cv),this.gc||(this.mc=0,this.gc=setTimeout(this.tv.bind(this),500),this.yc=Zt(e))}},i.prototype.Sv=function(t){if(t.button===0){var e=this.hv.ownerDocument.documentElement;Th()&&e.addEventListener("mouseleave",this.Uc),this.Tc=!1,this.xc=Zt(t),this.Fc&&(this.Fc(),this.Fc=null);var n=this.Mv.bind(this),s=this.Hc.bind(this);if(this.Fc=function(){e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",s)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",s),this.Rc=!0,!this.$c(t)){var r=this.Kc(t);this.iv(r,this.Qc.Tv),this.Mc||(this.wc=0,this.Mc=setTimeout(this.sv.bind(this),500),this.bc=Zt(t))}}},i.prototype.rv=function(){var t=this;this.hv.addEventListener("mouseenter",this.uv.bind(this)),this.hv.addEventListener("touchcancel",this.ev.bind(this));var e=this.hv.ownerDocument,n=function(s){t.Qc.Dv&&(s.target&&t.hv.contains(s.target)||t.Qc.Dv())};this.Bc=function(){e.removeEventListener("touchstart",n)},this.Ac=function(){e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0}),dr()&&(this.Lc=function(){t.hv.removeEventListener("dblclick",t.Yc)},this.hv.addEventListener("dblclick",this.Yc)),this.hv.addEventListener("mouseleave",this.Av.bind(this)),this.hv.addEventListener("touchstart",this.Nv.bind(this),{passive:!0}),jc(this.hv),this.hv.addEventListener("mousedown",this.Sv.bind(this)),this.Bv(),this.hv.addEventListener("touchmove",function(){},{passive:!1})},i.prototype.Bv=function(){var t=this;this.Qc.Lv===void 0&&this.Qc.Ev===void 0&&this.Qc.Fv===void 0||(this.hv.addEventListener("touchstart",function(e){return t.Ov(e.touches)},{passive:!0}),this.hv.addEventListener("touchmove",function(e){if(e.touches.length===2&&t.Vc!==null&&t.Qc.Ev!==void 0){var n=Ph(e.touches[0],e.touches[1])/t.Pc;t.Qc.Ev(t.Vc,n),ci(e)}},{passive:!1}),this.hv.addEventListener("touchend",function(e){t.Ov(e.touches)}))},i.prototype.Ov=function(t){t.length===1&&(this.Wc=!1),t.length!==2||this.Wc||this.Nc?this.Vv():this.Pv(t)},i.prototype.Pv=function(t){var e=this.hv.getBoundingClientRect()||{left:0,top:0};this.Vc={tt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,it:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Pc=Ph(t[0],t[1]),this.Qc.Lv!==void 0&&this.Qc.Lv(),this.ev()},i.prototype.Vv=function(){this.Vc!==null&&(this.Vc=null,this.Qc.Fv!==void 0&&this.Qc.Fv())},i.prototype.Av=function(t){if(this.Ec&&this.Ec(),!this.$c(t)&&this.qc){var e=this.Kc(t);this.iv(e,this.Qc.Wv),this.qc=!dr()}},i.prototype.xv=function(t){var e=br(t.touches,k(this.jc));if(e!==null){var n=this.Kc(t,e);this.Jc(n,this.Qc.zv),this.Dc=!0,this.Nc=!0}},i.prototype.$c=function(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Ss(t)<this.Ic+500},i.prototype.Jc=function(t,e){e&&e.call(this.Qc,t)},i.prototype.iv=function(t,e){e&&e.call(this.Qc,t)},i.prototype.Kc=function(t,e){var n=e||t,s=this.hv.getBoundingClientRect()||{left:0,top:0};return{Rv:n.clientX,Iv:n.clientY,jv:n.pageX,qv:n.pageY,Uv:n.screenX,Hv:n.screenY,Yv:n.clientX-s.left,$v:n.clientY-s.top,Kv:t.ctrlKey,Xv:t.altKey,Zv:t.shiftKey,Jv:t.metaKey,Gv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Qv:t.type,t_:n.target,i_:t.view,n_:function(){t.type!=="touchstart"&&ci(t)}}},i}();function Ph(i,t){var e=i.clientX-t.clientX,n=i.clientY-t.clientY;return Math.sqrt(e*e+n*n)}function ci(i){i.cancelable&&i.preventDefault()}function Zt(i){return{tt:i.pageX,it:i.pageY}}function Ss(i){return i.timeStamp||performance.now()}function br(i,t){for(var e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}var kh=function(){function i(t,e,n,s){this.rh=new gi(200),this.R=0,this.s_="",this.Yh="",this.th=[],this.h_=new Map,this.R=t,this.s_=e,this.Yh=Ce(t,n,s)}return i.prototype.g=function(){this.rh.ih(),this.th=[],this.h_.clear()},i.prototype.r_=function(t,e,n,s,r){var o=this.e_(t,e);if(r!=="left"){var h=Ls(t.canvas);n-=Math.floor(o.u_*h)}s-=Math.floor(o.Yt/2),t.drawImage(o.a_,n,s,o.Ht,o.Yt)},i.prototype.e_=function(t,e){var n,s=this;if(this.h_.has(e))n=Bt(this.h_.get(e));else{if(this.th.length>=200){var r=Bt(this.th.shift());this.h_.delete(r)}var o=Ls(t.canvas),h=Math.ceil(this.R/4.5),a=Math.round(this.R/10),l=Math.ceil(this.rh.Qt(t,e)),u=xr(Math.round(l+2*h)),p=xr(this.R+2*h),b=Ia(document,new ut(u,p));n={Gt:e,u_:Math.round(Math.max(1,l)),Ht:Math.ceil(u*o),Yt:Math.ceil(p*o),a_:b},l!==0&&(this.th.push(n.Gt),this.h_.set(n.Gt,n)),ee(t=$t(n.a_),o,function(){t.font=s.Yh,t.fillStyle=s.s_,t.fillText(e,0,p-h-a)})}return n},i}(),Dh=function(){function i(t,e,n,s){var r=this;this._i=null,this.o_=null,this.l_=!1,this.f_=new gi(50),this.c_=new kh(11,"#000"),this.s_=null,this.Yh=null,this.v_=0,this.__=!1,this.d_=function(){r.w_(r.cf.W()),r.__||r.Di.M_().jt().Wr()},this.b_=function(){r.__||r.Di.M_().jt().Wr()},this.Di=t,this.zi=e,this.cf=n,this.m_=s==="left",this.p_=document.createElement("div"),this.p_.style.height="100%",this.p_.style.overflow="hidden",this.p_.style.width="25px",this.p_.style.left="0",this.p_.style.position="relative",this.g_=Ee(this.p_,new ut(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var o=this.g_.canvas;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.y_=Ee(this.p_,new ut(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var h=this.y_.canvas;h.style.position="absolute",h.style.zIndex="2",h.style.left="0",h.style.top="0";var a={Tv:this.k_.bind(this),Cv:this.k_.bind(this),bv:this.N_.bind(this),wv:this.N_.bind(this),Dv:this.x_.bind(this),yv:this.C_.bind(this),pv:this.C_.bind(this),nv:this.S_.bind(this),Gc:this.S_.bind(this),ov:this.T_.bind(this),Wv:this.D_.bind(this)};this.A_=new Vr(this.y_.canvas,a,{_v:function(){return!1},dv:function(){return!0}})}return i.prototype.g=function(){this.A_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),this._i!==null&&this._i._a().M(this),this._i=null,this.c_.g()},i.prototype.B_=function(){return this.p_},i.prototype.ht=function(){return k(this._i).W().borderColor},i.prototype.L_=function(){return this.zi.textColor},i.prototype.S=function(){return this.zi.fontSize},i.prototype.E_=function(){return Ce(this.S(),this.zi.fontFamily)},i.prototype.F_=function(){var t=this.cf.W(),e=this.s_!==t.A,n=this.Yh!==t.T;return(e||n)&&(this.w_(t),this.s_=t.A),n&&(this.f_.ih(),this.Yh=t.T),t},i.prototype.O_=function(){if(this._i===null)return 0;var t=0,e=this.F_(),n=$t(this.g_.canvas),s=this._i.au();n.font=this.E_(),s.length>0&&(t=Math.max(this.f_.Qt(n,s[0].yu),this.f_.Qt(n,s[s.length-1].yu)));for(var r=this.V_(),o=r.length;o--;){var h=this.f_.Qt(n,r[o].Gt());h>t&&(t=h)}var a=this._i.kt();if(a!==null&&this.o_!==null){var l=this._i.qi(1,a),u=this._i.qi(this.o_.Ot-2,a);t=Math.max(t,this.f_.Qt(n,this._i.Mi(Math.floor(Math.min(l,u))+.11111111111111,a)),this.f_.Qt(n,this._i.Mi(Math.ceil(Math.max(l,u))-.11111111111111,a)))}var p=t||34,b=Math.ceil(e.N+e.C+e.L+e.F+p);return b+=b%2},i.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));this.o_!==null&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.p_.style.minWidth=t.Ft+"px")},i.prototype.W_=function(){return k(this.o_).Ft},i.prototype.Si=function(t){this._i!==t&&(this._i!==null&&this._i._a().M(this),this._i=t,t._a().u(this.Eu.bind(this),this))},i.prototype.Ct=function(){return this._i},i.prototype.ih=function(){var t=this.Di.z_();this.Di.M_().jt().no(t,k(this.Ct()))},i.prototype.R_=function(t){if(this.o_!==null){if(t!==1){var e=$t(this.g_.canvas);this.I_(),this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio),this.q_(e,this.g_.pixelRatio),this.U_(e,this.g_.pixelRatio)}var n=$t(this.y_.canvas),s=this.o_.Ft,r=this.o_.Ot;ee(n,this.y_.pixelRatio,function(){n.clearRect(0,0,s,r)}),this.H_(n,this.y_.pixelRatio)}},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.vt=function(){var t;(t=this._i)===null||t===void 0||t.au()},i.prototype.k_=function(t){if(this._i!==null&&!this._i.wi()&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_();this.l_=!0,e.Ka(n,this._i,t.$v)}},i.prototype.N_=function(t){if(this._i!==null&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_(),s=this._i;e.Xa(n,s,t.$v)}},i.prototype.x_=function(){if(this._i!==null&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var t=this.Di.M_().jt(),e=this.Di.z_(),n=this._i;this.l_&&(this.l_=!1,t.Za(e,n))}},i.prototype.C_=function(t){if(this._i!==null&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var e=this.Di.M_().jt(),n=this.Di.z_();this.l_=!1,e.Za(n,this._i)}},i.prototype.S_=function(t){this.Di.M_().W().handleScale.axisDoubleClickReset&&this.ih()},i.prototype.T_=function(t){this._i!==null&&(!this.Di.M_().jt().W().handleScale.axisPressedMouseMove.price||this._i.vr()||this._i.Zu()||this.K_(1))},i.prototype.D_=function(t){this.K_(0)},i.prototype.V_=function(){var t=this,e=[],n=this._i===null?void 0:this._i;return function(s){for(var r=0;r<s.length;++r)for(var o=s[r].nn(t.Di.z_(),n),h=0;h<o.length;h++)e.push(o[h])}(this.Di.z_().oa()),e},i.prototype.j_=function(t,e){var n=this;if(this.o_!==null){var s=this.o_.Ft,r=this.o_.Ot;ee(t,e,function(){var o=n.Di.z_().jt(),h=o.Zf(),a=o.Xf();h===a?Xs(t,0,0,s,r,h):Pa(t,0,0,s,r,h,a)})}},i.prototype.Rs=function(t,e){if(this.o_!==null&&this._i!==null&&this._i.W().borderVisible){t.save(),t.fillStyle=this.ht();var n,s=Math.max(1,Math.floor(this.F_().N*e));n=this.m_?Math.floor(this.o_.Ft*e)-s:0,t.fillRect(n,0,s,Math.ceil(this.o_.Ot*e)),t.restore()}},i.prototype.q_=function(t,e){if(this.o_!==null&&this._i!==null){var n=this._i.au();t.save(),t.strokeStyle=this.ht(),t.font=this.E_(),t.fillStyle=this.ht();var s=this.F_(),r=this._i.W().borderVisible&&this._i.W().drawTicks,o=this.m_?Math.floor((this.o_.Ft-s.C)*e-s.N*e):Math.floor(s.N*e),h=this.m_?Math.round(o-s.L*e):Math.round(o+s.C*e+s.L*e),a=this.m_?"right":"left",l=Math.max(1,Math.floor(e)),u=Math.floor(.5*e);if(r){var p=Math.round(s.C*e);t.beginPath();for(var b=0,y=n;b<y.length;b++){var v=y[b];t.rect(o,Math.round(v.su*e)-u,p,l)}t.fill()}t.fillStyle=this.L_();for(var d=0,S=n;d<S.length;d++)v=S[d],this.c_.r_(t,v.yu,h,Math.round(v.su*e),a);t.restore()}},i.prototype.I_=function(){if(this.o_!==null&&this._i!==null){var t=this.o_.Ot/2,e=[],n=this._i.oa().slice(),s=this.Di.z_(),r=this.F_();this._i===s.fh()&&this.Di.z_().oa().forEach(function(S){s.lh(S)&&n.push(S)});var o=this._i.Ge()[0],h=this._i;n.forEach(function(S){var _=S.nn(s,h);_.forEach(function(C){C.oi(null),C.li()&&e.push(C)}),o===S&&_.length>0&&(t=_[0].ti())});var a=e.filter(function(S){return S.ti()<=t}),l=e.filter(function(S){return S.ti()>t});if(a.sort(function(S,_){return _.ti()-S.ti()}),a.length&&l.length&&l.push(a[0]),l.sort(function(S,_){return S.ti()-_.ti()}),e.forEach(function(S){return S.oi(S.ti())}),this._i.W().alignLabels){for(var u=1;u<a.length;u++){var p=a[u],b=(v=a[u-1]).Yt(r,!1);p.ti()>(d=v.ai())-b&&p.oi(d-b)}for(var y=1;y<l.length;y++){var v,d;p=l[y],b=(v=l[y-1]).Yt(r,!0),p.ti()<(d=v.ai())+b&&p.oi(d+b)}}}},i.prototype.U_=function(t,e){var n=this;if(this.o_!==null){t.save();var s=this.o_,r=this.V_(),o=this.F_(),h=this.m_?"right":"left";r.forEach(function(a){if(a.fi()){var l=a.dt(k(n._i));t.save(),l.H(t,o,n.f_,s.Ft,h,e),t.restore()}}),t.restore()}},i.prototype.H_=function(t,e){var n=this;if(this.o_!==null&&this._i!==null){t.save();var s=this.o_,r=this.Di.M_().jt(),o=[],h=this.Di.z_(),a=r.Tf().nn(h,this._i);a.length&&o.push(a);var l=this.F_(),u=this.m_?"right":"left";o.forEach(function(p){p.forEach(function(b){t.save(),b.dt(k(n._i)).H(t,l,n.f_,s.Ft,u,e),t.restore()})}),t.restore()}},i.prototype.K_=function(t){this.p_.style.cursor=t===1?"ns-resize":"default"},i.prototype.Eu=function(){var t=this.O_();this.v_<t&&this.Di.M_().jt().Ce(),this.v_=t},i.prototype.w_=function(t){this.c_.g(),this.c_=new kh(t.S,t.A,t.D)},i}();function Mh(i,t,e,n,s){i.$&&i.$(t,e,n,s)}function vr(i,t,e,n,s){i.H(t,e,n,s)}function ws(i,t){return i.tn(t)}function Hc(i,t){return i.Pe!==void 0?i.Pe(t):[]}var Yc=function(){function i(t,e){var n=this;this.o_=new ut(0,0),this.X_=null,this.Z_=null,this.J_=null,this.G_=!1,this.Q_=new ct,this.td=0,this.nd=!1,this.sd=null,this.hd=!1,this.rd=null,this.ed=null,this.__=!1,this.d_=function(){n.__||n.ud===null||n.pi().Wr()},this.b_=function(){n.__||n.ud===null||n.pi().Wr()},this.ad=t,this.ud=e,this.ud.ro().u(this.od.bind(this),this,!0),this.ld=document.createElement("td"),this.ld.style.padding="0",this.ld.style.position="relative";var s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.fd=document.createElement("td"),this.fd.style.padding="0",this.vd=document.createElement("td"),this.vd.style.padding="0",this.ld.appendChild(s),this.g_=Ee(s,new ut(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var r=this.g_.canvas;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.y_=Ee(s,new ut(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var o=this.y_.canvas;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this._d=document.createElement("tr"),this._d.appendChild(this.fd),this._d.appendChild(this.ld),this._d.appendChild(this.vd),this.dd(),this.A_=new Vr(this.y_.canvas,this,{_v:function(){return n.sd===null&&!n.ad.W().handleScroll.vertTouchDrag},dv:function(){return n.sd===null&&!n.ad.W().handleScroll.horzTouchDrag}})}return i.prototype.g=function(){this.X_!==null&&this.X_.g(),this.Z_!==null&&this.Z_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),this.ud!==null&&this.ud.ro().M(this),this.A_.g()},i.prototype.z_=function(){return k(this.ud)},i.prototype.wd=function(t){this.ud!==null&&this.ud.ro().M(this),this.ud=t,this.ud!==null&&this.ud.ro().u(i.prototype.od.bind(this),this,!0),this.dd()},i.prototype.M_=function(){return this.ad},i.prototype.B_=function(){return this._d},i.prototype.dd=function(){if(this.ud!==null&&(this.Md(),this.pi()._t().length!==0)){if(this.X_!==null){var t=this.ud.Ya();this.X_.Si(k(t))}if(this.Z_!==null){var e=this.ud.$a();this.Z_.Si(k(e))}}},i.prototype.bd=function(){this.X_!==null&&this.X_.vt(),this.Z_!==null&&this.Z_.vt()},i.prototype.Wa=function(){return this.ud!==null?this.ud.Wa():0},i.prototype.za=function(t){this.ud&&this.ud.za(t)},i.prototype.ov=function(t){if(this.ud){this.md();var e=t.Yv,n=t.$v;this.pd(e,n)}},i.prototype.Tv=function(t){this.md(),this.gd(),this.pd(t.Yv,t.$v)},i.prototype.lv=function(t){if(this.ud){this.md();var e=t.Yv,n=t.$v;this.pd(e,n);var s=this.$h(e,n);this.pi().yf(s&&{kf:s.kf,yd:s.yd})}},i.prototype.kv=function(t){if(this.ud!==null){this.md();var e=t.Yv,n=t.$v;if(this.Q_.p()){var s=this.pi().Tf().Mt();this.Q_.m(s,{x:e,y:n})}}},i.prototype.bv=function(t){this.md(),this.kd(t),this.pd(t.Yv,t.$v)},i.prototype.yv=function(t){this.ud!==null&&(this.md(),this.nd=!1,this.Nd(t))},i.prototype.zv=function(t){if(this.nd=!0,this.sd===null){var e={x:t.Yv,y:t.$v};this.xd(e,e)}},i.prototype.Wv=function(t){this.ud!==null&&(this.md(),this.ud.jt().yf(null),this.Cd())},i.prototype.Sd=function(){return this.Q_},i.prototype.Lv=function(){this.td=1,this.Td()},i.prototype.Ev=function(t,e){if(this.ad.W().handleScale.pinch){var n=5*(e-this.td);this.td=e,this.pi().Ef(t.tt,n)}},i.prototype.Cv=function(t){if(this.nd=!1,this.hd=this.sd!==null,this.gd(),this.sd!==null){var e=this.pi().Tf();this.rd={x:e.$t(),y:e.Kt()},this.sd={x:t.Yv,y:t.$v}}},i.prototype.wv=function(t){if(this.ud!==null){var e=t.Yv,n=t.$v;if(this.sd===null)this.kd(t);else{this.hd=!1;var s=k(this.rd),r=s.x+(e-this.sd.x),o=s.y+(n-this.sd.y);this.pd(r,o)}}},i.prototype.pv=function(t){this.M_().W().trackingMode.exitMode===0&&(this.hd=!0),this.Dd(),this.Nd(t)},i.prototype.$h=function(t,e){var n=this.ud;if(n===null)return null;for(var s=0,r=n.oa();s<r.length;s++){var o=r[s],h=this.Ad(o.tn(n),t,e);if(h!==null)return{kf:o,i_:h.i_,yd:h.yd}}return null},i.prototype.Bd=function(t,e){k(e==="left"?this.X_:this.Z_).P_(new ut(t,this.o_.Ot))},i.prototype.Ld=function(){return this.o_},i.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.ld.style.width=t.Ft+"px",this.ld.style.height=t.Ot+"px")},i.prototype.Ed=function(){var t=k(this.ud);t.Ha(t.Ya()),t.Ha(t.$a());for(var e=0,n=t.Ge();e<n.length;e++){var s=n[e];if(t.lh(s)){var r=s.Ct();r!==null&&t.Ha(r),s.hn()}}},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.R_=function(t){if(t!==0&&this.ud!==null){if(t>1&&this.Ed(),this.X_!==null&&this.X_.R_(t),this.Z_!==null&&this.Z_.R_(t),t!==1){var e=$t(this.g_.canvas);e.save(),this.j_(e,this.g_.pixelRatio),this.ud&&(this.Fd(e,this.g_.pixelRatio),this.Od(e,this.g_.pixelRatio),this.Vd(e,this.g_.pixelRatio,ws)),e.restore()}var n=$t(this.y_.canvas);n.clearRect(0,0,Math.ceil(this.o_.Ft*this.y_.pixelRatio),Math.ceil(this.o_.Ot*this.y_.pixelRatio)),this.Vd(n,this.g_.pixelRatio,Hc),this.Pd(n,this.y_.pixelRatio)}},i.prototype.Wd=function(){return this.X_},i.prototype.zd=function(){return this.Z_},i.prototype.od=function(){this.ud!==null&&this.ud.ro().M(this),this.ud=null},i.prototype.j_=function(t,e){var n=this;ee(t,e,function(){var s=n.pi(),r=s.Zf(),o=s.Xf();r===o?Xs(t,0,0,n.o_.Ft,n.o_.Ot,o):Pa(t,0,0,n.o_.Ft,n.o_.Ot,r,o)})},i.prototype.Fd=function(t,e){var n=k(this.ud),s=n.eo().ou().dt(n.Yt(),n.Ht());s!==null&&(t.save(),s.H(t,e,!1),t.restore())},i.prototype.Od=function(t,e){var n=this.pi().Sf();this.Rd(t,e,ws,Mh,n),this.Rd(t,e,ws,vr,n)},i.prototype.Pd=function(t,e){this.Rd(t,e,ws,vr,this.pi().Tf())},i.prototype.Vd=function(t,e,n){for(var s=k(this.ud).oa(),r=0,o=s;r<o.length;r++){var h=o[r];this.Rd(t,e,n,Mh,h)}for(var a=0,l=s;a<l.length;a++)h=l[a],this.Rd(t,e,n,vr,h)},i.prototype.Rd=function(t,e,n,s,r){for(var o=k(this.ud),h=n(r,o),a=o.Yt(),l=o.Ht(),u=o.jt().gf(),p=u!==null&&u.kf===r,b=u!==null&&p&&u.yd!==void 0?u.yd.Kh:void 0,y=0,v=h;y<v.length;y++){var d=v[y].dt(a,l);d!==null&&(t.save(),s(d,t,e,p,b),t.restore())}},i.prototype.Ad=function(t,e,n){for(var s=0,r=t;s<r.length;s++){var o=r[s],h=o.dt(this.o_.Ot,this.o_.Ft);if(h!==null&&h.$h){var a=h.$h(e,n);if(a!==null)return{i_:o,yd:a}}}return null},i.prototype.Md=function(){if(this.ud!==null){var t=this.ad,e=this.ud.Ya().W().visible,n=this.ud.$a().W().visible;e||this.X_===null||(this.fd.removeChild(this.X_.B_()),this.X_.g(),this.X_=null),n||this.Z_===null||(this.vd.removeChild(this.Z_.B_()),this.Z_.g(),this.Z_=null);var s=t.jt().qf();e&&this.X_===null&&(this.X_=new Dh(this,t.W().layout,s,"left"),this.fd.appendChild(this.X_.B_())),n&&this.Z_===null&&(this.Z_=new Dh(this,t.W().layout,s,"right"),this.vd.appendChild(this.Z_.B_()))}},i.prototype.Id=function(t){return t.Gv&&this.nd||this.sd!==null},i.prototype.jd=function(t){return Math.max(0,Math.min(t,this.o_.Ft-1))},i.prototype.qd=function(t){return Math.max(0,Math.min(t,this.o_.Ot-1))},i.prototype.pd=function(t,e){this.pi().Rf(this.jd(t),this.qd(e),k(this.ud))},i.prototype.Cd=function(){this.pi().If()},i.prototype.Dd=function(){this.hd&&(this.sd=null,this.Cd())},i.prototype.xd=function(t,e){this.sd=t,this.hd=!1,this.pd(e.x,e.y);var n=this.pi().Tf();this.rd={x:n.$t(),y:n.Kt()}},i.prototype.pi=function(){return this.ad.jt()},i.prototype.Ud=function(){var t=this.pi(),e=this.z_(),n=e.ji();t.Qa(e,n),t.Pf(),this.J_=null,this.G_=!1},i.prototype.Nd=function(t){var e=this;if(this.G_){var n=performance.now();if(this.ed!==null&&this.ed.xh(t.Yv,n),this.ed===null||this.ed.cc(n))this.Ud();else{var s=this.pi(),r=s.bt(),o=this.ed,h=function(){if(!o._c()){var a=performance.now(),l=o.cc(a);if(!o._c()){var u=r.Nl();s.Vf(o.fc(a)),u===r.Nl()&&(l=!0,e.ed=null)}l?e.Ud():requestAnimationFrame(h)}};requestAnimationFrame(h)}}},i.prototype.md=function(){this.sd=null},i.prototype.gd=function(){if(this.ud){if(this.Td(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)k(document.activeElement).blur();else{var t=document.getSelection();t!==null&&t.removeAllRanges()}!this.ud.ji().wi()&&this.pi().bt().wi()}},i.prototype.kd=function(t){if(this.ud!==null){var e=this.pi();if(!e.bt().wi()){var n=this.ad.W(),s=n.handleScroll,r=n.kineticScroll;if(s.pressedMouseMove&&!t.Gv||(s.horzTouchDrag||s.vertTouchDrag)&&t.Gv){var o=this.ud.ji(),h=performance.now();this.J_!==null||this.Id(t)||(this.J_={x:t.Rv,y:t.Iv,So:h,Yv:t.Yv,$v:t.$v}),this.ed!==null&&this.ed.lc(t.Yv,h),this.J_===null||this.G_||this.J_.x===t.Rv&&this.J_.y===t.Iv||(this.ed===null&&(t.Gv&&r.touch||!t.Gv&&r.mouse)&&(this.ed=new Gc(.2,7,.997,15),this.ed.lc(this.J_.Yv,this.J_.So),this.ed.lc(t.Yv,h)),o.wi()||e.Ja(this.ud,o,t.$v),e.Of(t.Yv),this.G_=!0),this.G_&&(o.wi()||e.Ga(this.ud,o,t.$v),e.Vf(t.Yv))}}}},i.prototype.Td=function(){var t=performance.now(),e=this.ed===null||this.ed.cc(t);this.ed!==null&&(e||this.Ud()),this.ed!==null&&(this.ed.dc(),this.ed=null)},i}(),xh=function(){function i(t,e,n,s,r){var o=this;this.ft=!0,this.o_=new ut(0,0),this.d_=function(){return o.R_(3)},this.m_=t==="left",this.cf=n.qf,this.zi=e,this.Hd=s,this.Yd=r,this.p_=document.createElement("div"),this.p_.style.width="25px",this.p_.style.height="100%",this.p_.style.overflow="hidden",this.g_=Ee(this.p_,new ut(16,16)),this.g_.subscribeCanvasConfigured(this.d_)}return i.prototype.g=function(){this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},i.prototype.B_=function(){return this.p_},i.prototype.Ld=function(){return this.o_},i.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_.style.width="".concat(t.Ft,"px"),this.p_.style.minWidth="".concat(t.Ft,"px"),this.p_.style.height="".concat(t.Ot,"px"),this.ft=!0)},i.prototype.R_=function(t){if((!(t<3)||this.ft)&&this.o_.Ft!==0&&this.o_.Ot!==0){this.ft=!1;var e=$t(this.g_.canvas);this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio)}},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.Rs=function(t,e){if(this.Hd()){var n=this.o_.Ft;t.save(),t.fillStyle=this.zi.timeScale.borderColor;var s=Math.floor(this.cf.W().N*e),r=this.m_?Math.round(n*e)-s:0;t.fillRect(r,0,s,s),t.restore()}},i.prototype.j_=function(t,e){var n=this;ee(t,e,function(){Xs(t,0,0,n.o_.Ft,n.o_.Ot,n.Yd())})},i}();function Zc(i,t){return i.Po>t.Po?i:t}var qc=function(){function i(t){var e=this;this.$d=null,this.Kd=null,this.k=null,this.Xd=!1,this.o_=new ut(0,0),this.Zd=new ct,this.f_=new gi(5),this.__=!1,this.d_=function(){e.__||e.ad.jt().Wr()},this.b_=function(){e.__||e.ad.jt().Wr()},this.ad=t,this.zi=t.W().layout,this.Jd=document.createElement("tr"),this.Gd=document.createElement("td"),this.Gd.style.padding="0",this.Qd=document.createElement("td"),this.Qd.style.padding="0",this.p_=document.createElement("td"),this.p_.style.height="25px",this.p_.style.padding="0",this.tw=document.createElement("div"),this.tw.style.width="100%",this.tw.style.height="100%",this.tw.style.position="relative",this.tw.style.overflow="hidden",this.p_.appendChild(this.tw),this.g_=Ee(this.tw,new ut(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var n=this.g_.canvas;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.y_=Ee(this.tw,new ut(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var s=this.y_.canvas;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Jd.appendChild(this.Gd),this.Jd.appendChild(this.p_),this.Jd.appendChild(this.Qd),this.iw(),this.ad.jt().Pa().u(this.iw.bind(this),this),this.A_=new Vr(this.y_.canvas,this,{_v:function(){return!0},dv:function(){return!1}})}return i.prototype.g=function(){this.A_.g(),this.$d!==null&&this.$d.g(),this.Kd!==null&&this.Kd.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},i.prototype.B_=function(){return this.Jd},i.prototype.nw=function(){return this.$d},i.prototype.sw=function(){return this.Kd},i.prototype.Tv=function(t){if(!this.Xd){this.Xd=!0;var e=this.ad.jt();!e.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Lf(t.Yv)}},i.prototype.Cv=function(t){this.Tv(t)},i.prototype.Dv=function(){var t=this.ad.jt();!t.bt().wi()&&this.Xd&&(this.Xd=!1,this.ad.W().handleScale.axisPressedMouseMove.time&&t.zf())},i.prototype.bv=function(t){var e=this.ad.jt();!e.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&e.Wf(t.Yv)},i.prototype.wv=function(t){this.bv(t)},i.prototype.yv=function(){this.Xd=!1;var t=this.ad.jt();t.bt().wi()&&!this.ad.W().handleScale.axisPressedMouseMove.time||t.zf()},i.prototype.pv=function(){this.yv()},i.prototype.nv=function(){this.ad.W().handleScale.axisDoubleClickReset&&this.ad.jt().pn()},i.prototype.Gc=function(){this.nv()},i.prototype.ov=function(){this.ad.jt().W().handleScale.axisPressedMouseMove.time&&this.K_(1)},i.prototype.Wv=function(){this.K_(0)},i.prototype.Ld=function(){return this.o_},i.prototype.hw=function(){return this.Zd},i.prototype.rw=function(t,e,n){this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.Zd.m(t)),this.$d!==null&&this.$d.P_(new ut(e,t.Ot)),this.Kd!==null&&this.Kd.P_(new ut(n,t.Ot))},i.prototype.ew=function(){var t=this.uw();return Math.ceil(t.N+t.C+t.S+t.O+t.B)},i.prototype.vt=function(){this.ad.jt().bt().au()},i.prototype.Y_=function(){return this.g_.canvas},i.prototype.R_=function(t){if(t!==0){if(t!==1){var e=$t(this.g_.canvas);this.j_(e,this.g_.pixelRatio),this.Rs(e,this.g_.pixelRatio),this.q_(e,this.g_.pixelRatio),this.$d!==null&&this.$d.R_(t),this.Kd!==null&&this.Kd.R_(t)}var n=$t(this.y_.canvas),s=this.y_.pixelRatio;n.clearRect(0,0,Math.ceil(this.o_.Ft*s),Math.ceil(this.o_.Ot*s)),this.aw([this.ad.jt().Tf()],n,s)}},i.prototype.j_=function(t,e){var n=this;ee(t,e,function(){Xs(t,0,0,n.o_.Ft,n.o_.Ot,n.ad.jt().Xf())})},i.prototype.Rs=function(t,e){if(this.ad.W().timeScale.borderVisible){t.save(),t.fillStyle=this.ow();var n=Math.max(1,Math.floor(this.uw().N*e));t.fillRect(0,0,Math.ceil(this.o_.Ft*e),n),t.restore()}},i.prototype.q_=function(t,e){var n=this,s=this.ad.jt().bt().au();if(s&&s.length!==0){var r=s.reduce(Zc,s[0]).Po;r>30&&r<50&&(r=30),t.save(),t.strokeStyle=this.ow();var o=this.uw(),h=o.N+o.C+o.O+o.S-o.V;t.textAlign="center",t.fillStyle=this.ow();var a=Math.floor(this.uw().N*e),l=Math.max(1,Math.floor(e)),u=Math.floor(.5*e);if(this.ad.jt().bt().W().borderVisible){t.beginPath();for(var p=Math.round(o.C*e),b=s.length;b--;){var y=Math.round(s[b].su*e);t.rect(y-u,a,l,p)}t.fill()}t.fillStyle=this.j(),ee(t,e,function(){t.font=n.lw();for(var v=0,d=s;v<d.length;v++)if((x=d[v]).Po<r){var S=x.Sl?n.fw(t,x.su,x.yu):x.su;t.fillText(x.yu,S,h)}t.font=n.cw();for(var _=0,C=s;_<C.length;_++){var x;(x=C[_]).Po>=r&&(S=x.Sl?n.fw(t,x.su,x.yu):x.su,t.fillText(x.yu,S,h))}}),t.restore()}},i.prototype.fw=function(t,e,n){var s=this.f_.Qt(t,n),r=s/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+s>this.o_.Ft&&(e-=Math.abs(this.o_.Ft-(o+s))),e},i.prototype.aw=function(t,e,n){for(var s=this.uw(),r=0,o=t;r<o.length;r++)for(var h=0,a=o[r].Ti();h<a.length;h++){var l=a[h];e.save(),l.dt().H(e,s,n),e.restore()}},i.prototype.ow=function(){return this.ad.W().timeScale.borderColor},i.prototype.j=function(){return this.zi.textColor},i.prototype.R=function(){return this.zi.fontSize},i.prototype.lw=function(){return Ce(this.R(),this.zi.fontFamily)},i.prototype.cw=function(){return Ce(this.R(),this.zi.fontFamily,"bold")},i.prototype.uw=function(){this.k===null&&(this.k={N:1,V:NaN,O:NaN,B:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new gi});var t=this.k,e=this.lw();if(t.T!==e){var n=this.R();t.S=n,t.T=e,t.O=Math.ceil(n/2.5),t.B=t.O,t.mi=Math.ceil(n/2),t.V=Math.round(this.R()/5),t.bi.ih()}return this.k},i.prototype.K_=function(t){this.p_.style.cursor=t===1?"ew-resize":"default"},i.prototype.iw=function(){var t=this.ad.jt(),e=t.W();e.leftPriceScale.visible||this.$d===null||(this.Gd.removeChild(this.$d.B_()),this.$d.g(),this.$d=null),e.rightPriceScale.visible||this.Kd===null||(this.Qd.removeChild(this.Kd.B_()),this.Kd.g(),this.Kd=null);var n={qf:this.ad.jt().qf()},s=function(){return e.leftPriceScale.borderVisible&&t.bt().W().borderVisible},r=function(){return t.Xf()};e.leftPriceScale.visible&&this.$d===null&&(this.$d=new xh("left",e,n,s,r),this.Gd.appendChild(this.$d.B_())),e.rightPriceScale.visible&&this.Kd===null&&(this.Kd=new xh("right",e,n,s,r),this.Qd.appendChild(this.Kd.B_()))},i}(),Qc=function(){function i(t,e){var n;this._w=[],this.dw=0,this.xu=0,this.hh=0,this.ww=0,this.Mw=0,this.bw=null,this.mw=!1,this.Q_=new ct,this.af=new ct,this.zi=e,this.Jd=document.createElement("div"),this.Jd.classList.add("tv-lightweight-charts"),this.Jd.style.overflow="hidden",this.Jd.style.width="100%",this.Jd.style.height="100%",(n=this.Jd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.pw=document.createElement("table"),this.pw.setAttribute("cellspacing","0"),this.Jd.appendChild(this.pw),this.gw=this.yw.bind(this),this.Jd.addEventListener("wheel",this.gw,{passive:!1}),this.pi=new Jc(this.ff.bind(this),this.zi),this.jt().Df().u(this.kw.bind(this),this),this.Nw=new qc(this),this.pw.appendChild(this.Nw.B_());var s=this.zi.width,r=this.zi.height;if(s===0||r===0){var o=t.getBoundingClientRect();s===0&&(s=Math.floor(o.width),s-=s%2),r===0&&(r=Math.floor(o.height),r-=r%2)}this.xw(s,r),this.Cw(),t.appendChild(this.Jd),this.Sw(),this.pi.bt().Pl().u(this.pi.Ce.bind(this.pi),this),this.pi.Pa().u(this.pi.Ce.bind(this.pi),this)}return i.prototype.jt=function(){return this.pi},i.prototype.W=function(){return this.zi},i.prototype.Tw=function(){return this._w},i.prototype.Dw=function(){return this.Nw},i.prototype.g=function(){this.Jd.removeEventListener("wheel",this.gw),this.dw!==0&&window.cancelAnimationFrame(this.dw),this.pi.Df().M(this),this.pi.bt().Pl().M(this),this.pi.Pa().M(this),this.pi.g();for(var t=0,e=this._w;t<e.length;t++){var n=e[t];this.pw.removeChild(n.B_()),n.Sd().M(this),n.g()}this._w=[],k(this.Nw).g(),this.Jd.parentElement!==null&&this.Jd.parentElement.removeChild(this.Jd),this.af.g(),this.Q_.g()},i.prototype.xw=function(t,e,n){if(n===void 0&&(n=!1),this.xu!==e||this.hh!==t){this.xu=e,this.hh=t;var s=e+"px",r=t+"px";k(this.Jd).style.height=s,k(this.Jd).style.width=r,this.pw.style.height=s,this.pw.style.width=r,n?this.Aw(new Ut(3)):this.pi.Ce()}},i.prototype.R_=function(t){t===void 0&&(t=new Ut(3));for(var e=0;e<this._w.length;e++)this._w[e].R_(t.wn(e).vn);this.zi.timeScale.visible&&this.Nw.R_(t.dn())},i.prototype.Pr=function(t){this.pi.Pr(t),this.Sw();var e=t.width||this.hh,n=t.height||this.xu;this.xw(e,n)},i.prototype.Sd=function(){return this.Q_},i.prototype.Df=function(){return this.af},i.prototype.Bw=function(){var t=this;this.bw!==null&&(this.Aw(this.bw),this.bw=null);var e=this._w[0],n=Ia(document,new ut(this.hh,this.xu)),s=$t(n),r=Ls(n);return ee(s,r,function(){var o=0,h=0,a=function(d){for(var S=0;S<t._w.length;S++){var _=t._w[S],C=_.Ld().Ot,x=k(d==="left"?_.Wd():_.zd()),N=x.Y_();s.drawImage(N,o,h,x.W_(),C),h+=C}};t.Lw()&&(a("left"),o=k(e.Wd()).W_()),h=0;for(var l=0;l<t._w.length;l++){var u=t._w[l],p=u.Ld(),b=u.Y_();s.drawImage(b,o,h,p.Ft,p.Ot),h+=p.Ot}o+=e.Ld().Ft,t.Ew()&&(h=0,a("right"));var y=function(d){var S=k(d==="left"?t.Nw.nw():t.Nw.sw()),_=S.Ld(),C=S.Y_();s.drawImage(C,o,h,_.Ft,_.Ot)};if(t.zi.timeScale.visible){o=0,t.Lw()&&(y("left"),o=k(e.Wd()).W_());var v=t.Nw.Ld();b=t.Nw.Y_(),s.drawImage(b,o,h,v.Ft,v.Ot),t.Ew()&&(o+=e.Ld().Ft,y("right"),s.restore())}}),n},i.prototype.Fw=function(t){return t==="none"?0:(t!=="left"||this.Lw())&&(t!=="right"||this.Ew())?this._w.length===0?0:k(t==="left"?this._w[0].Wd():this._w[0].zd()).W_():0},i.prototype.Ow=function(){for(var t=0,e=0,n=0,s=0,r=this._w;s<r.length;s++){var o=r[s];this.Lw()&&(e=Math.max(e,k(o.Wd()).O_())),this.Ew()&&(n=Math.max(n,k(o.zd()).O_())),t+=o.Wa()}var h=this.hh,a=this.xu,l=Math.max(h-e-n,0),u=this.zi.timeScale.visible,p=u?this.Nw.ew():0;p%2&&(p+=1);for(var b=0+p,y=a<b?0:a-b,v=y/t,d=0,S=0;S<this._w.length;++S){(o=this._w[S]).wd(this.pi.Cf()[S]);var _,C=0;C=S===this._w.length-1?y-d:Math.round(o.Wa()*v),d+=_=Math.max(C,2),o.P_(new ut(l,_)),this.Lw()&&o.Bd(e,"left"),this.Ew()&&o.Bd(n,"right"),o.z_()&&this.pi.Af(o.z_(),_)}this.Nw.rw(new ut(u?l:0,p),u?e:0,u?n:0),this.pi.Ra(l),this.ww!==e&&(this.ww=e),this.Mw!==n&&(this.Mw=n)},i.prototype.yw=function(t){var e=t.deltaX/100,n=-t.deltaY/100;if(e!==0&&this.zi.handleScroll.mouseWheel||n!==0&&this.zi.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120,n*=120;break;case t.DOM_DELTA_LINE:e*=32,n*=32}if(n!==0&&this.zi.handleScale.mouseWheel){var s=Math.sign(n)*Math.min(1,Math.abs(n)),r=t.clientX-this.Jd.getBoundingClientRect().left;this.jt().Ef(r,s)}e!==0&&this.zi.handleScroll.mouseWheel&&this.jt().Ff(-80*e)}},i.prototype.Aw=function(t){var e,n=t.dn();n===3&&this.Vw(),n!==3&&n!==2||(this.Pw(t),this.Ww(t),this.Nw.vt(),this._w.forEach(function(s){s.bd()}),((e=this.bw)===null||e===void 0?void 0:e.dn())===3&&(this.bw.Nn(t),this.Vw(),this.Pw(this.bw),this.Ww(this.bw),t=this.bw,this.bw=null)),this.R_(t)},i.prototype.Ww=function(t){for(var e=0,n=t.kn();e<n.length;e++){var s=n[e];this.xn(s)}},i.prototype.Pw=function(t){for(var e=this.pi.Cf(),n=0;n<e.length;n++)t.wn(n)._n&&e[n].so()},i.prototype.xn=function(t){var e=this.pi.bt();switch(t.bn){case 0:e.zl();break;case 1:e.Rl(t.St);break;case 2:e.gn(t.St);break;case 3:e.yn(t.St);break;case 4:e.Tl()}},i.prototype.ff=function(t){var e=this;this.bw!==null?this.bw.Nn(t):this.bw=t,this.mw||(this.mw=!0,this.dw=window.requestAnimationFrame(function(){if(e.mw=!1,e.dw=0,e.bw!==null){var n=e.bw;e.bw=null,e.Aw(n)}}))},i.prototype.Vw=function(){this.Cw()},i.prototype.Cw=function(){for(var t=this.pi.Cf(),e=t.length,n=this._w.length,s=e;s<n;s++){var r=Bt(this._w.pop());this.pw.removeChild(r.B_()),r.Sd().M(this),r.g()}for(s=n;s<e;s++)(r=new Yc(this,t[s])).Sd().u(this.zw.bind(this),this),this._w.push(r),this.pw.insertBefore(r.B_(),this.Nw.B_());for(s=0;s<e;s++){var o=t[s];(r=this._w[s]).z_()!==o?r.wd(o):r.dd()}this.Sw(),this.Ow()},i.prototype.Rw=function(t,e){var n,s=new Map;if(t!==null&&this.pi._t().forEach(function(l){var u=l.er(t);u!==null&&s.set(l,u)}),t!==null){var r=this.pi.bt().gi(t);r!==null&&(n=r)}var o=this.jt().gf(),h=o!==null&&o.kf instanceof Ir?o.kf:void 0,a=o!==null&&o.yd!==void 0?o.yd.Zh:void 0;return{rt:n,Iw:e||void 0,jw:h,qw:s,Uw:a}},i.prototype.zw=function(t,e){var n=this;this.Q_.m(function(){return n.Rw(t,e)})},i.prototype.kw=function(t,e){var n=this;this.af.m(function(){return n.Rw(t,e)})},i.prototype.Sw=function(){var t=this.zi.timeScale.visible?"":"none";this.Nw.B_().style.display=t},i.prototype.Lw=function(){return this._w[0].z_().Ya().W().visible},i.prototype.Ew=function(){return this._w[0].z_().$a().W().visible},i}();function Ch(i,t,e){var n=e.value;return{vs:t,rt:i,St:[n,n,n,n]}}function Eh(i,t,e){var n=e.value,s={vs:t,rt:i,St:[n,n,n,n]};return"color"in e&&e.color!==void 0&&(s.A=e.color),s}function _s(i){return i.St!==void 0}function pi(i){return function(t,e,n){return(s=n).open===void 0&&s.value===void 0?{rt:t,vs:e}:i(t,e,n);var s}}var $c={Candlestick:pi(function(i,t,e){var n={vs:t,rt:i,St:[e.open,e.high,e.low,e.close]};return"color"in e&&e.color!==void 0&&(n.A=e.color),"borderColor"in e&&e.borderColor!==void 0&&(n.Tt=e.borderColor),"wickColor"in e&&e.wickColor!==void 0&&(n.qs=e.wickColor),n}),Bar:pi(function(i,t,e){var n={vs:t,rt:i,St:[e.open,e.high,e.low,e.close]};return"color"in e&&e.color!==void 0&&(n.A=e.color),n}),Area:pi(Ch),Baseline:pi(Ch),Histogram:pi(Eh),Line:pi(Eh)};function Ah(i){return $c[i]}function Ts(i){return 60*i*60*1e3}function yr(i){return 60*i*1e3}var Rh,Ps=[{Hw:(Rh=1,1e3*Rh),Po:10},{Hw:yr(1),Po:20},{Hw:yr(5),Po:21},{Hw:yr(30),Po:22},{Hw:Ts(1),Po:30},{Hw:Ts(3),Po:31},{Hw:Ts(6),Po:32},{Hw:Ts(12),Po:33}];function Oh(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(var e=Ps.length-1;e>=0;--e)if(Math.floor(t.getTime()/Ps[e].Hw)!==Math.floor(i.getTime()/Ps[e].Hw))return Ps[e].Po;return 0}function Uh(i,t){if(t===void 0&&(t=0),i.length!==0){for(var e=t===0?null:i[t-1].rt.So,n=e!==null?new Date(1e3*e):null,s=0,r=t;r<i.length;++r){var o=i[r],h=new Date(1e3*o.rt.So);n!==null&&(o.Vo=Oh(h,n)),s+=o.rt.So-(e||o.rt.So),e=o.rt.So,n=h}if(t===0&&i.length>1){var a=Math.ceil(s/(i.length-1)),l=new Date(1e3*(i[0].rt.So-a));i[0].Vo=Oh(new Date(1e3*i[0].rt.So),l)}}}function Cr(i){if(!Kr(i))throw new Error("time must be of type BusinessDay");var t=new Date(Date.UTC(i.year,i.month-1,i.day,0,0,0,0));return{So:Math.round(t.getTime()/1e3),Co:i}}function Ka(i){if(!za(i))throw new Error("time must be of type isUTCTimestamp");return{So:i}}function Lh(i){return i.length===0?null:Kr(i[0].time)?Cr:Ka}function Es(i){return za(i)?Ka(i):Kr(i)?Cr(i):Cr(Va(i))}function Va(i){var t=new Date(i);if(isNaN(t.getTime()))throw new Error("Invalid date string=".concat(i,", expected format=yyyy-mm-dd"));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Nh(i){Or(i.time)&&(i.time=Va(i.time))}function Bh(i){return{vs:0,Yw:new Map,Ve:i}}function Wh(i){if(i!==void 0&&i.length!==0)return{$w:i[0].rt.So,Kw:i[i.length-1].rt.So}}var tp=function(){function i(){this.Xw=new Map,this.Zw=new Map,this.Jw=new Map,this.Gw=[]}return i.prototype.g=function(){this.Xw.clear(),this.Zw.clear(),this.Jw.clear(),this.Gw=[]},i.prototype.Qw=function(t,e){var n=this,s=this.Xw.size!==0,r=!1,o=this.Zw.get(t);if(o!==void 0)if(this.Zw.size===1)s=!1,r=!0,this.Xw.clear();else for(var h=0,a=this.Gw;h<a.length;h++)a[h].pointData.Yw.delete(t)&&(r=!0);var l=[];if(e.length!==0){(function(v){v.forEach(Nh)})(e);var u=k(Lh(e)),p=Ah(t.Rr());l=e.map(function(v){var d=u(v.time),S=n.Xw.get(d.So);S===void 0&&(S=Bh(d),n.Xw.set(d.So,S),r=!0);var _=p(d,S.vs,v);return S.Yw.set(t,_),_})}s&&this.tM(),this.iM(t,l);var b=-1;if(r){var y=[];this.Xw.forEach(function(v){y.push({Vo:0,rt:v.Ve,pointData:v})}),y.sort(function(v,d){return v.rt.So-d.rt.So}),b=this.nM(y)}return this.sM(t,b,function(v,d){var S=Wh(v),_=Wh(d);if(S!==void 0&&_!==void 0)return{Ae:S.Kw>=_.Kw&&S.$w>=_.$w}}(this.Zw.get(t),o))},i.prototype.Yf=function(t){return this.Qw(t,[])},i.prototype.hM=function(t,e){Nh(e);var n=k(Lh([e]))(e.time),s=this.Jw.get(t);if(s!==void 0&&n.So<s.So)throw new Error("Cannot update oldest data, last time=".concat(s.So,", new time=").concat(n.So));var r=this.Xw.get(n.So),o=r===void 0;r===void 0&&(r=Bh(n),this.Xw.set(n.So,r));var h=Ah(t.Rr())(n,r.vs,e);r.Yw.set(t,h),this.rM(t,h);var a={Ae:_s(h)};if(!o)return this.sM(t,-1,a);var l={Vo:0,rt:r.Ve,pointData:r},u=en(this.Gw,l.rt.So,function(b,y){return b.rt.So<y});this.Gw.splice(u,0,l);for(var p=u;p<this.Gw.length;++p)mr(this.Gw[p].pointData,p);return Uh(this.Gw,u),this.sM(t,u,a)},i.prototype.rM=function(t,e){var n=this.Zw.get(t);n===void 0&&(n=[],this.Zw.set(t,n));var s=n.length!==0?n[n.length-1]:null;s===null||e.rt.So>s.rt.So?_s(e)&&n.push(e):_s(e)?n[n.length-1]=e:n.splice(-1,1),this.Jw.set(t,e.rt)},i.prototype.iM=function(t,e){e.length!==0?(this.Zw.set(t,e.filter(_s)),this.Jw.set(t,e[e.length-1].rt)):(this.Zw.delete(t),this.Jw.delete(t))},i.prototype.tM=function(){for(var t=0,e=this.Gw;t<e.length;t++){var n=e[t];n.pointData.Yw.size===0&&this.Xw.delete(n.rt.So)}},i.prototype.nM=function(t){for(var e=-1,n=0;n<this.Gw.length&&n<t.length;++n){var s=this.Gw[n],r=t[n];if(s.rt.So!==r.rt.So){e=n;break}r.Vo=s.Vo,mr(r.pointData,n)}if(e===-1&&this.Gw.length!==t.length&&(e=Math.min(this.Gw.length,t.length)),e===-1)return-1;for(n=e;n<t.length;++n)mr(t[n].pointData,n);return Uh(t,e),this.Gw=t,e},i.prototype.eM=function(){if(this.Zw.size===0)return null;var t=0;return this.Zw.forEach(function(e){e.length!==0&&(t=Math.max(t,e[e.length-1].vs))}),t},i.prototype.sM=function(t,e,n){var s={uM:new Map,bt:{ml:this.eM()}};if(e!==-1)this.Zw.forEach(function(o,h){s.uM.set(h,{ph:o,aM:h===t?n:void 0})}),this.Zw.has(t)||s.uM.set(t,{ph:[],aM:n}),s.bt.oM=this.Gw,s.bt.lM=e;else{var r=this.Zw.get(t);s.uM.set(t,{ph:r||[],aM:n})}return s},i}();function mr(i,t){i.vs=t,i.Yw.forEach(function(e){e.vs=t})}var ep={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},ip=function(){function i(t){this.Lr=t}return i.prototype.applyOptions=function(t){this.Lr.Pr(t)},i.prototype.options=function(){return this.Lr.W()},i.prototype.fM=function(){return this.Lr},i}();function Me(i){var t=i.overlay,e=function(n,s){var r={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(r[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(o=Object.getOwnPropertySymbols(n);h<o.length;h++)s.indexOf(o[h])<0&&Object.prototype.propertyIsEnumerable.call(n,o[h])&&(r[o[h]]=n[o[h]])}return r}(i,["overlay"]);return t&&(e.priceScaleId=""),e}var vi=function(){function i(t,e,n){this.Kn=t,this.cM=e,this.vM=n}return i.prototype.priceFormatter=function(){return this.Kn.qe()},i.prototype.priceToCoordinate=function(t){var e=this.Kn.kt();return e===null?null:this.Kn.Ct().xt(t,e.St)},i.prototype.coordinateToPrice=function(t){var e=this.Kn.kt();return e===null?null:this.Kn.Ct().qi(t,e.St)},i.prototype.barsInLogicalRange=function(t){if(t===null)return null;var e=new Cs(new Zi(t.from,t.to)).jo(),n=this.Kn.an();if(n.wi())return null;var s=n.ne(e.In(),1),r=n.ne(e.jn(),-1),o=k(n.Qr()),h=k(n.un());if(s!==null&&r!==null&&s.vs>r.vs)return{barsBefore:t.from-o,barsAfter:h-t.to};var a={barsBefore:s===null||s.vs===o?t.from-o:s.vs-o,barsAfter:r===null||r.vs===h?h-t.to:h-r.vs};return s!==null&&r!==null&&(a.from=s.rt.Co||s.rt.So,a.to=r.rt.Co||r.rt.So),a},i.prototype.setData=function(t){this.Kn.Rr(),this.cM._M(this.Kn,t)},i.prototype.update=function(t){this.Kn.Rr(),this.cM.dM(this.Kn,t)},i.prototype.setMarkers=function(t){var e=t.map(function(n){return z(z({},n),{time:Es(n.time)})});this.Kn.Le(e)},i.prototype.applyOptions=function(t){var e=Me(t);this.Kn.Pr(e)},i.prototype.options=function(){return Mt(this.Kn.W())},i.prototype.priceScale=function(){return this.vM.priceScale(this.Kn.Ct().Ke())},i.prototype.createPriceLine=function(t){var e=lt(Mt(ep),t),n=this.Kn.Ee(e);return new ip(n)},i.prototype.removePriceLine=function(t){this.Kn.Fe(t.fM())},i.prototype.seriesType=function(){return this.Kn.Rr()},i}(),np=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return X(t,i),t.prototype.applyOptions=function(e){Xa(e),i.prototype.applyOptions.call(this,e)},t}(vi),gr={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},sp={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Ur,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},Xh={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:Ur},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:z({},gr),leftPriceScale:z(z({},gr),{visible:!1}),rightPriceScale:z(z({},gr),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:sp,localization:{locale:Ks?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},rp={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},op={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},hp={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},ap={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},lp={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},up={color:"#26a69a",base:0},fi={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},cp=function(){function i(t,e){this.wM=t,this.MM=e}return i.prototype.applyOptions=function(t){this.wM.jt().Nf(this.MM,t)},i.prototype.options=function(){return this._i().W()},i.prototype.width=function(){return zs(this.MM)?this.wM.Fw(this.MM==="left"?"left":"right"):0},i.prototype._i=function(){return k(this.wM.jt().xf(this.MM)).Ct},i}(),pp=function(){function i(t,e){this.bM=new ct,this.Go=new ct,this.Zd=new ct,this.pi=t,this.Da=t.bt(),this.Nw=e,this.Da.Ol().u(this.mM.bind(this)),this.Da.Vl().u(this.pM.bind(this)),this.Nw.hw().u(this.gM.bind(this))}return i.prototype.g=function(){this.Da.Ol().M(this),this.Da.Vl().M(this),this.Nw.hw().M(this),this.bM.g(),this.Go.g(),this.Zd.g()},i.prototype.scrollPosition=function(){return this.Da.Nl()},i.prototype.scrollToPosition=function(t,e){e?this.Da.Fl(t,1e3):this.pi.yn(t)},i.prototype.scrollToRealTime=function(){this.Da.El()},i.prototype.getVisibleRange=function(){var t,e,n=this.Da.cl();return n===null?null:{from:(t=n.from.Co)!==null&&t!==void 0?t:n.from.So,to:(e=n.to.Co)!==null&&e!==void 0?e:n.to.So}},i.prototype.setVisibleRange=function(t){var e={from:Es(t.from),to:Es(t.to)},n=this.Da.wl(e);this.pi.$f(n)},i.prototype.getVisibleLogicalRange=function(){var t=this.Da.fl();return t===null?null:{from:t.In(),to:t.jn()}},i.prototype.setVisibleLogicalRange=function(t){_i(t.from<=t.to,"The from index cannot be after the to index."),this.pi.$f(t)},i.prototype.resetTimeScale=function(){this.pi.pn()},i.prototype.fitContent=function(){this.pi.zl()},i.prototype.logicalToCoordinate=function(t){var e=this.pi.bt();return e.wi()?null:e.At(t)},i.prototype.coordinateToLogical=function(t){return this.Da.wi()?null:this.Da.pl(t)},i.prototype.timeToCoordinate=function(t){var e=Es(t),n=this.Da.Ze(e,!1);return n===null?null:this.Da.At(n)},i.prototype.coordinateToTime=function(t){var e,n=this.pi.bt(),s=n.pl(t),r=n.gi(s);return r===null?null:(e=r.Co)!==null&&e!==void 0?e:r.So},i.prototype.width=function(){return this.Nw.Ld().Ft},i.prototype.height=function(){return this.Nw.Ld().Ot},i.prototype.subscribeVisibleTimeRangeChange=function(t){this.bM.u(t)},i.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.bM._(t)},i.prototype.subscribeVisibleLogicalRangeChange=function(t){this.Go.u(t)},i.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.Go._(t)},i.prototype.subscribeSizeChange=function(t){this.Zd.u(t)},i.prototype.unsubscribeSizeChange=function(t){this.Zd._(t)},i.prototype.applyOptions=function(t){this.Da.Pr(t)},i.prototype.options=function(){return Mt(this.Da.W())},i.prototype.mM=function(){this.bM.p()&&this.bM.m(this.getVisibleRange())},i.prototype.pM=function(){this.Go.p()&&this.Go.m(this.getVisibleLogicalRange())},i.prototype.gM=function(t){this.Zd.m(t.Ft,t.Ot)},i}();function di(i){if(i!==void 0&&i.type!=="custom"){var t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;for(var n=0;n<8;n++){var s=Math.round(e);if(Math.abs(s-e)<1e-8)return n;e*=10}return n}(t.minMove))}}function zh(i){return function(t){if(ar(t.handleScale)){var e=t.handleScale;t.handleScale={axisDoubleClickReset:e,axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(t.handleScale!==void 0&&ar(t.handleScale.axisPressedMouseMove)){var n=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:n,price:n}}var s=t.handleScroll;ar(s)&&(t.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})}(i),function(t){if(t.priceScale){t.leftPriceScale=t.leftPriceScale||{},t.rightPriceScale=t.rightPriceScale||{};var e=t.priceScale.position;delete t.priceScale.position,t.leftPriceScale=lt(t.leftPriceScale,t.priceScale),t.rightPriceScale=lt(t.rightPriceScale,t.priceScale),e==="left"&&(t.leftPriceScale.visible=!0,t.rightPriceScale.visible=!1),e==="right"&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!0),e==="none"&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!1),t.overlayPriceScales=t.overlayPriceScales||{},t.priceScale.invertScale!==void 0&&(t.overlayPriceScales.invertScale=t.priceScale.invertScale),t.priceScale.scaleMargins!==void 0&&(t.overlayPriceScales.scaleMargins=t.priceScale.scaleMargins)}}(i),function(t){t.layout&&t.layout.backgroundColor&&!t.layout.background&&(t.layout.background={type:"solid",color:t.layout.backgroundColor})}(i),i}var fp=function(){function i(t,e){var n=this;this.yM=new tp,this.kM=new Map,this.NM=new Map,this.xM=new ct,this.CM=new ct;var s=e===void 0?Mt(Xh):lt(Mt(Xh),zh(e));this.wM=new Qc(t,s),this.wM.Sd().u(function(o){n.xM.p()&&n.xM.m(n.SM(o()))},this),this.wM.Df().u(function(o){n.CM.p()&&n.CM.m(n.SM(o()))},this);var r=this.wM.jt();this.TM=new pp(r,this.wM.Dw())}return i.prototype.remove=function(){this.wM.Sd().M(this),this.wM.Df().M(this),this.TM.g(),this.wM.g(),this.kM.clear(),this.NM.clear(),this.xM.g(),this.CM.g(),this.yM.g()},i.prototype.resize=function(t,e,n){this.wM.xw(t,e,n)},i.prototype.addAreaSeries=function(t){t===void 0&&(t={}),di((t=Me(t)).priceFormat);var e=lt(Mt(fi),ap,t),n=this.wM.jt().Uf("Area",e),s=new vi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},i.prototype.addBaselineSeries=function(t){t===void 0&&(t={}),di((t=Me(t)).priceFormat);var e=lt(Mt(fi),Mt(lp),t),n=this.wM.jt().Uf("Baseline",e),s=new vi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},i.prototype.addBarSeries=function(t){t===void 0&&(t={}),di((t=Me(t)).priceFormat);var e=lt(Mt(fi),op,t),n=this.wM.jt().Uf("Bar",e),s=new vi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},i.prototype.addCandlestickSeries=function(t){t===void 0&&(t={}),Xa(t=Me(t)),di(t.priceFormat);var e=lt(Mt(fi),rp,t),n=this.wM.jt().Uf("Candlestick",e),s=new np(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},i.prototype.addHistogramSeries=function(t){t===void 0&&(t={}),di((t=Me(t)).priceFormat);var e=lt(Mt(fi),up,t),n=this.wM.jt().Uf("Histogram",e),s=new vi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},i.prototype.addLineSeries=function(t){t===void 0&&(t={}),di((t=Me(t)).priceFormat);var e=lt(Mt(fi),hp,t),n=this.wM.jt().Uf("Line",e),s=new vi(n,this,this);return this.kM.set(s,n),this.NM.set(n,s),s},i.prototype.removeSeries=function(t){var e=Bt(this.kM.get(t)),n=this.yM.Yf(e);this.wM.jt().Yf(e),this.DM(n),this.kM.delete(t),this.NM.delete(e)},i.prototype._M=function(t,e){this.DM(this.yM.Qw(t,e))},i.prototype.dM=function(t,e){this.DM(this.yM.hM(t,e))},i.prototype.subscribeClick=function(t){this.xM.u(t)},i.prototype.unsubscribeClick=function(t){this.xM._(t)},i.prototype.subscribeCrosshairMove=function(t){this.CM.u(t)},i.prototype.unsubscribeCrosshairMove=function(t){this.CM._(t)},i.prototype.priceScale=function(t){return t===void 0&&(t=this.wM.jt().Kf()),new cp(this.wM,t)},i.prototype.timeScale=function(){return this.TM},i.prototype.applyOptions=function(t){this.wM.Pr(zh(t))},i.prototype.options=function(){return this.wM.W()},i.prototype.takeScreenshot=function(){return this.wM.Bw()},i.prototype.DM=function(t){var e=this.wM.jt();e.jf(t.bt.ml,t.bt.oM,t.bt.lM),t.uM.forEach(function(n,s){return s.Z(n.ph,n.aM)}),e.yl()},i.prototype.AM=function(t){return Bt(this.NM.get(t))},i.prototype.SM=function(t){var e=this,n=new Map;t.qw.forEach(function(r,o){n.set(e.AM(o),r)});var s=t.jw===void 0?void 0:this.AM(t.jw);return{time:t.rt&&(t.rt.Co||t.rt.So),point:t.Iw,hoveredSeries:s,hoveredMarkerId:t.Uw,seriesPrices:n}},i}();function dp(i,t){var e;if(Or(i)){var n=document.getElementById(i);_i(n!==null,"Cannot find element in DOM with id=".concat(i)),e=n}else e=i;return new fp(e,t)}class bp{constructor(t){this.initKlinesSetting={upbit:!1,binance:!1,done:!1},this.klines={},this.start=!1,this.isDark=t,this.timeType="min",this.timeList={min:{upbit:"minutes/",binance:"1m",time:1},"15m":{upbit:"minutes/",binance:"15m",time:15},"1h":{upbit:"minutes/",binance:"1h",time:60},"4h":{upbit:"minutes/",binance:"4h",time:240},day:{upbit:"days",binance:"1d",time:""}},this.timeweight={min:1,"15m":15,"1h":60,"4h":240,day:60*24}}init(){const t=dp("currencyChart");this.chart=t,t.applyOptions({leftPriceScale:{visible:!0},timeScale:{timeVisible:!0,secondsVisible:!0},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},localization:{locale:"kr"}}),this.chartSetup()}chartSetup(){const t=this.chart.addLineSeries({priceScaleId:"right",color:"#000000"});this.currencySeries=t;const e=this.chart.addLineSeries({priceScaleId:"left",color:"#057AFF",lineStyle:0,lineWidth:1});this.btcSeries=e,this.upbitRequest(200),this.binanceRequest(200),this.isDark?this.toDark():this.toWhite()}toDark(){this.chart.applyOptions({layout:{background:{color:"#2A303C"},textColor:"#FFFFFF"},grid:{horzLines:{visible:!1},vertLines:{visible:!1}}}),this.currencySeries.applyOptions({priceScaleId:"right",color:"#FFFFFF"}),this.btcSeries.applyOptions({priceScaleId:"left",color:"#2099FD",lineStyle:0,lineWidth:1})}toWhite(){this.chart.applyOptions({layout:{background:{color:"#FFFFFF"},textColor:"#000000"},grid:{horzLines:{visible:!1},vertLines:{visible:!1}}}),this.currencySeries.applyOptions({priceScaleId:"right",color:"#000000"}),this.btcSeries.applyOptions({priceScaleId:"left",color:"#057AFF",lineStyle:0,lineWidth:1})}update(){this.start&&(this.initKlinesSetting=P(T({},this.initKlinesSetting),{upbit:!1,binance:!1,done:!1}),console.log("UPDATE"),this.upbitRequest(6),this.binanceRequest(6)),this.start=!0,this.timeout=setTimeout(this.update.bind(this),6e4)}updateChartPrice(){if(!this.initKlinesSetting.upbit||!this.initKlinesSetting.binance)return;let t=[],e=[];Object.entries(this.klines).forEach(([r,o])=>{let h=o.upbit/o.binance;isNaN(h)||(t.push({time:parseInt(r)/1e3+32400,value:h}),e.push({time:parseInt(r)/1e3+32400,value:o.binance}))});let n=t.sort(function(o,h){return o.time-h.time}),s=e.sort(function(o,h){return o.time-h.time});this.start?(this.currencySeries.setData(n),this.btcSeries.setData(s)):(this.currencySeries.setData(n),this.btcSeries.setData(s),this.chart.timeScale().fitContent(),this.update())}upbitRequest(t){let e=this.timeList[this.timeType];fetch(`https://6wel3cxwej.execute-api.ap-northeast-2.amazonaws.com/PROD/${e.upbit}${e.time}?market=KRW-BTC&count=${t}`).then(n=>n.json()).then(n=>{new Date().getTime(),n.forEach(s=>{let r=new Date(s.candle_date_time_kst).getTime(),o=s.trade_price;try{this.klines[r].upbit=o}catch{this.klines[r]={upbit:o}}})}).then(n=>this.initKlinesSetting.upbit=!0).then(n=>{this.updateChartPrice()})}binanceRequest(t){let e=this.timeList[this.timeType];fetch(`https://1jns5si7ol.execute-api.ap-northeast-2.amazonaws.com/PROD?symbol=BTCUSDT&limit=${t}&interval=${e.binance}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{new Date().getTime(),n.forEach(s=>{let r=s[0],o=s[4];try{this.klines[r].binance=o}catch{this.klines[r]={binance:o}}})}).then(n=>this.initKlinesSetting.binance=!0).then(n=>{this.updateChartPrice()})}changeTimeSetting(t){this.timeType=t,this.klines={},this.initKlinesSetting=P(T({},this.initKlinesSetting),{upbit:!1,binance:!1,done:!1}),this.chart.removeSeries(this.currencySeries),this.chart.removeSeries(this.btcSeries),this.start=!1,clearTimeout(this.timeout),this.chartSetup()}}function Ih(i,t,e){const n=i.slice();return n[95]=t[e],n}function Kh(i,t,e){const n=i.slice();return n[98]=t[e],n}function Vh(i,t,e){const n=i.slice();return n[98]=t[e],n}function Fh(i,t,e){const n=i.slice();return n[98]=t[e],n[104]=e,n}function Jh(i,t,e){const n=i.slice();return n[105]=t[e][0],n[106]=t[e][1],n}function Gh(i,t,e){const n=i.slice();return n[105]=t[e][0],n[106]=t[e][1],n}function jh(i){let t,e,n,s=i[6][i[105]]?"check_box":"check_box_outline_blank",r,o,h,a=i[28][i[105]]+"",l,u,p,b,y;function v(...d){return i[49](i[105],i[106],...d)}return{c(){t=m("li"),e=m("div"),n=m("span"),r=O(s),o=M(),h=m("span"),l=O(a),u=M(),f(n,"class","material-symbols-outlined"),mi(n,"font-size","1rem"),f(h,"class","pl-2"),f(e,"class","inline-block"),f(t,"class",p="flipcont w-full "+(i[6][i[105]]?"font-bold":"badge-outline"))},m(d,S){ht(d,t,S),c(t,e),c(e,n),c(n,r),c(n,o),c(e,h),c(h,l),c(t,u),b||(y=I(t,"click",v),b=!0)},p(d,S){i=d,S[0]&16448&&s!==(s=i[6][i[105]]?"check_box":"check_box_outline_blank")&&Z(r,s),S[0]&16384&&a!==(a=i[28][i[105]]+"")&&Z(l,a),S[0]&16448&&p!==(p="flipcont w-full "+(i[6][i[105]]?"font-bold":"badge-outline"))&&f(t,"class",p)},d(d){d&&nt(t),b=!1,y()}}}function Hh(i){let t,e,n,s=i[106].show?"check_box":"check_box_outline_blank",r,o,h,a=i[105]+"",l,u,p=i[106].name_kr+"",b,y,v,d,S;function _(...C){return i[51](i[105],i[106],...C)}return{c(){t=m("li"),e=m("div"),n=m("span"),r=O(s),o=M(),h=m("span"),l=O(a),u=M(),b=O(p),y=M(),f(n,"class","material-symbols-outlined"),mi(n,"font-size","1rem"),f(h,"class","pl-2"),mi(e,"display","inline-block"),f(t,"class",v="flipcont w-full "+(i[106].show?"font-bold":""))},m(C,x){ht(C,t,x),c(t,e),c(e,n),c(n,r),c(n,o),c(e,h),c(h,l),c(h,u),c(h,b),c(t,y),d||(S=I(t,"click",_),d=!0)},p(C,x){i=C,x[0]&131072&&s!==(s=i[106].show?"check_box":"check_box_outline_blank")&&Z(r,s),x[0]&131072&&a!==(a=i[105]+"")&&Z(l,a),x[0]&131072&&p!==(p=i[106].name_kr+"")&&Z(b,p),x[0]&131072&&v!==(v="flipcont w-full "+(i[106].show?"font-bold":""))&&f(t,"class",v)},d(C){C&&nt(t),d=!1,S()}}}function Yh(i){let t,e,n,s,r,o,h;return{c(){t=m("th"),e=m("div"),n=m("p"),n.textContent="\uC5C5\uBE44\uD2B8 \uAC70\uB798\uB7C9",s=m("img"),f(s,"class","pl-2"),Nt(s.src,r=i[4].upbitVolume)||f(s,"src",r),f(e,"class","flex items-center justify-center"),f(t,"data-key","coin"),f(t,"class","bg-base-200\u3163 w-2/12 lg:w-28 text-xs hidden lg:table-cell lg:text-base border-b-4")},m(a,l){ht(a,t,l),c(t,e),c(e,n),c(e,s),o||(h=I(t,"click",i[55]),o=!0)},p(a,l){l[0]&16&&!Nt(s.src,r=a[4].upbitVolume)&&f(s,"src",r)},d(a){a&&nt(t),o=!1,h()}}}function Zh(i){let t,e,n,s,r,o,h;return{c(){t=m("th"),e=m("div"),e.textContent="selected",n=M(),s=m("img"),f(e,"class","badge badge-success gap-2 badge-xs lg:font-xs"),f(s,"class","m-auto w-5/6"),Nt(s.src,r=i[1]?i[98].imgDark:i[98].img)||f(s,"src",r),f(s,"alt",o=i[98].name),f(t,"class",h="bg-base-200 w-3/12 lg:w-28 tablerow-"+i[104]+" border-b-4 border-blue-700")},m(a,l){ht(a,t,l),c(t,e),c(t,n),c(t,s)},p(a,l){l[0]&514&&!Nt(s.src,r=a[1]?a[98].imgDark:a[98].img)&&f(s,"src",r),l[0]&512&&o!==(o=a[98].name)&&f(s,"alt",o)},d(a){a&&nt(t)}}}function qh(i){let t,e,n,s,r,o,h,a;function l(){return i[56](i[98])}return{c(){t=m("th"),e=m("img"),r=M(),f(e,"class","m-auto w-5/6"),Nt(e.src,n=i[1]?i[98].imgDark:i[98].img)||f(e,"src",n),f(e,"alt",s=i[98].name),f(t,"class",o="border-slate-400 bg-base-200 border-b-4 w-2/12 lg:w-28 hidden lg:table-cell "+(i[98].type==="krw"?"domestic":"global"))},m(u,p){ht(u,t,p),c(t,e),c(t,r),h||(a=I(t,"click",l),h=!0)},p(u,p){i=u,p[0]&1026&&!Nt(e.src,n=i[1]?i[98].imgDark:i[98].img)&&f(e,"src",n),p[0]&1024&&s!==(s=i[98].name)&&f(e,"alt",s),p[0]&1024&&o!==(o="border-slate-400 bg-base-200 border-b-4 w-2/12 lg:w-28 hidden lg:table-cell "+(i[98].type==="krw"?"domestic":"global"))&&f(t,"class",o)},d(u){u&&nt(t),h=!1,a()}}}function Qh(i){let t,e,n,s=i[95].name_kr+"",r,o,h=i[95].coin+"",a,l,u,p=i[95].currency+"",b,y,v,d=i[95].kimp+"",S,_,C,x,N,B=parseFloat(i[95][i[7].krw]).toLocaleString("ko-KR")+"",j,rt,et,H,dt=parseFloat(i[95][i[7].usd])+"",bt,Rt,xt,vt,U=i[16].upbit&&$h(i),q=i[10],F=[];for(let R=0;R<q.length;R+=1)F[R]=ta(Kh(i,q,R));return{c(){t=m("tr"),e=m("th"),n=m("p"),r=O(s),o=m("p"),a=O(h),l=M(),u=m("td"),b=O(p),y=M(),v=m("td"),S=O(d),C=M(),U&&U.c(),x=M(),N=m("td"),j=O(B),et=M(),H=m("td"),bt=O(dt),xt=M();for(let R=0;R<F.length;R+=1)F[R].c();vt=M(),f(n,"class","lg:text-sm font-bold"),f(o,"class","text-xs font-light"),f(e,"class","text-xs lg:w-28 "),f(u,"class","text-xs lg:w-28 lg:text-sm"),f(v,"class",_="text-xs lg:w-28 lg:text-sm "+i[95].kimpHigh),f(N,"class",rt="text-xs lg:w-28 lg:text-sm tablerow-0 "+(i[16][i[15].krw]?"":"line-through")),f(H,"class",Rt="text-xs lg:w-28 lg:text-sm tablerow-1 "+(i[16][i[15].usd]?"":"line-through"))},m(R,K){ht(R,t,K),c(t,e),c(e,n),c(n,r),c(e,o),c(o,a),c(t,l),c(t,u),c(u,b),c(t,y),c(t,v),c(v,S),c(t,C),U&&U.m(t,null),c(t,x),c(t,N),c(N,j),c(t,et),c(t,H),c(H,bt),c(t,xt);for(let Y=0;Y<F.length;Y+=1)F[Y].m(t,null);c(t,vt)},p(R,K){if(K[0]&1572880&&s!==(s=R[95].name_kr+"")&&Z(r,s),K[0]&1572880&&h!==(h=R[95].coin+"")&&Z(a,h),K[0]&1572880&&p!==(p=R[95].currency+"")&&Z(b,p),K[0]&1572880&&d!==(d=R[95].kimp+"")&&Z(S,d),K[0]&1572880&&_!==(_="text-xs lg:w-28 lg:text-sm "+R[95].kimpHigh)&&f(v,"class",_),R[16].upbit?U?U.p(R,K):(U=$h(R),U.c(),U.m(t,x)):U&&(U.d(1),U=null),K[0]&1573008&&B!==(B=parseFloat(R[95][R[7].krw]).toLocaleString("ko-KR")+"")&&Z(j,B),K[0]&98304&&rt!==(rt="text-xs lg:w-28 lg:text-sm tablerow-0 "+(R[16][R[15].krw]?"":"line-through"))&&f(N,"class",rt),K[0]&1573008&&dt!==(dt=parseFloat(R[95][R[7].usd])+"")&&Z(bt,dt),K[0]&98304&&Rt!==(Rt="text-xs lg:w-28 lg:text-sm tablerow-1 "+(R[16][R[15].usd]?"":"line-through"))&&f(H,"class",Rt),K[0]&5833744){q=R[10];let Y;for(Y=0;Y<q.length;Y+=1){const ie=Kh(R,q,Y);F[Y]?F[Y].p(ie,K):(F[Y]=ta(ie),F[Y].c(),F[Y].m(t,vt))}for(;Y<F.length;Y+=1)F[Y].d(1);F.length=q.length}},d(R){R&&nt(t),U&&U.d(),bi(F,R)}}}function $h(i){let t,e=parseFloat(Math.round(i[95].upbitVolume/1e6)).toLocaleString("ko-KR")+"",n,s=i[95].upbitPrice===0?"":"\uBC31\uB9CC",r;return{c(){t=m("td"),n=O(e),r=O(s),f(t,"class","text-xs hidden lg:table-cell lg:w-28 lg:text-xs")},m(o,h){ht(o,t,h),c(t,n),c(t,r)},p(o,h){h[0]&1572880&&e!==(e=parseFloat(Math.round(o[95].upbitVolume/1e6)).toLocaleString("ko-KR")+"")&&Z(n,e),h[0]&1572880&&s!==(s=o[95].upbitPrice===0?"":"\uBC31\uB9CC")&&Z(r,s)},d(o){o&&nt(t)}}}function ta(i){let t,e=parseFloat(i[95][i[98].price])+"",n,s,r,o=i[22](i[95],i[98].price)+"",h;return{c(){t=m("td"),n=O(e),s=M(),r=new $a,r.a=null,f(t,"class",h="hidden lg:text-xxs xl:text-sm lg:w-28 lg:table-cell "+(i[16][i[98].network]?"":"line-through"))},m(a,l){ht(a,t,l),c(t,n),c(t,s),r.m(o,t)},p(a,l){l[0]&1573904&&e!==(e=parseFloat(a[95][a[98].price])+"")&&Z(n,e),l[0]&1573904&&o!==(o=a[22](a[95],a[98].price)+"")&&r.p(o),l[0]&66560&&h!==(h="hidden lg:text-xxs xl:text-sm lg:w-28 lg:table-cell "+(a[16][a[98].network]?"":"line-through"))&&f(t,"class",h)},d(a){a&&nt(t)}}}function ea(i){let t,e=i[95].show&&Qh(i);return{c(){e&&e.c(),t=qa()},m(n,s){e&&e.m(n,s),ht(n,t,s)},p(n,s){n[95].show?e?e.p(n,s):(e=Qh(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){e&&e.d(n),n&&nt(t)}}}function vp(i){let t,e,n,s,r,o,h,a,l,u,p,b,y,v,d,S,_,C,x,N,B,j,rt,et,H,dt=i[0].toLocaleString("ko-KR")+"",bt,Rt,xt,vt,U,q,F,R,K=(i[17].BTC[i[7].krw]/i[17].BTC[i[7].usd]).toFixed(1).toLocaleString("ko-KR")+"",Y,ie,ae,Ct,Ot,V,pt,yt,It=((i[17].BTC[i[7].krw]/i[17].BTC[i[7].usd]-i[0])*100/i[0]).toFixed(2).toLocaleString("ko-KR")+"",Ti,nn,sn,Ae,rn,Se,le,Re,on,mt,Wt,hn,ne,Pi,se,an,Q,ki,Kt,Di,we,_e,Mi,Vt,Ft,ln,Oe,Ue=i[5].find(i[36]).name+"",xi,un,Le,Ne=i[5].find(i[37]).name+"",Ci,cn,Jt,ue,Be,pn,Te,ce,fn,We,dn,pe,bn,Xe,vn,fe,ze,yn,g,A,J,L,ot,G,it,Ie,Jr,Ke,Gr,mn,jr,Ve,gn,Hr,Xt,Fe,Yr,Sn,Zr,Je,qr,wn,Qr,Ge,$r,_n,to,je,eo,Tn,io,He,no,Pn,kn,so,Dn,Ye,de,Mn,xn,Ze,Gt,Cn,ro,En=Object.entries(i[16]).filter(ia).length+"",Vs,oo,An=Object.entries(i[16]).length+"",Fs,ho,be,Js,ao,Ei,lo,Rn,On,qe,jt,Un,uo,Ln=i[13].show+"",Gs,co,Nn=i[13].max+"",js,po,ve,Hs,fo,re,Ys,Ai,bo,vo,Zs,Ri,yo,Qe,ft,$e,Oi,qs,Pe,Bn,mo,ti,Ui,Qs,ke,Wn,go,Li,So,$s,tr,wo,Xn,_o,Ni,zn,er,Bi,ei,In,To,$,Kn,Po,Vn,Fn,ko,Jn,Do,Gn,jn,Mo,Hn,xo,Yn,Zn,Co,qn,Eo,Qn,$n,Ao,ts,Ro,es,is,Oo,ns,Uo,ss,rs,Lo,os,No,hs,as,Bo,ls,Wo,us,cs,Xo,Wi,ir,ii,nr,ni,sr,zo;document.title=t=`
        `+i[18].toFixed(1).toLocaleString("ko-KR")+" ("+((i[18]-i[0])*100/i[0]).toFixed(2).toLocaleString("ko-KR")+`%)
    `;let si=Object.entries(i[14]),gt=[];for(let w=0;w<si.length;w+=1)gt[w]=jh(Gh(i,si,w));let ri=Object.entries(i[17]),St=[];for(let w=0;w<ri.length;w+=1)St[w]=Hh(Jh(i,ri,w));let wt=i[16].upbit&&Yh(i),oi=i[9],_t=[];for(let w=0;w<oi.length;w+=1)_t[w]=Zh(Fh(i,oi,w));let hi=i[10],Tt=[];for(let w=0;w<hi.length;w+=1)Tt[w]=qh(Vh(i,hi,w));let ai=i[4].selected==="default"?i[19]:i[20],Pt=[];for(let w=0;w<ai.length;w+=1)Pt[w]=ea(Ih(i,ai,w));return{c(){e=M(),n=m("div"),s=m("section"),r=m("div"),o=m("div"),h=m("p"),a=m("img"),u=M(),p=m("p"),p.textContent="BETA",b=M(),y=m("div"),v=m("label"),d=m("span"),d.textContent="\uB2E4\uD06C\uBAA8\uB4DC",S=M(),_=m("input"),C=M(),x=m("div"),N=m("div"),B=m("div"),j=m("div"),rt=m("div"),rt.textContent="USD",et=M(),H=m("div"),bt=O(dt),Rt=M(),xt=m("div"),xt.textContent="\uB450\uB098\uBB34 \uD658\uC728 \uAE30\uC900",vt=M(),U=m("div"),q=m("div"),q.textContent="USDT (BTC)",F=M(),R=m("div"),Y=O(K),ie=M(),ae=m("div"),ae.textContent="\uC120\uD0DD\uB41C \uAC70\uB798\uC18C \uAE30\uC900",Ct=M(),Ot=m("div"),V=m("div"),V.textContent="PREMIUM",pt=M(),yt=m("div"),Ti=O(It),nn=O("%"),sn=M(),Ae=m("div"),Ae.textContent="\uC120\uD0DD\uB41C \uAC70\uB798\uC18C \uAE30\uC900",rn=M(),Se=m("div"),le=m("div"),Re=m("div"),Re.innerHTML='<span class="font-bold pl-2">BTC \uAE40\uD504 \uCC28\uD2B8</span>  <span class="hidden lg:block pl-1">[\uC5C5\uBE44\uD2B8, \uBC14\uC774\uB0B8\uC2A4 \uAE30\uC900 BTC]</span>',on=M(),mt=m("div"),Wt=m("input"),hn=M(),ne=m("input"),Pi=M(),se=m("input"),an=M(),Q=m("input"),ki=M(),Kt=m("input"),Di=M(),we=m("div"),_e=M(),Mi=m("div"),Vt=m("div"),Ft=m("div"),ln=O(`\uBE44\uAD50\uD560 \uAC70\uB798\uC18C \uC120\uD0DD
                    `),Oe=m("span"),xi=O(Ue),un=M(),Le=m("span"),Ci=O(Ne),cn=M(),Jt=m("div"),ue=m("div"),Be=m("div"),Be.textContent="\uD55C\uAD6D",pn=M(),Te=m("div"),ce=m("div"),fn=O("bithumb"),dn=M(),pe=m("button"),bn=O("upbit"),vn=M(),fe=m("div"),ze=m("div"),ze.textContent="\uD574\uC678 \uD604\uBB3C",yn=M(),g=m("div"),A=m("button"),J=O("\uBC14\uC774\uB0B8\uC2A4"),ot=M(),G=m("button"),it=O("FTX"),Jr=M(),Ke=m("button"),Gr=O("OKX"),jr=M(),Ve=m("div"),gn=m("div"),gn.textContent="\uD574\uC678 \uC120\uBB3C",Hr=M(),Xt=m("div"),Fe=m("button"),Yr=O("\uBC14\uC774\uB0B8\uC2A4"),Zr=M(),Je=m("button"),qr=O("FTX"),Qr=M(),Ge=m("button"),$r=O("BYBIT"),to=M(),je=m("button"),eo=O("OKX"),io=M(),He=m("button"),no=O("MEXC"),so=M(),Dn=m("div"),Ye=m("div"),de=m("div"),Mn=m("div"),xn=m("ul"),Ze=m("li"),Gt=m("a"),Cn=m("p"),Cn.textContent="\uAC70\uB798\uC18C \uC120\uD0DD",ro=M(),Vs=O(En),oo=O(" / "),Fs=O(An),ho=M(),be=fs("svg"),Js=fs("path"),ao=M(),Ei=m("ul");for(let w=0;w<gt.length;w+=1)gt[w].c();lo=M(),Rn=m("div"),On=m("ul"),qe=m("li"),jt=m("a"),Un=m("p"),Un.textContent="\uD45C\uC2DC\uD560 \uCF54\uC778 \uC120\uD0DD",uo=M(),Gs=O(Ln),co=O(" / "),js=O(Nn),po=M(),ve=fs("svg"),Hs=fs("path"),fo=M(),re=m("ul"),Ys=m("li"),Ai=m("button"),Ai.textContent="\uC804\uCCB4 \uC9C0\uC6B0\uAE30",bo=M();for(let w=0;w<St.length;w+=1)St[w].c();vo=M(),Zs=m("div"),Ri=m("div"),Ri.innerHTML='<span class="material-symbols-outlined">settings_backup_restore</span> \uC124\uC815 \uB9AC\uC14B',yo=M(),Qe=m("table"),ft=m("thead"),$e=m("th"),Oi=m("div"),qs=m("p"),qs.textContent="\uCF54\uC778\uBA85",Pe=m("img"),mo=M(),ti=m("th"),Ui=m("div"),Qs=m("p"),Qs.textContent="\uD658\uC728",ke=m("img"),go=M(),Li=m("th"),Li.innerHTML='<div class="tooltip" data-tip="\uBE44\uD2B8\uCF54\uC778\uBCF4\uB2E4 \uD504\uB9AC\uBBF8\uC5C4\uC774 \uB192\uC740 \uACBD\uC6B0 \uBE68\uAC04\uC0C9\uC73C\uB85C, \uB0AE\uC740 \uACBD\uC6B0 \uCD08\uB85D\uC0C9\uC73C\uB85C \uD45C\uC2DC\uB429\uB2C8\uB2E4.">\uD504\uB9AC\uBBF8\uC5C4</div>',So=M(),wt&&wt.c(),$s=M();for(let w=0;w<_t.length;w+=1)_t[w].c();tr=M();for(let w=0;w<Tt.length;w+=1)Tt[w].c();wo=M(),Xn=m("tbody");for(let w=0;w<Pt.length;w+=1)Pt[w].c();_o=M(),Ni=m("div"),Ni.innerHTML=`\uC0AC\uC774\uD2B8 \uB0B4 \uBAA8\uB4E0 \uC554\uD638\uD654\uD3D0 \uAC00\uACA9\uC740 \uAC01 \uAC70\uB798\uC18C\uC758 \uB370\uC774\uD130\uB97C \uC2E4\uC2DC\uAC04\uC73C\uB85C \uBC1B\uC544 \uD45C\uC2DC\uD558\uBA70 \uBCF8 \uC0AC\uC774\uD2B8\uB294 \uD574\uB2F9 \uC815\uBCF4\uC5D0 \uB300\uD574 \uC5B4\uB5A0\uD55C \uCC45\uC784\uC744 \uBD80\uB2F4\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. <br/>\uAC00\uACA9\uC774 \uC774\uC0C1\uD55C \uACBD\uC6B0 \uD398\uC774\uC9C0\uB97C \uC0C8\uB85C\uACE0\uCE68\uD558\uBA74
            \uB370\uC774\uD130\uB97C \uB2E4\uC2DC \uBD88\uB7EC\uC635\uB2C8\uB2E4. \uAC70\uB798 \uC804 \uAC01 \uAC70\uB798\uC18C\uC758 \uAC00\uACA9\uC744 \uB2E4\uC2DC \uD55C\uBC88 \uD655\uC778\uD558\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.<br/>copyright \uD558\uB8E8\uC5D0\uD55C\uAC78\uC74C\uC529`,er=M(),Bi=m("footer"),ei=m("div"),In=m("div"),In.textContent="CONNECTION",To=M(),$=m("div"),Kn=m("div"),Po=O("BITHUMB "),Vn=m("div"),ko=M(),Jn=m("div"),Do=O("UPBIT "),Gn=m("div"),Mo=M(),Hn=m("div"),xo=O("Binance Spot "),Yn=m("div"),Co=M(),qn=m("div"),Eo=O("binance Perp "),Qn=m("div"),Ao=M(),ts=m("div"),Ro=O("FTX "),es=m("div"),Oo=M(),ns=m("div"),Uo=O("BYBIT "),ss=m("div"),Lo=M(),os=m("div"),No=O("OKX "),hs=m("div"),Bo=M(),ls=m("div"),Wo=O("MEXC "),us=m("div"),Xo=M(),Wi=m("label"),Wi.textContent="\uC6B4\uC601\uC790\uC5D0\uAC8C \uD6C4\uC6D0\uD558\uAE30",ir=M(),ii=m("input"),nr=M(),ni=m("label"),ni.innerHTML=`<label class="modal-box relative" for=""><h3 class="font-bold text-lg">\uC6B4\uC601\uC790\uC5D0\uAC8C \uCEE4\uD53C \uD55C \uC794 \uC0AC\uC8FC\uC2DC\uB294 \uAC74 \uC5B4\uB54C\uC694?</h3> 
        <p class="py-4">\uAE40\uD504 \uCC28\uC775\uC744 \uBA39\uC5C8\uB2E4\uBA74, \uCFE0\uD321\uC5D0\uC11C \uBB34\uC5B8\uAC00\uB97C \uC0AC\uBCF4\uC2DC\uB294 \uAC74 \uC5B4\uB5A4\uAC00\uC694?<br/>\uCFE0\uD321 \uD30C\uD2B8\uB108\uC2A4 \uD65C\uB3D9\uC758 \uC77C\uD658\uC73C\uB85C, \uAD6C\uB9E4\uAE08\uC561\uC758 \uC77C\uC815 \uBD80\uBD84\uC744 \uC218\uC218\uB8CC\uB85C \uC81C\uACF5\uBC1B\uC2B5\uB2C8\uB2E4.</p> 
        <a class="btn" href="https://link.coupang.com/a/nh6NM">\uCFE0\uD321 \uC774\uB3D9\uD558\uAE30</a></label>`,Nt(a.src,l=i[1]?"logo_white.png":"logo_black.png")||f(a,"src",l),f(a,"alt","for farmer"),f(h,"class","normal-case text-xl w-44 lg:w-56"),f(p,"class","text-error"),f(d,"class","label-text px-1"),f(_,"type","checkbox"),f(_,"class","toggle"),f(v,"class","label cursor-pointer justify-end"),f(y,"class","form-control ml-auto"),f(o,"class","flex flex-1"),f(r,"class","navbar bg-base-400"),f(rt,"class","stat-title text-sm"),f(H,"class","stat-value text-xl"),f(xt,"class","stat-desc "),f(j,"class","stat px-4"),f(q,"class","stat-title text-sm"),f(R,"class","stat-value text-xl"),f(ae,"class","stat-desc"),f(U,"class","stat px-4"),f(V,"class","stat-title text-sm"),f(yt,"class","stat-value text-xl"),f(Ae,"class","stat-desc"),f(Ot,"class","stat px-4"),f(B,"class","stats lg:stats-vertical shadow w-max lg:w-36"),f(N,"class","lg:mr-4"),f(Re,"class","inline-flex"),f(Wt,"type","radio"),f(Wt,"name","options"),f(Wt,"data-title","min"),f(Wt,"class","btn btn-outline btn-xs"),Wt.checked=!0,f(ne,"type","radio"),f(ne,"name","options"),f(ne,"data-title","15m"),f(ne,"class","btn btn-outline btn-xs"),f(se,"type","radio"),f(se,"name","options"),f(se,"data-title","1h"),f(se,"class","btn btn-outline btn-xs"),f(Q,"type","radio"),f(Q,"name","options"),f(Q,"data-title","4h"),f(Q,"class","btn btn-outline btn-xs"),f(Kt,"type","radio"),f(Kt,"name","options"),f(Kt,"data-title","day"),f(Kt,"class","btn btn-outline btn-xs"),f(mt,"class","btn-group w-fit ml-auto pr-4"),f(le,"class","flex h-12 mt-4 lg:mt-0"),f(we,"id","currencyChart"),f(we,"class","h-32 lg:h-60 w-screen block lg:w-chart-1024 xl:w-chart-1280 2xl:w-chart-1536"),f(x,"class","container flex py-2 items-center justify-left flex-col lg:flex-row justify-center"),f(Oe,"class","badge badge-sm bg-primary text-primary-content"),f(Le,"class","badge badge-sm bg-secondary text-secondary-content"),f(Ft,"class","collapse-title text-lg font-medium"),f(Be,"class","w-1/6 pr-2 text-right text-xs self-center"),f(ce,"class",We="btn btn-xs "+(i[7].krw==="bithumbPrice"?"":"btn-outline")),f(pe,"class",Xe="btn btn-xs "+(i[7].krw==="upbitPrice"?"":"btn-outline")),f(ue,"class","flex"),f(ze,"class","w-1/6 pr-2 text-right text-xs self-center"),f(A,"class",L="btn btn-xs "+(i[7].usd==="binanceSpotPrice"?"":"btn-outline")),f(G,"class",Ie="btn btn-xs "+(i[7].usd==="ftxSpotPrice"?"":"btn-outline")),f(Ke,"class",mn="btn btn-xs "+(i[7].usd==="okxSpotPrice"?"":"btn-outline")),f(fe,"class","flex my-2"),f(gn,"class","w-1/6 pr-2 text-right text-xs self-center"),f(Fe,"class",Sn="btn btn-xs "+(i[7].usd==="binancePerpPrice"?"":"btn-outline")),f(Je,"class",wn="btn btn-xs "+(i[7].usd==="ftxPerpPrice"?"":"btn-outline")),f(Ge,"class",_n="btn btn-xs "+(i[7].usd==="bybitPerpPrice"?"":"btn-outline")),f(je,"class",Tn="btn btn-xs "+(i[7].usd==="okxPerpPrice"?"":"btn-outline")),f(He,"class",Pn="btn btn-xs "+(i[7].usd==="mexcPerpPrice"?"":"btn-outline")),f(Ve,"class","flex"),f(Jt,"class","collapse-content"),f(Vt,"tabindex","0"),f(Vt,"class",kn="lg:hidden collapse "+(i[11]?"collapse-open":"collapse-close")+" collapse-arrow border border-base-300 bg-base-100 rounded-box mb-2"),f(Cn,"class","font-bold"),f(Js,"d","M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"),f(be,"class","fill-current"),f(be,"xmlns","http://www.w3.org/2000/svg"),f(be,"width","20"),f(be,"height","20"),f(be,"viewBox","0 0 24 24"),f(Gt,"class","border-2 border-base-content"),f(Ei,"class","p-2 bg-base-100 z-40 shadow"),f(Ze,"tabindex","0"),f(xn,"class","menu menu-horizontal p-0 mb-2"),f(Mn,"class","block"),f(Un,"class","font-bold"),f(Hs,"d","M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"),f(ve,"class","fill-current"),f(ve,"xmlns","http://www.w3.org/2000/svg"),f(ve,"width","20"),f(ve,"height","20"),f(ve,"viewBox","0 0 24 24"),f(jt,"class","border-2 border-base-content"),f(Ai,"class","button btn-primary btn-sm"),f(re,"class","bg-base-100 z-40 shadow overflow-y-scroll"),mi(re,"height","300px"),mi(re,"width","100%"),f(qe,"tabindex","0"),f(On,"class","menu menu-horizontal p-0 mb-2"),f(Rn,"class","block ml-2"),f(Ri,"class","border-2 border-base-content btn btn-outline ml-2 py-3 text-base leading-6 h-[3.25rem]"),f(de,"class","hidden lg:flex"),f(Pe,"class","pl-2"),Nt(Pe.src,Bn=i[4].coin)||f(Pe,"src",Bn),f(Oi,"class","flex items-center justify-center"),f($e,"data-key","coin"),f($e,"class","bg-base-200\u3163 w-2/12 lg:w-28 text-xs lg:text-base border-b-4"),f(ke,"class","pl-2"),Nt(ke.src,Wn=i[4].currency)||f(ke,"src",Wn),f(Ui,"class","flex items-center justify-center"),f(ti,"data-key","currency"),f(ti,"class","bg-base-200\u3163 w-2/12 lg:w-28 text-xs lg:text-base border-b-4"),f(Li,"data-key","kimp"),f(Li,"class","bg-base-200 w-2/12 lg:w-28 text-xs lg:text-base border-b-4"),f(Qe,"class","table table-compact w-full mx-auto text-center shadow"),f(Ye,"class","block"),f(Dn,"class","container flex items-center justify-center flex-col"),f(Ni,"class","flex text-xs text-center self-center py-8"),mi(Ni,"min-height","150px"),f(s,"id","headerArea"),f(s,"class","h-fit container flex flex-col sm mx-auto overflow-x-hidden"),f(n,"class","w-screen h-screen overflow-y-scroll"),f(n,"data-theme",zn=i[1]?"dark":"winter"),f(In,"class","badge mr-2 hidden lg:flex font-bold"),f(Vn,"class",Fn="badge badge-xs "+(i[16].bithumb?"bg-success":"bg-error")),f(Gn,"class",jn="badge badge-xs "+(i[16].upbit?"bg-success":"bg-error")),f(Yn,"class",Zn="badge badge-xs "+(i[16].binance\uD604\uBB3C?"bg-success":"bg-error")),f(Qn,"class",$n="badge badge-xs "+(i[16].binance\uC120\uBB3C?"bg-success":"bg-error")),f(es,"class",is="badge badge-xs "+(i[16].ftx?"bg-success":"bg-error")),f(ss,"class",rs="badge badge-xs "+(i[16].bybitPerp?"bg-success":"bg-error")),f(hs,"class",as="badge badge-xs "+(i[16].okx?"bg-success":"bg-error")),f(us,"class",cs="badge badge-xs "+(i[16].mexc?"bg-success":"bg-error")),f(Wi,"for","my-modal"),f(Wi,"class","modal-button"),f($,"class","flex gap-2 hidden lg:flex"),f(ei,"class","items-center grid-flow-col"),f(Bi,"class","footer items-center p-4 bg-neutral text-neutral-content mt-auto hidden lg:grid fixed inset-x-0 bottom-0 justify-center"),f(ii,"type","checkbox"),f(ii,"id","my-modal"),f(ii,"class","modal-toggle"),f(ni,"for","my-modal"),f(ni,"class","modal cursor-pointer")},m(w,E){ht(w,e,E),ht(w,n,E),c(n,s),c(s,r),c(r,o),c(o,h),c(h,a),c(o,u),c(o,p),c(o,b),c(o,y),c(y,v),c(v,d),c(v,S),c(v,_),_.checked=i[1],c(s,C),c(s,x),c(x,N),c(N,B),c(B,j),c(j,rt),c(j,et),c(j,H),c(H,bt),c(j,Rt),c(j,xt),c(B,vt),c(B,U),c(U,q),c(U,F),c(U,R),c(R,Y),c(U,ie),c(U,ae),c(B,Ct),c(B,Ot),c(Ot,V),c(Ot,pt),c(Ot,yt),c(yt,Ti),c(yt,nn),c(Ot,sn),c(Ot,Ae),c(x,rn),c(x,Se),c(Se,le),c(le,Re),c(le,on),c(le,mt),c(mt,Wt),c(mt,hn),c(mt,ne),c(mt,Pi),c(mt,se),c(mt,an),c(mt,Q),c(mt,ki),c(mt,Kt),c(Se,Di),c(Se,we),c(s,_e),c(s,Mi),c(Mi,Vt),c(Vt,Ft),c(Ft,ln),c(Ft,Oe),c(Oe,xi),c(Ft,un),c(Ft,Le),c(Le,Ci),c(Vt,cn),c(Vt,Jt),c(Jt,ue),c(ue,Be),c(ue,pn),c(ue,Te),c(Te,ce),c(ce,fn),c(Te,dn),c(Te,pe),c(pe,bn),c(Jt,vn),c(Jt,fe),c(fe,ze),c(fe,yn),c(fe,g),c(g,A),c(A,J),c(g,ot),c(g,G),c(G,it),c(g,Jr),c(g,Ke),c(Ke,Gr),c(Jt,jr),c(Jt,Ve),c(Ve,gn),c(Ve,Hr),c(Ve,Xt),c(Xt,Fe),c(Fe,Yr),c(Xt,Zr),c(Xt,Je),c(Je,qr),c(Xt,Qr),c(Xt,Ge),c(Ge,$r),c(Xt,to),c(Xt,je),c(je,eo),c(Xt,io),c(Xt,He),c(He,no),c(s,so),c(s,Dn),c(Dn,Ye),c(Ye,de),c(de,Mn),c(Mn,xn),c(xn,Ze),c(Ze,Gt),c(Gt,Cn),c(Gt,ro),c(Gt,Vs),c(Gt,oo),c(Gt,Fs),c(Gt,ho),c(Gt,be),c(be,Js),c(Ze,ao),c(Ze,Ei);for(let D=0;D<gt.length;D+=1)gt[D].m(Ei,null);c(de,lo),c(de,Rn),c(Rn,On),c(On,qe),c(qe,jt),c(jt,Un),c(jt,uo),c(jt,Gs),c(jt,co),c(jt,js),c(jt,po),c(jt,ve),c(ve,Hs),c(qe,fo),c(qe,re),c(re,Ys),c(Ys,Ai),c(re,bo);for(let D=0;D<St.length;D+=1)St[D].m(re,null);c(de,vo),c(de,Zs),c(Zs,Ri),c(Ye,yo),c(Ye,Qe),c(Qe,ft),c(ft,$e),c($e,Oi),c(Oi,qs),c(Oi,Pe),c(ft,mo),c(ft,ti),c(ti,Ui),c(Ui,Qs),c(Ui,ke),c(ft,go),c(ft,Li),c(ft,So),wt&&wt.m(ft,null),c(ft,$s);for(let D=0;D<_t.length;D+=1)_t[D].m(ft,null);c(ft,tr);for(let D=0;D<Tt.length;D+=1)Tt[D].m(ft,null);c(Qe,wo),c(Qe,Xn);for(let D=0;D<Pt.length;D+=1)Pt[D].m(Xn,null);c(s,_o),c(s,Ni),ht(w,er,E),ht(w,Bi,E),c(Bi,ei),c(ei,In),c(ei,To),c(ei,$),c($,Kn),c(Kn,Po),c(Kn,Vn),c($,ko),c($,Jn),c(Jn,Do),c(Jn,Gn),c($,Mo),c($,Hn),c(Hn,xo),c(Hn,Yn),c($,Co),c($,qn),c(qn,Eo),c(qn,Qn),c($,Ao),c($,ts),c(ts,Ro),c(ts,es),c($,Oo),c($,ns),c(ns,Uo),c(ns,ss),c($,Lo),c($,os),c(os,No),c(os,hs),c($,Bo),c($,ls),c(ls,Wo),c(ls,us),c($,Xo),c($,Wi),ht(w,ir,E),ht(w,ii,E),ht(w,nr,E),ht(w,ni,E),sr||(zo=[I(h,"click",Fr),I(_,"change",i[30]),I(_,"click",i[21]),I(Wt,"click",i[31]),I(ne,"click",i[32]),I(se,"click",i[33]),I(Q,"click",i[34]),I(Kt,"click",i[35]),I(Ft,"click",i[38]),I(ce,"click",i[39]),I(pe,"click",i[40]),I(A,"click",i[41]),I(G,"click",i[42]),I(Ke,"click",i[43]),I(Fe,"click",i[44]),I(Je,"click",i[45]),I(Ge,"click",i[46]),I(je,"click",i[47]),I(He,"click",i[48]),I(Ai,"click",i[50]),I(Ri,"click",i[52]),I($e,"click",i[53]),I(ti,"click",i[54])],sr=!0)},p(w,E){if(E[0]&262145&&t!==(t=`
        `+w[18].toFixed(1).toLocaleString("ko-KR")+" ("+((w[18]-w[0])*100/w[0]).toFixed(2).toLocaleString("ko-KR")+`%)
    `)&&(document.title=t),E[0]&2&&!Nt(a.src,l=w[1]?"logo_white.png":"logo_black.png")&&f(a,"src",l),E[0]&2&&(_.checked=w[1]),E[0]&1&&dt!==(dt=w[0].toLocaleString("ko-KR")+"")&&Z(bt,dt),E[0]&131200&&K!==(K=(w[17].BTC[w[7].krw]/w[17].BTC[w[7].usd]).toFixed(1).toLocaleString("ko-KR")+"")&&Z(Y,K),E[0]&131201&&It!==(It=((w[17].BTC[w[7].krw]/w[17].BTC[w[7].usd]-w[0])*100/w[0]).toFixed(2).toLocaleString("ko-KR")+"")&&Z(Ti,It),E[0]&160&&Ue!==(Ue=w[5].find(w[36]).name+"")&&Z(xi,Ue),E[0]&160&&Ne!==(Ne=w[5].find(w[37]).name+"")&&Z(Ci,Ne),E[0]&128&&We!==(We="btn btn-xs "+(w[7].krw==="bithumbPrice"?"":"btn-outline"))&&f(ce,"class",We),E[0]&128&&Xe!==(Xe="btn btn-xs "+(w[7].krw==="upbitPrice"?"":"btn-outline"))&&f(pe,"class",Xe),E[0]&128&&L!==(L="btn btn-xs "+(w[7].usd==="binanceSpotPrice"?"":"btn-outline"))&&f(A,"class",L),E[0]&128&&Ie!==(Ie="btn btn-xs "+(w[7].usd==="ftxSpotPrice"?"":"btn-outline"))&&f(G,"class",Ie),E[0]&128&&mn!==(mn="btn btn-xs "+(w[7].usd==="okxSpotPrice"?"":"btn-outline"))&&f(Ke,"class",mn),E[0]&128&&Sn!==(Sn="btn btn-xs "+(w[7].usd==="binancePerpPrice"?"":"btn-outline"))&&f(Fe,"class",Sn),E[0]&128&&wn!==(wn="btn btn-xs "+(w[7].usd==="ftxPerpPrice"?"":"btn-outline"))&&f(Je,"class",wn),E[0]&128&&_n!==(_n="btn btn-xs "+(w[7].usd==="bybitPerpPrice"?"":"btn-outline"))&&f(Ge,"class",_n),E[0]&128&&Tn!==(Tn="btn btn-xs "+(w[7].usd==="okxPerpPrice"?"":"btn-outline"))&&f(je,"class",Tn),E[0]&128&&Pn!==(Pn="btn btn-xs "+(w[7].usd==="mexcPerpPrice"?"":"btn-outline"))&&f(He,"class",Pn),E[0]&2048&&kn!==(kn="lg:hidden collapse "+(w[11]?"collapse-open":"collapse-close")+" collapse-arrow border border-base-300 bg-base-100 rounded-box mb-2")&&f(Vt,"class",kn),E[0]&65536&&En!==(En=Object.entries(w[16]).filter(ia).length+"")&&Z(Vs,En),E[0]&65536&&An!==(An=Object.entries(w[16]).length+"")&&Z(Fs,An),E[0]&285229120){si=Object.entries(w[14]);let D;for(D=0;D<si.length;D+=1){const kt=Gh(w,si,D);gt[D]?gt[D].p(kt,E):(gt[D]=jh(kt),gt[D].c(),gt[D].m(Ei,null))}for(;D<gt.length;D+=1)gt[D].d(1);gt.length=si.length}if(E[0]&8192&&Ln!==(Ln=w[13].show+"")&&Z(Gs,Ln),E[0]&8192&&Nn!==(Nn=w[13].max+"")&&Z(js,Nn),E[0]&67239936){ri=Object.entries(w[17]);let D;for(D=0;D<ri.length;D+=1){const kt=Jh(w,ri,D);St[D]?St[D].p(kt,E):(St[D]=Hh(kt),St[D].c(),St[D].m(re,null))}for(;D<St.length;D+=1)St[D].d(1);St.length=ri.length}if(E[0]&16&&!Nt(Pe.src,Bn=w[4].coin)&&f(Pe,"src",Bn),E[0]&16&&!Nt(ke.src,Wn=w[4].currency)&&f(ke,"src",Wn),w[16].upbit?wt?wt.p(w,E):(wt=Yh(w),wt.c(),wt.m(ft,$s)):wt&&(wt.d(1),wt=null),E[0]&514){oi=w[9];let D;for(D=0;D<oi.length;D+=1){const kt=Fh(w,oi,D);_t[D]?_t[D].p(kt,E):(_t[D]=Zh(kt),_t[D].c(),_t[D].m(ft,tr))}for(;D<_t.length;D+=1)_t[D].d(1);_t.length=oi.length}if(E[0]&8389634){hi=w[10];let D;for(D=0;D<hi.length;D+=1){const kt=Vh(w,hi,D);Tt[D]?Tt[D].p(kt,E):(Tt[D]=qh(kt),Tt[D].c(),Tt[D].m(ft,null))}for(;D<Tt.length;D+=1)Tt[D].d(1);Tt.length=hi.length}if(E[0]&5866640){ai=w[4].selected==="default"?w[19]:w[20];let D;for(D=0;D<ai.length;D+=1){const kt=Ih(w,ai,D);Pt[D]?Pt[D].p(kt,E):(Pt[D]=ea(kt),Pt[D].c(),Pt[D].m(Xn,null))}for(;D<Pt.length;D+=1)Pt[D].d(1);Pt.length=ai.length}E[0]&2&&zn!==(zn=w[1]?"dark":"winter")&&f(n,"data-theme",zn),E[0]&65536&&Fn!==(Fn="badge badge-xs "+(w[16].bithumb?"bg-success":"bg-error"))&&f(Vn,"class",Fn),E[0]&65536&&jn!==(jn="badge badge-xs "+(w[16].upbit?"bg-success":"bg-error"))&&f(Gn,"class",jn),E[0]&65536&&Zn!==(Zn="badge badge-xs "+(w[16].binance\uD604\uBB3C?"bg-success":"bg-error"))&&f(Yn,"class",Zn),E[0]&65536&&$n!==($n="badge badge-xs "+(w[16].binance\uC120\uBB3C?"bg-success":"bg-error"))&&f(Qn,"class",$n),E[0]&65536&&is!==(is="badge badge-xs "+(w[16].ftx?"bg-success":"bg-error"))&&f(es,"class",is),E[0]&65536&&rs!==(rs="badge badge-xs "+(w[16].bybitPerp?"bg-success":"bg-error"))&&f(ss,"class",rs),E[0]&65536&&as!==(as="badge badge-xs "+(w[16].okx?"bg-success":"bg-error"))&&f(hs,"class",as),E[0]&65536&&cs!==(cs="badge badge-xs "+(w[16].mexc?"bg-success":"bg-error"))&&f(us,"class",cs)},i:At,o:At,d(w){w&&nt(e),w&&nt(n),bi(gt,w),bi(St,w),wt&&wt.d(),bi(_t,w),bi(Tt,w),bi(Pt,w),w&&nt(er),w&&nt(Bi),w&&nt(ir),w&&nt(ii),w&&nt(nr),w&&nt(ni),sr=!1,Si(zo)}}}function Fr(){location.reload()}function ye(i,t){localStorage.setItem(i,t)}function yp(){localStorage.clear(),Fr()}const ia=([i,t])=>t;function mp(i,t,e){let n,s,r,o,h,a,l,u,p,b,y,v,d,S,_,C,x,N,B=At,j=()=>(B(),B=Ji(q,g=>e(18,N=g)),q),rt,et=At,H=()=>(et(),et=Ji(R,g=>e(19,rt=g)),R),dt,bt=At,Rt=()=>(bt(),bt=Ji(K,g=>e(20,dt=g)),K);at(i,Yt,g=>e(6,n=g)),at(i,Ds,g=>e(7,s=g)),at(i,kl,g=>e(57,r=g)),at(i,Et,g=>e(16,o=g)),at(i,Dt,g=>e(17,h=g)),at(i,Ht,g=>e(58,a=g)),at(i,dl,g=>e(59,l=g)),at(i,fl,g=>e(60,u=g)),at(i,Tl,g=>e(61,p=g)),at(i,_l,g=>e(62,b=g)),at(i,wl,g=>e(63,y=g)),at(i,Sl,g=>e(64,v=g)),at(i,gl,g=>e(65,d=g)),at(i,ml,g=>e(66,S=g)),at(i,yl,g=>e(67,_=g)),at(i,vl,g=>e(68,C=g)),at(i,bl,g=>e(69,x=g)),i.$$.on_destroy.push(()=>B()),i.$$.on_destroy.push(()=>et()),i.$$.on_destroy.push(()=>bt());function xt(){fetch("https://quotation-api-cdn.dunamu.com/v1/forex/recent?codes=FRX.KRWUSD").then(g=>g.json()).then(g=>e(0,vt=g[0].basePrice)),setTimeout(xt,6e5)}let vt=0,U=null,q,F,R,K,Y,ie,ae=!1,Ct,Ot;localStorage.getItem("isDark")!==null?U=Boolean(JSON.parse(localStorage.getItem("isDark"))):U=!0;let V,pt,yt;De(Ds,s=JSON.parse(localStorage.getItem("selectedSite"))||s,s);let It=JSON.parse(localStorage.getItem("selectedNetwork"))||{krw:"upbit",usd:"ftx"};new _u(r,u,l,x,C,_,S,d,v,y,b,p,h);let Ti=new bu(Dt,x,Et,Yt,Pl,Ht),nn=new vu(Dt,C,Et,Yt,Ht),sn=new yu(Dt,_,S,Et,Yt,Ht),Ae=new mu(Dt,d,Et,Yt,Ht),rn=new gu(Dt,v,Et,Yt,Ht),Se=new Su(Dt,y,b,Et,Yt,Ht),le=new wu(Dt,p,Et,Yt,Ht),Re=new Dl(Dt,u,Et,Yt,Ht),on=new Ml(Dt,l,Et,Yt,Ht);function mt(){let g=JSON.parse(localStorage.getItem("exchangeStatus"))||{};De(Et,o={upbit:Object.hasOwn(g,"upbit")?g.upbit:!0,bithumb:Object.hasOwn(g,"bithumb")?g.bithumb:!0,binance\uD604\uBB3C:Object.hasOwn(g,"binance\uD604\uBB3C")?g.binance\uD604\uBB3C:!0,binance\uC120\uBB3C:Object.hasOwn(g,"binance\uC120\uBB3C")?g.binance\uC120\uBB3C:!0,ftx:Object.hasOwn(g,"ftx")?g.ftx:!0,bybit:!0,bybitPerp:Object.hasOwn(g,"bybitPerp")?g.bybitPerp:!0,okx:Object.hasOwn(g,"okx")?g.okx:!1,mexc:Object.hasOwn(g,"mexc")?g.mexc:!1},o)}function Wt(){let g=new Date().getTime(),A=Object.fromEntries(Object.entries(a).map(([J,L])=>g-L>5e3?[J,!1]:[J,L]));Object.assign(h,A),console.log(a),console.log(o),setTimeout(Wt,3e3)}function hn(){let g=window.innerWidth;g<1024&&(yt[pt.find(A=>A.price===s.krw).network].connect(),yt[pt.find(A=>A.price===s.usd).network].connect()),g>=1024&&Object.entries(o).map(([A,J])=>{J&&yt[A].connect()})}function ne(){mt(),hn(),Pi(),e(12,Ct=new bp(U)),Ct.init(),xt(),ye("exchangeStatus",JSON.stringify(o)),ye("selectedSite",JSON.stringify(s)),ye("selectedNetwork",JSON.stringify(It)),setTimeout(Fr,6e5),Wt()}function Pi(){e(13,Ot={show:Object.entries(h).filter(([g,A])=>A.show).length,max:Object.entries(h).length})}function se(){U?Ct.toWhite():Ct.toDark(),localStorage.setItem("isDark",String(!U))}function an(g,A){let J=pt.find(G=>G.price===A).type,L=g[A],ot=g[s[J]];if(L===0||ot===0)return"<p>-</p>";{let G=(L/ot-1)*100;return`<div><p class="${L>=ot?"text-error":"text-success"} tooltip" data-tip="\uC120\uD0DD\uD55C \uAC70\uB798\uC18C\uC640\uC758 \uAC00\uACA9\uCC28\uC774\uC785\uB2C8\uB2E4.">${G.toFixed(3)}%</p></div>`}}function Q(g,A,J=!1){let L=pt.find(G=>G.price===s[g]).network,ot=pt.find(G=>G.price===A).network;J&&L!==ot&&(yt[L].disconnect(),yt[ot].connect()),De(Ds,s[g]=A,s),e(15,It[g]=ot,It),ye("selectedSite",JSON.stringify(s)),ye("selectedNetwork",JSON.stringify(It))}function ki(g,A){pt.filter(L=>L.price===s.krw||L.price===s.usd).find(L=>L.network===g)||(n[g]?(A.disconnect(),console.log(o),pt.forEach(L=>{L.network===g&&(console.log(g,o[L.network]),De(Et,o[L.network]=!1,o))})):(A.connect(),pt.forEach(L=>{L.network===g&&(console.log(g,o[L.network]),De(Et,o[L.network]=!0,o))}),console.log(ie)),ye("exchangeStatus",JSON.stringify(o)))}function Kt(){Object.entries(h).forEach(([g,A])=>{!A.show||(De(Dt,h[g].show=!1,h),we(g,!0))}),ye("coin",JSON.stringify(h))}function Di(g,A){De(Dt,h[g].show=!A,h),Pi(),we(g,A),ye("coin",JSON.stringify(h))}function we(g,A){Object.entries(o).map(([J,L])=>{if(!L)return;let ot=pt.filter(it=>it.network===J),G=r.find(it=>it.name===g);ot.forEach(it=>{!A&&it.network!=="mexc"&&G[it.name]!==""?yt[J].addCoin(G[it.name]):A&&it.network!=="mexc"&&G[it.name]!==""&&yt[J].deleteCoin(G[it.name])})})}function _e(g){V.selected===g?e(4,V.asc=!V.asc,V):(e(4,V.selected=g,V),e(4,V.asc=!1,V));let A={default:U?"arrow-dark.png":"arrow.png",up:U?"arrow-up-dark.png":"arrow-up.png",down:U?"arrow-down-dark.png":"arrow-down.png"};e(4,V=P(T({},V),{coin:g==="coin"?V.asc?A.up:A.down:A.default,currency:g==="currency"?V.asc?A.up:A.down:A.default,upbitVolume:g==="upbitVolume"?V.asc?A.up:A.down:A.default}))}let Mi={bithumb:"\uBE57\uC378",upbit:"\uC5C5\uBE44\uD2B8",binance\uD604\uBB3C:"binance SPOT",binance\uC120\uBB3C:"binance FUTURE",ftx:"FTX",bybit:"BYBIT SPOT",bybitPerp:"BYBIT FUTURE",okx:"OKX",mexc:"MEXC"};el(async()=>{ne()});function Vt(){U=this.checked,e(1,U)}const Ft=g=>Ct.changeTimeSetting(g.target.dataset.title),ln=g=>Ct.changeTimeSetting(g.target.dataset.title),Oe=g=>Ct.changeTimeSetting(g.target.dataset.title),Ue=g=>Ct.changeTimeSetting(g.target.dataset.title),xi=g=>Ct.changeTimeSetting(g.target.dataset.title),un=g=>g.price===s.krw,Le=g=>g.price===s.usd,Ne=g=>e(11,ae=!ae),Ci=()=>Q("krw","bithumbPrice",!0),cn=()=>Q("krw","upbitPrice",!0),Jt=()=>Q("usd","binanceSpotPrice",!0),ue=()=>Q("usd","ftxSpotPrice",!0),Be=()=>Q("usd","okxSpotPrice",!0),pn=()=>Q("usd","binancePerpPrice",!0),Te=()=>Q("usd","ftxPerpPrice",!0),ce=()=>Q("usd","bybitPerpPrice",!0),fn=()=>Q("usd","okxPerpPrice",!0),We=()=>Q("usd","mexcPerpPrice",!0),dn=(g,A,J)=>ki(g,A),pe=g=>Kt(),bn=(g,A,J)=>Di(g,A.show),Xe=g=>yp(),vn=g=>_e("coin"),fe=g=>_e("currency"),ze=g=>_e("upbitVolume"),yn=g=>Q(g.type,g.price);return i.$$.update=()=>{i.$$.dirty[0]&2&&e(4,V={selected:"default",asc:!0,coin:U?"arrow-dark.png":"arrow.png",currency:U?"arrow-dark.png":"arrow.png",upbitVolume:U?"arrow-dark.png":"arrow.png"}),i.$$.dirty[0]&536871165&&(j(e(2,q=or(Dt,g=>g.BTC[s.krw]/g.BTC[s.usd]))),H(e(3,R=or([Dt,q],([g,A])=>Object.entries(g).map(([J,L])=>{let ot,G,it=L[s.krw]/L[s.usd],Ie=it/vt*100-100;return!isFinite(it)||isNaN(it)||it===0?(ot="0",G="-"):(ot=`${it.toFixed(1).toLocaleString("ko-KR")}`,G=`${Ie.toFixed(3)}%`,e(29,F=G>q?"text-error":"text-success")),P(T({},L),{coin:J,kimp:G,currency:ot,kimpHigh:F})})))),Rt(e(8,K=or(R,g=>g.sort(function(J,L){let ot=V.asc?1:-1;return V.selected==="default"?J.id-L.id:V.selected==="coin"?V.asc?J.coin.localeCompare(L.coin):L.coin.localeCompare(J.coin):(parseInt(J[V.selected])-parseInt(L[V.selected]))*ot})))),e(9,Y=pt.filter(g=>g.price===s.krw||g.price===s.usd)),e(10,ie=pt.filter(g=>g.price!==s.krw&&g.price!==s.usd&&n[g.network])))},e(13,Ot={show:0,max:0}),e(14,yt={bithumb:on,upbit:Re,binance\uD604\uBB3C:Ti,binance\uC120\uBB3C:nn,ftx:sn,bybit:Ae,bybitPerp:rn,okx:Se,mexc:le}),e(5,pt=[{network:"bithumb",name:"bithumb",show:!0,type:"krw",price:"bithumbPrice",img:"./bithumb.png",imgDark:"./bithumb_dark.png"},{network:"upbit",name:"upbit",show:!0,type:"krw",price:"upbitPrice",img:"./upbit.png",imgDark:"./upbit_dark.png"},{network:"binance\uD604\uBB3C",name:"binanceSpot",show:!0,type:"usd",price:"binanceSpotPrice",img:"./binance_spot.png",imgDark:"./binance_spot.png"},{network:"binance\uC120\uBB3C",name:"binancePerp",show:!0,type:"usd",price:"binancePerpPrice",img:"./binance_perp.png",imgDark:"./binance_perp.png"},{network:"ftx",name:"ftxSpot",show:!0,type:"usd",price:"ftxSpotPrice",img:"./ftx_spot.png",imgDark:"./ftx_spot_dark.png"},{network:"ftx",name:"ftxPerp",show:!0,type:"usd",price:"ftxPerpPrice",img:"./ftx_perp.png",imgDark:"./ftx_perp_dark.png"},{network:"bybit",name:"bybit",show:!0,type:"usd",price:"bybitSpotPrice",img:"./bybit_spot.png",imgDark:"./bybit_spot_dark.png"},{network:"bybitPerp",name:"bybitPerp",show:!0,type:"usd",price:"bybitPerpPrice",img:"./bybit.png",imgDark:"./bybit_dark.png"},{network:"okx",name:"okxSpot",show:!0,type:"usd",price:"okxSpotPrice",img:"./okx_spot.png",imgDark:"./okx_spot_dark.png"},{network:"okx",name:"okxPerp",show:!0,type:"usd",price:"okxPerpPrice",img:"./okx_perp.png",imgDark:"./okx_perp_dark.png"},{network:"mexc",name:"mexcPerp",show:!0,type:"usd",price:"mexcPerpPrice",img:"./mexc.png",imgDark:"./mexc_dark.png"}]),[vt,U,q,R,V,pt,n,s,K,Y,ie,ae,Ct,Ot,yt,It,o,h,N,rt,dt,se,an,Q,ki,Kt,Di,_e,Mi,F,Vt,Ft,ln,Oe,Ue,xi,un,Le,Ne,Ci,cn,Jt,ue,Be,pn,Te,ce,fn,We,dn,pe,bn,Xe,vn,fe,ze,yn]}class gp extends cl{constructor(t){super();ul(this,t,mp,vp,ra,{},null,[-1,-1,-1,-1])}}new gp({target:document.body});
